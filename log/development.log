  [1m[35m (53.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2025-09-29 13:56:45 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/alexandr/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-7.1.5.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/alexandr/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-7.1.5.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 3.0ms | Allocations: 377)
Completed 200 OK in 100ms (Views: 16.5ms | ActiveRecord: 0.0ms | Allocations: 4958)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started GET "/" for 127.0.0.1 at 2025-09-29 14:17:54 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/alexandr/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-7.1.5.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/alexandr/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/railties-7.1.5.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.5ms | Allocations: 377)
Completed 200 OK in 17ms (Views: 8.3ms | ActiveRecord: 0.0ms | Allocations: 3214)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: great-shrimps-invite.loca.lt, great-shrimps-invite.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: great-shrimps-invite.loca.lt, great-shrimps-invite.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: great-shrimps-invite.loca.lt, great-shrimps-invite.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: great-shrimps-invite.loca.lt, great-shrimps-invite.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: great-shrimps-invite.loca.lt, great-shrimps-invite.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: great-shrimps-invite.loca.lt, great-shrimps-invite.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: great-shrimps-invite.loca.lt, great-shrimps-invite.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: great-shrimps-invite.loca.lt, great-shrimps-invite.loca.lt
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: busy-hairs-wonder.loca.lt, busy-hairs-wonder.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: busy-hairs-wonder.loca.lt, busy-hairs-wonder.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: busy-hairs-wonder.loca.lt, busy-hairs-wonder.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: busy-hairs-wonder.loca.lt, busy-hairs-wonder.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: busy-hairs-wonder.loca.lt, busy-hairs-wonder.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: busy-hairs-wonder.loca.lt, busy-hairs-wonder.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: busy-hairs-wonder.loca.lt, busy-hairs-wonder.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: busy-hairs-wonder.loca.lt, busy-hairs-wonder.loca.lt
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: busy-hairs-wonder.loca.lt, busy-hairs-wonder.loca.lt
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: ripe-mangos-drive.loca.lt, ripe-mangos-drive.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: ripe-mangos-drive.loca.lt, ripe-mangos-drive.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: ripe-mangos-drive.loca.lt, ripe-mangos-drive.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: ripe-mangos-drive.loca.lt, ripe-mangos-drive.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: ripe-mangos-drive.loca.lt, ripe-mangos-drive.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: ripe-mangos-drive.loca.lt, ripe-mangos-drive.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: ripe-mangos-drive.loca.lt, ripe-mangos-drive.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: ripe-mangos-drive.loca.lt, ripe-mangos-drive.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: ripe-mangos-drive.loca.lt, ripe-mangos-drive.loca.lt
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: thick-toys-punch.loca.lt, thick-toys-punch.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: thick-toys-punch.loca.lt, thick-toys-punch.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: thick-toys-punch.loca.lt, thick-toys-punch.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: thick-toys-punch.loca.lt, thick-toys-punch.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: thick-toys-punch.loca.lt, thick-toys-punch.loca.lt
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: curly-buttons-fall.loca.lt, curly-buttons-fall.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: curly-buttons-fall.loca.lt, curly-buttons-fall.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: curly-buttons-fall.loca.lt, curly-buttons-fall.loca.lt
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: spotty-chicken-listen.loca.lt, spotty-chicken-listen.loca.lt
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: dull-rules-teach.loca.lt, dull-rules-teach.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: dull-rules-teach.loca.lt, dull-rules-teach.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: dull-rules-teach.loca.lt, dull-rules-teach.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: dull-rules-teach.loca.lt, dull-rules-teach.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: dull-rules-teach.loca.lt, dull-rules-teach.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: dull-rules-teach.loca.lt, dull-rules-teach.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: dull-rules-teach.loca.lt, dull-rules-teach.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: dull-rules-teach.loca.lt, dull-rules-teach.loca.lt
[ActionDispatch::HostAuthorization::DefaultResponseApp] Blocked hosts: dull-rules-teach.loca.lt, dull-rules-teach.loca.lt
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:03:26 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 48ms (ActiveRecord: 0.0ms | Allocations: 12078)


  
NoMethodError (undefined method `api' for #<Telegram::Bot::Client#12780()>):
  
app/controllers/telegram_webhooks_controller.rb:8:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:03:30 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 222)


  
NoMethodError (undefined method `api' for #<Telegram::Bot::Client#13160()>):
  
app/controllers/telegram_webhooks_controller.rb:8:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:03:35 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 220)


  
NoMethodError (undefined method `api' for #<Telegram::Bot::Client#13380()>):
  
app/controllers/telegram_webhooks_controller.rb:8:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:03:44 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 220)


  
NoMethodError (undefined method `api' for #<Telegram::Bot::Client#13600()>):
  
app/controllers/telegram_webhooks_controller.rb:8:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:04:01 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 219)


  
NoMethodError (undefined method `api' for #<Telegram::Bot::Client#13840()>):
  
app/controllers/telegram_webhooks_controller.rb:8:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:04:34 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 219)


  
NoMethodError (undefined method `api' for #<Telegram::Bot::Client#14080()>):
  
app/controllers/telegram_webhooks_controller.rb:8:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:05:40 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 1685ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 13667)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:07:49 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315071, "message"=>{"message_id"=>2, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142128, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 1239ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 13648)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:07:51 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315072, "message"=>{"message_id"=>3, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142300, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315072, "message"=>{"message_id"=>3, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142300, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 1696ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 1075)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:07:53 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315073, "message"=>{"message_id"=>4, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142355, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315073, "message"=>{"message_id"=>4, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142355, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 495ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1056)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:07:53 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315074, "message"=>{"message_id"=>5, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142752, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315074, "message"=>{"message_id"=>5, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142752, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 814ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1059)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:07:55 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315075, "message"=>{"message_id"=>6, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142826, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315075, "message"=>{"message_id"=>6, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759142826, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 935ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1052)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:07:56 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315076, "message"=>{"message_id"=>7, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759143525, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315076, "message"=>{"message_id"=>7, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759143525, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 653ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 1051)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:07:57 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315077, "message"=>{"message_id"=>8, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759147409, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315077, "message"=>{"message_id"=>8, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759147409, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 808ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1055)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:07:58 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315078, "message"=>{"message_id"=>9, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759147524, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315078, "message"=>{"message_id"=>9, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759147524, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 650ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 1052)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:08:00 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315079, "message"=>{"message_id"=>11, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759147571, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315079, "message"=>{"message_id"=>11, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759147571, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 1904ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1056)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:08:04 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315080, "message"=>{"message_id"=>12, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759147628, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315080, "message"=>{"message_id"=>12, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759147628, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 659ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1052)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:10:27 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315081, "message"=>{"message_id"=>23, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759147826, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315081, "message"=>{"message_id"=>23, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759147826, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 2852ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1080)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 17:10:36 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315082, "message"=>{"message_id"=>25, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759147834, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315082, "message"=>{"message_id"=>25, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759147834, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
Completed 200 OK in 1457ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1012)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (86.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-29 14:46:31.441266', '2025-09-29 14:46:31.441273') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250929144526)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "telegram_id" integer, "first_name" varchar, "last_name" varchar, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_telegram_id" ON "users" ("telegram_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250929144526') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTests (20250929144539)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "tests" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250929144539') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateQuestions (20250929144549)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "questions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "test_id" integer NOT NULL, "text" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_cb4b358d50"
FOREIGN KEY ("test_id")
  REFERENCES "tests" ("id")
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_questions_on_test_id" ON "questions" ("test_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250929144549') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateAnswerOptions (20250929144603)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "answer_options" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "question_id" integer NOT NULL, "text" varchar, "value" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_4d660e1508"
FOREIGN KEY ("question_id")
  REFERENCES "questions" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_answer_options_on_question_id" ON "answer_options" ("question_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250929144603') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTestResults (20250929144613)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "test_results" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "test_id" integer NOT NULL, "score" integer, "completed_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_592dda5024"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b56923d317"
FOREIGN KEY ("test_id")
  REFERENCES "tests" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_test_results_on_user_id" ON "test_results" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_test_results_on_test_id" ON "test_results" ("test_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250929144613') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateAnswers (20250929144621)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "answers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "test_result_id" integer NOT NULL, "question_id" integer NOT NULL, "answer_option_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_81e5dda97e"
FOREIGN KEY ("test_result_id")
  REFERENCES "test_results" ("id")
, CONSTRAINT "fk_rails_3d5ed4418f"
FOREIGN KEY ("question_id")
  REFERENCES "questions" ("id")
, CONSTRAINT "fk_rails_08b3e6cd40"
FOREIGN KEY ("answer_option_id")
  REFERENCES "answer_options" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_answers_on_test_result_id" ON "answers" ("test_result_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_answers_on_question_id" ON "answers" ("question_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_answers_on_answer_option_id" ON "answers" ("answer_option_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250929144621') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Create (2.6ms)[0m  [1m[32mINSERT INTO "users" ("telegram_id", "first_name", "last_name", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["telegram_id", 123456789], ["first_name", "Test"], ["last_name", "User"], ["username", "testuser"], ["created_at", "2025-09-29 14:57:19.543641"], ["updated_at", "2025-09-29 14:57:19.543641"]]
  [1m[36mTRANSACTION (58.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTest Create (3.0ms)[0m  [1m[32mINSERT INTO "tests" ("name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ñ‚ÐµÑÑ‚Ð°"], ["description", "Ð­Ñ‚Ð¾ Ð¿Ñ€Ð¸Ð¼ÐµÑ€ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ñ‚ÐµÑÑ‚Ð°."], ["created_at", "2025-09-29 14:57:19.674486"], ["updated_at", "2025-09-29 14:57:19.674486"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (4.6ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "ÐšÐ°Ðº Ð²Ñ‹ ÑÐµÐ±Ñ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÐµÑ‚Ðµ ÑÐµÐ³Ð¾Ð´Ð½Ñ?"], ["created_at", "2025-09-29 14:57:19.750534"], ["updated_at", "2025-09-29 14:57:19.750534"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾"], ["value", 0], ["created_at", "2025-09-29 14:57:19.789617"], ["updated_at", "2025-09-29 14:57:19.789617"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.7ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "Ð¥Ð¾Ñ€Ð¾ÑˆÐ¾"], ["value", 1], ["created_at", "2025-09-29 14:57:19.801790"], ["updated_at", "2025-09-29 14:57:19.801790"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "ÐÐ¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾"], ["value", 2], ["created_at", "2025-09-29 14:57:19.812587"], ["updated_at", "2025-09-29 14:57:19.812587"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (5.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "ÐŸÐ»Ð¾Ñ…Ð¾"], ["value", 3], ["created_at", "2025-09-29 14:57:19.821258"], ["updated_at", "2025-09-29 14:57:19.821258"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.0ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð§Ñ‚Ð¾ Ð²Ñ‹ Ð¿Ð»Ð°Ð½Ð¸Ñ€ÑƒÐµÑ‚Ðµ Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ð²ÐµÑ‡ÐµÑ€Ð¾Ð¼?"], ["created_at", "2025-09-29 14:57:19.875004"], ["updated_at", "2025-09-29 14:57:19.875004"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 2], ["text", "ÐžÑ‚Ð´Ñ‹Ñ…Ð°Ñ‚ÑŒ"], ["value", 0], ["created_at", "2025-09-29 14:57:19.881689"], ["updated_at", "2025-09-29 14:57:19.881689"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 2], ["text", "Ð Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ"], ["value", 1], ["created_at", "2025-09-29 14:57:19.887478"], ["updated_at", "2025-09-29 14:57:19.887478"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (1.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 2], ["text", "Ð—Ð°Ð½Ð¸Ð¼Ð°Ñ‚ÑŒÑÑ ÑÐ¿Ð¾Ñ€Ñ‚Ð¾Ð¼"], ["value", 2], ["created_at", "2025-09-29 14:57:19.893532"], ["updated_at", "2025-09-29 14:57:19.893532"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:10:37 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315083, "message"=>{"message_id"=>27, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759155969, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315083, "message"=>{"message_id"=>27, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759155969, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (15.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mUser Create (30.3ms)[0m  [1m[32mINSERT INTO "users" ("telegram_id", "first_name", "last_name", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["telegram_id", 617053577], ["first_name", "Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²"], ["last_name", "ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€"], ["username", "larchenkovad"], ["created_at", "2025-09-29 15:10:38.079765"], ["updated_at", "2025-09-29 15:10:38.079765"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTRANSACTION (11.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
Completed 200 OK in 826ms (Views: 0.5ms | ActiveRecord: 68.7ms | Allocations: 32950)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:10:52 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315084, "message"=>{"message_id"=>29, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158651, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315084, "message"=>{"message_id"=>29, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158651, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
Completed 200 OK in 400ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 1616)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:10:55 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315085, "message"=>{"message_id"=>31, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158655, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315085, "message"=>{"message_id"=>31, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158655, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
Completed 200 OK in 558ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1548)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:11:20 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315086, "message"=>{"message_id"=>33, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158679, "text"=>"/test", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315086, "message"=>{"message_id"=>33, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158679, "text"=>"/test", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
Completed 200 OK in 390ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 1416)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:11:25 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315087, "message"=>{"message_id"=>35, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158685, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315087, "message"=>{"message_id"=>35, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158685, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (24.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests"[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:18:in `map'
Completed 200 OK in 517ms (Views: 0.3ms | ActiveRecord: 26.0ms | Allocations: 7893)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:11:40 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315088, "message"=>{"message_id"=>37, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158699, "text"=>"/start_test", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315088, "message"=>{"message_id"=>37, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158699, "text"=>"/start_test", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
Completed 200 OK in 406ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1414)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:11:46 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315089, "message"=>{"message_id"=>39, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158706, "text"=>"/start_test", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315089, "message"=>{"message_id"=>39, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158706, "text"=>"/start_test", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
Completed 200 OK in 358ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1395)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:12:51 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315090, "message"=>{"message_id"=>41, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158771, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315090, "message"=>{"message_id"=>41, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158771, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests"[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:18:in `map'
Completed 200 OK in 469ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 1886)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:15:31 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:52:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTestResult Create (2.3ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:15:31.547769"], ["updated_at", "2025-09-29 15:15:31.547769"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:67:in `send_question'
  [1m[36mAnswerOption Load (33.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:75:in `map'
Completed 500 Internal Server Error in 883ms (ActiveRecord: 42.4ms | Allocations: 59545)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:76:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:75:in `map'
app/controllers/telegram_webhooks_controller.rb:75:in `send_question'
app/controllers/telegram_webhooks_controller.rb:58:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:15:34 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:52:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTestResult Create (9.3ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:15:34.652266"], ["updated_at", "2025-09-29 15:15:34.652266"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:67:in `send_question'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:75:in `map'
Completed 500 Internal Server Error in 449ms (ActiveRecord: 11.5ms | Allocations: 5134)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:76:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:75:in `map'
app/controllers/telegram_webhooks_controller.rb:75:in `send_question'
app/controllers/telegram_webhooks_controller.rb:58:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:15:38 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:52:in `start_test'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTestResult Create (6.7ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:15:38.362434"], ["updated_at", "2025-09-29 15:15:38.362434"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:67:in `send_question'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:75:in `map'
Completed 500 Internal Server Error in 413ms (ActiveRecord: 8.7ms | Allocations: 5116)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:76:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:75:in `map'
app/controllers/telegram_webhooks_controller.rb:75:in `send_question'
app/controllers/telegram_webhooks_controller.rb:58:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:15:43 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:52:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTestResult Create (3.0ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:15:43.965505"], ["updated_at", "2025-09-29 15:15:43.965505"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:67:in `send_question'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:75:in `map'
Completed 500 Internal Server Error in 382ms (ActiveRecord: 5.1ms | Allocations: 5116)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:76:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:75:in `map'
app/controllers/telegram_webhooks_controller.rb:75:in `send_question'
app/controllers/telegram_webhooks_controller.rb:58:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:15:53 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:52:in `start_test'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTestResult Create (4.9ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:15:53.735791"], ["updated_at", "2025-09-29 15:15:53.735791"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:67:in `send_question'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:75:in `map'
Completed 500 Internal Server Error in 434ms (ActiveRecord: 6.8ms | Allocations: 5101)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:76:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:75:in `map'
app/controllers/telegram_webhooks_controller.rb:75:in `send_question'
app/controllers/telegram_webhooks_controller.rb:58:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:16:11 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:52:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTestResult Create (3.0ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:16:11.502696"], ["updated_at", "2025-09-29 15:16:11.502696"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:67:in `send_question'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:75:in `map'
Completed 500 Internal Server Error in 372ms (ActiveRecord: 4.3ms | Allocations: 5097)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:76:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:75:in `map'
app/controllers/telegram_webhooks_controller.rb:75:in `send_question'
app/controllers/telegram_webhooks_controller.rb:58:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:16:48 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:52:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTestResult Create (4.9ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:16:48.111874"], ["updated_at", "2025-09-29 15:16:48.111874"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:67:in `send_question'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:75:in `map'
Completed 500 Internal Server Error in 359ms (ActiveRecord: 6.3ms | Allocations: 5100)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:76:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:75:in `map'
app/controllers/telegram_webhooks_controller.rb:75:in `send_question'
app/controllers/telegram_webhooks_controller.rb:58:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:17:57 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:52:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTestResult Create (1.9ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:17:57.020003"], ["updated_at", "2025-09-29 15:17:57.020003"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:67:in `send_question'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:75:in `map'
Completed 500 Internal Server Error in 485ms (ActiveRecord: 4.2ms | Allocations: 5098)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:76:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:75:in `map'
app/controllers/telegram_webhooks_controller.rb:75:in `send_question'
app/controllers/telegram_webhooks_controller.rb:58:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:20:07 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:52:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTestResult Create (1.9ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:20:07.450393"], ["updated_at", "2025-09-29 15:20:07.450393"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:62:in `send_question'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:70:in `map'
Completed 500 Internal Server Error in 711ms (ActiveRecord: 9.4ms | Allocations: 57113)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:71:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:70:in `map'
app/controllers/telegram_webhooks_controller.rb:70:in `send_question'
app/controllers/telegram_webhooks_controller.rb:58:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:20:09 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:52:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTestResult Create (4.1ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:20:09.406925"], ["updated_at", "2025-09-29 15:20:09.406925"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:62:in `send_question'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:70:in `map'
Completed 500 Internal Server Error in 547ms (ActiveRecord: 6.9ms | Allocations: 5133)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:71:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:70:in `map'
app/controllers/telegram_webhooks_controller.rb:70:in `send_question'
app/controllers/telegram_webhooks_controller.rb:58:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:20:13 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:52:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTestResult Create (7.3ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:20:13.186705"], ["updated_at", "2025-09-29 15:20:13.186705"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:62:in `send_question'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:70:in `map'
Completed 500 Internal Server Error in 374ms (ActiveRecord: 9.3ms | Allocations: 5117)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:71:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:70:in `map'
app/controllers/telegram_webhooks_controller.rb:70:in `send_question'
app/controllers/telegram_webhooks_controller.rb:58:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:20:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:52:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTestResult Create (4.4ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:20:18.756313"], ["updated_at", "2025-09-29 15:20:18.756313"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:62:in `send_question'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:70:in `map'
Completed 500 Internal Server Error in 364ms (ActiveRecord: 6.3ms | Allocations: 5119)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:71:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:70:in `map'
app/controllers/telegram_webhooks_controller.rb:70:in `send_question'
app/controllers/telegram_webhooks_controller.rb:58:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:20:28 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:52:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTestResult Create (1.8ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:20:28.428517"], ["updated_at", "2025-09-29 15:20:28.428517"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:62:in `send_question'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:70:in `map'
Completed 500 Internal Server Error in 413ms (ActiveRecord: 3.2ms | Allocations: 5097)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:71:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:70:in `map'
app/controllers/telegram_webhooks_controller.rb:70:in `send_question'
app/controllers/telegram_webhooks_controller.rb:58:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:20:46 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:52:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTestResult Create (3.0ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:20:46.116923"], ["updated_at", "2025-09-29 15:20:46.116923"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:55:in `start_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:62:in `send_question'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:70:in `map'
Completed 500 Internal Server Error in 405ms (ActiveRecord: 4.4ms | Allocations: 5098)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:71:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:70:in `map'
app/controllers/telegram_webhooks_controller.rb:70:in `send_question'
app/controllers/telegram_webhooks_controller.rb:58:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:22:06 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTestResult Create (1.9ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:22:07.172502"], ["updated_at", "2025-09-29 15:22:07.172502"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:60:in `send_question'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:68:in `map'
Completed 500 Internal Server Error in 634ms (ActiveRecord: 9.4ms | Allocations: 57122)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:69:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:68:in `map'
app/controllers/telegram_webhooks_controller.rb:68:in `send_question'
app/controllers/telegram_webhooks_controller.rb:57:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:22:47 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTestResult Create (9.3ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:22:47.433920"], ["updated_at", "2025-09-29 15:22:47.433920"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:60:in `send_question'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:68:in `map'
Completed 500 Internal Server Error in 407ms (ActiveRecord: 11.0ms | Allocations: 5138)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:69:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:68:in `map'
app/controllers/telegram_webhooks_controller.rb:68:in `send_question'
app/controllers/telegram_webhooks_controller.rb:57:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:22:48 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTestResult Create (4.0ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:22:48.936629"], ["updated_at", "2025-09-29 15:22:48.936629"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:60:in `send_question'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:68:in `map'
Completed 500 Internal Server Error in 379ms (ActiveRecord: 6.0ms | Allocations: 5116)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:69:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:68:in `map'
app/controllers/telegram_webhooks_controller.rb:68:in `send_question'
app/controllers/telegram_webhooks_controller.rb:57:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:22:52 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTestResult Create (3.8ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:22:52.262866"], ["updated_at", "2025-09-29 15:22:52.262866"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:60:in `send_question'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:68:in `map'
Completed 500 Internal Server Error in 344ms (ActiveRecord: 5.2ms | Allocations: 5117)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:69:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:68:in `map'
app/controllers/telegram_webhooks_controller.rb:68:in `send_question'
app/controllers/telegram_webhooks_controller.rb:57:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:22:57 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `start_test'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTestResult Create (8.2ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:22:57.867600"], ["updated_at", "2025-09-29 15:22:57.867600"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:60:in `send_question'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:68:in `map'
Completed 500 Internal Server Error in 382ms (ActiveRecord: 9.9ms | Allocations: 5116)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:69:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:68:in `map'
app/controllers/telegram_webhooks_controller.rb:68:in `send_question'
app/controllers/telegram_webhooks_controller.rb:57:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:23:07 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTestResult Create (1.8ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:23:07.682546"], ["updated_at", "2025-09-29 15:23:07.682546"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:60:in `send_question'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:68:in `map'
Completed 500 Internal Server Error in 369ms (ActiveRecord: 3.3ms | Allocations: 5097)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:69:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:68:in `map'
app/controllers/telegram_webhooks_controller.rb:68:in `send_question'
app/controllers/telegram_webhooks_controller.rb:57:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:23:25 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTestResult Create (2.3ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:23:25.242257"], ["updated_at", "2025-09-29 15:23:25.242257"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:60:in `send_question'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:68:in `map'
Completed 500 Internal Server Error in 431ms (ActiveRecord: 3.6ms | Allocations: 5102)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:69:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:68:in `map'
app/controllers/telegram_webhooks_controller.rb:68:in `send_question'
app/controllers/telegram_webhooks_controller.rb:57:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:26:03 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTestResult Create (2.6ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:26:03.603110"], ["updated_at", "2025-09-29 15:26:03.603110"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:61:in `send_question'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:69:in `map'
Completed 500 Internal Server Error in 707ms (ActiveRecord: 13.3ms | Allocations: 57114)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:70:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:69:in `map'
app/controllers/telegram_webhooks_controller.rb:69:in `send_question'
app/controllers/telegram_webhooks_controller.rb:57:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:27:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTestResult Create (1.7ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:27:18.188959"], ["updated_at", "2025-09-29 15:27:18.188959"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:61:in `send_question'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:69:in `map'
Completed 500 Internal Server Error in 368ms (ActiveRecord: 2.9ms | Allocations: 5115)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:70:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:69:in `map'
app/controllers/telegram_webhooks_controller.rb:69:in `send_question'
app/controllers/telegram_webhooks_controller.rb:57:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:27:20 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.9ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTestResult Create (3.7ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:27:20.246568"], ["updated_at", "2025-09-29 15:27:20.246568"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:61:in `send_question'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:69:in `map'
Completed 500 Internal Server Error in 396ms (ActiveRecord: 6.2ms | Allocations: 5123)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:70:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:69:in `map'
app/controllers/telegram_webhooks_controller.rb:69:in `send_question'
app/controllers/telegram_webhooks_controller.rb:57:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:27:25 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTestResult Create (3.8ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:27:25.531391"], ["updated_at", "2025-09-29 15:27:25.531391"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:61:in `send_question'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:69:in `map'
Completed 500 Internal Server Error in 394ms (ActiveRecord: 5.3ms | Allocations: 5116)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:70:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:69:in `map'
app/controllers/telegram_webhooks_controller.rb:69:in `send_question'
app/controllers/telegram_webhooks_controller.rb:57:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:27:35 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTestResult Create (7.7ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:27:35.959707"], ["updated_at", "2025-09-29 15:27:35.959707"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:61:in `send_question'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:69:in `map'
Completed 500 Internal Server Error in 396ms (ActiveRecord: 11.8ms | Allocations: 5116)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:70:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:69:in `map'
app/controllers/telegram_webhooks_controller.rb:69:in `send_question'
app/controllers/telegram_webhooks_controller.rb:57:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:27:46 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:6:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:22:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTestResult Create (2.1ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:27:46.381356"], ["updated_at", "2025-09-29 15:27:46.381356"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:54:in `start_test'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:61:in `send_question'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:69:in `map'
Completed 500 Internal Server Error in 466ms (ActiveRecord: 4.0ms | Allocations: 5101)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:70:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:69:in `map'
app/controllers/telegram_webhooks_controller.rb:69:in `send_question'
app/controllers/telegram_webhooks_controller.rb:57:in `start_test'
app/controllers/telegram_webhooks_controller.rb:26:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:28:15 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:24:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:53:in `start_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:56:in `start_test'
  [1m[36mTestResult Create (2.2ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:28:16.010129"], ["updated_at", "2025-09-29 15:28:16.010129"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:56:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:56:in `start_test'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:63:in `send_question'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:71:in `map'
Completed 500 Internal Server Error in 751ms (ActiveRecord: 10.9ms | Allocations: 57117)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:72:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:71:in `map'
app/controllers/telegram_webhooks_controller.rb:71:in `send_question'
app/controllers/telegram_webhooks_controller.rb:59:in `start_test'
app/controllers/telegram_webhooks_controller.rb:28:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:28:49 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:24:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:53:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:56:in `start_test'
  [1m[36mTestResult Create (3.7ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:28:49.782712"], ["updated_at", "2025-09-29 15:28:49.782712"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:56:in `start_test'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:56:in `start_test'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:63:in `send_question'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:71:in `map'
Completed 500 Internal Server Error in 459ms (ActiveRecord: 5.3ms | Allocations: 5135)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:72:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:71:in `map'
app/controllers/telegram_webhooks_controller.rb:71:in `send_question'
app/controllers/telegram_webhooks_controller.rb:59:in `start_test'
app/controllers/telegram_webhooks_controller.rb:28:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:29:55 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
  [1m[36mTest Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:24:in `message'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:53:in `start_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:56:in `start_test'
  [1m[36mTestResult Create (3.0ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 1], ["score", 0], ["completed_at", nil], ["created_at", "2025-09-29 15:29:55.404981"], ["updated_at", "2025-09-29 15:29:55.404981"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:56:in `start_test'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:56:in `start_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ? OFFSET ?[0m  [["test_id", 1], ["LIMIT", 1], ["OFFSET", 0]]
  â†³ app/controllers/telegram_webhooks_controller.rb:63:in `send_question'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:71:in `map'
Completed 500 Internal Server Error in 412ms (ActiveRecord: 4.3ms | Allocations: 5097)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:72:in `block in send_question'
app/controllers/telegram_webhooks_controller.rb:71:in `map'
app/controllers/telegram_webhooks_controller.rb:71:in `send_question'
app/controllers/telegram_webhooks_controller.rb:59:in `start_test'
app/controllers/telegram_webhooks_controller.rb:28:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:31:41 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:24:in `message'
Completed 500 Internal Server Error in 128ms (ActiveRecord: 3.6ms | Allocations: 32761)


  
NoMethodError (undefined method `start_test' for #<TelegramWebhooksController:0x00000000006680>):
  
app/controllers/telegram_webhooks_controller.rb:28:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:31:43 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:24:in `message'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.5ms | Allocations: 1111)


  
NoMethodError (undefined method `start_test' for #<TelegramWebhooksController:0x00000000006928>):
  
app/controllers/telegram_webhooks_controller.rb:28:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:31:46 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:24:in `message'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.7ms | Allocations: 1103)


  
NoMethodError (undefined method `start_test' for #<TelegramWebhooksController:0x00000000006b08>):
  
app/controllers/telegram_webhooks_controller.rb:28:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:31:51 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:24:in `message'
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.6ms | Allocations: 1103)


  
NoMethodError (undefined method `start_test' for #<TelegramWebhooksController:0x00000000006cc0>):
  
app/controllers/telegram_webhooks_controller.rb:28:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:32:00 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
  [1m[36mTest Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:24:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 1090)


  
NoMethodError (undefined method `start_test' for #<TelegramWebhooksController:0x00000000006e78>):
  
app/controllers/telegram_webhooks_controller.rb:28:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:32:17 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:24:in `message'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.9ms | Allocations: 1103)


  
NoMethodError (undefined method `start_test' for #<TelegramWebhooksController:0x00000000007058>):
  
app/controllers/telegram_webhooks_controller.rb:28:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:32:50 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315091, "message"=>{"message_id"=>43, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158929, "text"=>"/start_test 1", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 521ms (Views: 0.4ms | ActiveRecord: 2.3ms | Allocations: 7069)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:32:51 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315092, "message"=>{"message_id"=>50, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158980, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315092, "message"=>{"message_id"=>50, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759158980, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 441ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1395)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:32:51 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315093, "message"=>{"message_id"=>51, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159003, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315093, "message"=>{"message_id"=>51, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159003, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 343ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1526)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:32:52 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315094, "message"=>{"message_id"=>54, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159169, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315094, "message"=>{"message_id"=>54, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159169, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 323ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1524)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:32:52 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315095, "message"=>{"message_id"=>58, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159218, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315095, "message"=>{"message_id"=>58, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159218, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 403ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1528)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:32:53 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315096, "message"=>{"message_id"=>61, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159244, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315096, "message"=>{"message_id"=>61, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159244, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 442ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1544)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:32:54 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315097, "message"=>{"message_id"=>67, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159377, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315097, "message"=>{"message_id"=>67, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159377, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 409ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1523)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:32:54 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315098, "message"=>{"message_id"=>72, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159595, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315098, "message"=>{"message_id"=>72, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159595, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 378ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1523)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:32:55 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315099, "message"=>{"message_id"=>79, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159727, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315099, "message"=>{"message_id"=>79, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159727, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 405ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1524)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:32:56 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315100, "message"=>{"message_id"=>82, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159910, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315100, "message"=>{"message_id"=>82, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159910, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 474ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 1523)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:32:56 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315101, "message"=>{"message_id"=>83, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159964, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315101, "message"=>{"message_id"=>83, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159964, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 434ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1523)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:33:04 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315102, "message"=>{"message_id"=>95, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159984, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315102, "message"=>{"message_id"=>95, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159984, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 336ms (Views: 0.3ms | ActiveRecord: 0.4ms | Allocations: 1531)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:33:09 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315103, "message"=>{"message_id"=>97, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159989, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315103, "message"=>{"message_id"=>97, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759159989, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 345ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1393)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:46:51 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 50ms (ActiveRecord: 0.0ms | Allocations: 12077)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:18:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:46:53 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 222)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:18:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:46:56 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 220)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:18:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:47:02 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 220)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:18:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:47:12 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 220)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:18:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:47:29 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 219)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:18:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:48:03 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 219)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:18:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:49:09 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 56ms (ActiveRecord: 0.0ms | Allocations: 12077)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:18:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:50:16 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 58ms (ActiveRecord: 0.0ms | Allocations: 12080)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:18:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:50:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 222)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:18:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:50:21 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 220)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:18:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:50:27 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 220)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:18:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:52:21 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315104, "message"=>{"message_id"=>99, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160811, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 58ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 12117)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:52:21 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315105, "message"=>{"message_id"=>100, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160959, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315105, "message"=>{"message_id"=>100, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160959, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 168)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:52:22 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315106, "message"=>{"message_id"=>101, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160982, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315106, "message"=>{"message_id"=>101, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759160982, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 165)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:52:31 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315107, "message"=>{"message_id"=>102, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759161151, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315107, "message"=>{"message_id"=>102, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759161151, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 165)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:54:54 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315108, "message"=>{"message_id"=>103, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759161294, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315108, "message"=>{"message_id"=>103, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759161294, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 164)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:58:05 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315109, "message"=>{"message_id"=>104, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759161485, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315109, "message"=>{"message_id"=>104, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759161485, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 56ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 12024)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 20:58:59 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315110, "message"=>{"message_id"=>105, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759161539, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315110, "message"=>{"message_id"=>105, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759161539, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 169)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 21:00:05 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315111, "message"=>{"message_id"=>106, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759161605, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315111, "message"=>{"message_id"=>106, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759161605, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 49ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 12024)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 21:02:10 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315112, "message"=>{"message_id"=>107, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759161670, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315112, "message"=>{"message_id"=>107, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759161670, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 166)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-29 21:02:11 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315113, "message"=>{"message_id"=>108, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759161688, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315113, "message"=>{"message_id"=>108, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759161688, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 168)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started GET "/telegram_webhooks/message" for 149.154.161.214 at 2025-09-30 11:36:09 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/telegram_webhooks/message"):
  
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started GET "/telegram_webhooks/message" for 149.154.161.232 at 2025-09-30 11:41:22 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/telegram_webhooks/message"):
  
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-30 11:47:31 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315114, "message"=>{"message_id"=>109, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759214851, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315114, "message"=>{"message_id"=>109, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759214851, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 200 OK in 367ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 11363)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-09-30 11:47:34 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315115, "message"=>{"message_id"=>111, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759214854, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315115, "message"=>{"message_id"=>111, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759214854, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
Completed 200 OK in 307ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1011)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:27:04 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315116, "message"=>{"message_id"=>113, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300023, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315116, "message"=>{"message_id"=>113, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300023, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (24.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 728ms (Views: 0.3ms | ActiveRecord: 34.4ms | Allocations: 28514)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:27:13 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315117, "message"=>{"message_id"=>115, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300032, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315117, "message"=>{"message_id"=>115, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300032, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 472ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1546)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:27:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 757)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:27:20 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 728)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:27:22 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 715)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:27:28 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 727)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:27:37 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 715)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:27:54 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 715)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:28:28 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 715)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:29:33 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 715)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:34:49 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 214ms (ActiveRecord: 3.5ms | Allocations: 26956)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:34:53 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 732)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:34:56 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 727)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:35:01 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 727)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:35:10 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 715)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:35:28 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 715)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:51:25 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 161ms (ActiveRecord: 2.4ms | Allocations: 26973)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:51:27 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 732)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:51:30 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 727)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:51:35 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 727)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:51:44 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 715)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:52:01 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 727)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:52:34 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 715)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 11:53:39 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 715)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:15:50 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315118, "message"=>{"message_id"=>117, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300037, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 622ms (Views: 0.4ms | ActiveRecord: 6.3ms | Allocations: 33753)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:15:52 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315119, "message"=>{"message_id"=>118, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300070, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315119, "message"=>{"message_id"=>118, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300070, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 475ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1370)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:15:53 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms | Allocations: 763)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:21:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:15:54 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 734)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:21:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:15:58 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.5ms | Allocations: 733)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:21:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:16:04 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 721)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:21:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:16:13 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms | Allocations: 721)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:21:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:50:38 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 70ms (ActiveRecord: 0.0ms | Allocations: 11985)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:46:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:14:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:50:40 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 226)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:46:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:14:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:50:44 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 224)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:46:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:14:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:50:49 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 224)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:46:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:14:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:50:59 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 223)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:46:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:14:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:51:16 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 224)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:46:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:14:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:51:50 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 223)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:46:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:14:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:54:51 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 60ms (ActiveRecord: 0.0ms | Allocations: 11986)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:46:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:14:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:54:53 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 226)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:46:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:14:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:54:57 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 224)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:46:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:14:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:55:03 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 224)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:46:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:14:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:55:12 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 223)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:46:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:14:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:55:30 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 223)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:46:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:14:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:56:04 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 223)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:46:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:14:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:57:22 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315120, "message"=>{"message_id"=>119, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300456, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 945ms (Views: 0.3ms | ActiveRecord: 4.5ms | Allocations: 28500)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:57:24 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315121, "message"=>{"message_id"=>120, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300496, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315121, "message"=>{"message_id"=>120, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759300496, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 854ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1546)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:57:25 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315122, "message"=>{"message_id"=>121, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759301497, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315122, "message"=>{"message_id"=>121, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759301497, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 752ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1542)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:57:26 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315123, "message"=>{"message_id"=>122, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759301543, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315123, "message"=>{"message_id"=>122, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759301543, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 901ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1539)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:57:27 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315124, "message"=>{"message_id"=>123, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759302923, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315124, "message"=>{"message_id"=>123, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759302923, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 757ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 1545)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:57:29 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315125, "message"=>{"message_id"=>126, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759302961, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315125, "message"=>{"message_id"=>126, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759302961, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 502ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1524)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:57:30 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315126, "message"=>{"message_id"=>127, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759305056, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315126, "message"=>{"message_id"=>127, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759305056, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 505ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1394)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:57:31 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315127, "message"=>{"message_id"=>128, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759305390, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315127, "message"=>{"message_id"=>128, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759305390, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 740ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1524)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:57:32 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315128, "message"=>{"message_id"=>129, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759305409, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315128, "message"=>{"message_id"=>129, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759305409, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 734ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1539)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:57:49 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315129, "message"=>{"message_id"=>139, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759305469, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315129, "message"=>{"message_id"=>139, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759305469, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 958ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1394)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 12:57:52 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315130, "message"=>{"message_id"=>141, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759305472, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315130, "message"=>{"message_id"=>141, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759305472, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 654ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1548)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:29:57 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 78ms (ActiveRecord: 2.4ms | Allocations: 26958)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:50:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:16:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:29:59 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 736)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:50:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:16:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:30:02 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 731)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:50:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:16:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:30:08 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 731)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:50:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:16:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:30:17 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 731)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:50:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:16:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:30:35 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 719)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:50:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:16:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:31:08 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 719)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:50:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:16:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:38:01 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 224ms (ActiveRecord: 2.8ms | Allocations: 26958)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:50:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:16:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:38:03 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 736)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:50:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:16:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:38:06 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 731)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:50:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:16:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:44:41 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 103ms (ActiveRecord: 3.4ms | Allocations: 27126)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:44:43 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 740)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:44:47 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 735)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:44:52 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 735)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:45:03 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 723)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:45:21 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 723)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:45:54 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 735)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:48:13 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 103ms (ActiveRecord: 2.7ms | Allocations: 27047)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:48:15 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 740)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:48:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 735)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:48:24 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 735)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:48:34 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 723)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:48:51 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 723)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:49:25 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 723)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:51:25 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 98ms (ActiveRecord: 2.5ms | Allocations: 27045)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:51:27 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 740)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:51:30 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 735)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:51:35 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 735)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:51:45 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:7:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 723)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/services/telegram_service.rb:26:in `build_inline_button'
app/controllers/telegram_webhooks_controller.rb:48:in `send_menu'
app/controllers/telegram_webhooks_controller.rb:15:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:53:30 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315131, "message"=>{"message_id"=>143, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307397, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 977ms (Views: 0.4ms | ActiveRecord: 3.6ms | Allocations: 28369)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:53:32 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315132, "message"=>{"message_id"=>144, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307443, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315132, "message"=>{"message_id"=>144, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307443, "text"=>"/menu", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 661ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1414)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:53:33 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315133, "message"=>{"message_id"=>145, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307467, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315133, "message"=>{"message_id"=>145, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759307467, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 905ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1540)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 13:53:34 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315134, "message"=>{"message_id"=>146, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759308698, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315134, "message"=>{"message_id"=>146, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759308698, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 648ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1542)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:00:02 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NoMethodError (undefined method `run' for Telegram::Bot::Client:Class):
  
app/controllers/telegram_webhooks_controller.rb:5:in `<main>'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:00:04 +0500
  
NoMethodError (undefined method `run' for Telegram::Bot::Client:Class):
  
app/controllers/telegram_webhooks_controller.rb:5:in `<main>'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:00:07 +0500
  
NoMethodError (undefined method `run' for Telegram::Bot::Client:Class):
  
app/controllers/telegram_webhooks_controller.rb:5:in `<main>'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:00:22 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315135, "message"=>{"message_id"=>151, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309202, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315135, "message"=>{"message_id"=>151, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309202, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 1056ms (Views: 0.4ms | ActiveRecord: 3.1ms | Allocations: 28498)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:05:46 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 306ms (ActiveRecord: 10.2ms | Allocations: 26961)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:20:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:05:48 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 737)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:20:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:05:52 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 732)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:20:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:05:57 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 732)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:20:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:06:07 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 732)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:20:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:06:26 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 720)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:20:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:07:02 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 720)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:20:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:08:09 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 720)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:20:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:09:55 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms | Allocations: 720)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:20:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:11:21 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 720)


  
NameError (uninitialized constant Telegram::Bot::Types):
  
app/controllers/telegram_webhooks_controller.rb:20:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:13:12 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:9:in `message'
Completed 500 Internal Server Error in 97ms (ActiveRecord: 3.3ms | Allocations: 27103)


  
NoMethodError (undefined method `api' for #<Telegram::Bot::Client#13220()>):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:13:13 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:9:in `message'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 765)


  
NoMethodError (undefined method `api' for #<Telegram::Bot::Client#13560()>):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:13:16 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:9:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 760)


  
NoMethodError (undefined method `api' for #<Telegram::Bot::Client#13780()>):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:13:22 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:9:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 760)


  
NoMethodError (undefined method `api' for #<Telegram::Bot::Client#14000()>):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:13:31 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:9:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 747)


  
NoMethodError (undefined method `api' for #<Telegram::Bot::Client#14240()>):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:14:40 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:9:in `message'
Completed 500 Internal Server Error in 118ms (ActiveRecord: 3.4ms | Allocations: 27103)


  
NoMethodError (undefined method `api' for #<Telegram::Bot::Client#13160()>):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:15:14 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:9:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 765)


  
NoMethodError (undefined method `api' for #<Telegram::Bot::Client#13540()>):
  
app/controllers/telegram_webhooks_controller.rb:22:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:17:13 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315136, "message"=>{"message_id"=>153, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309544, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 786ms (Views: 0.3ms | ActiveRecord: 2.9ms | Allocations: 28500)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:17:14 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315137, "message"=>{"message_id"=>154, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309965, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315137, "message"=>{"message_id"=>154, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759309965, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 718ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1546)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:17:15 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315138, "message"=>{"message_id"=>155, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310174, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315138, "message"=>{"message_id"=>155, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310174, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 793ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1542)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:24:10 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 207ms (ActiveRecord: 10.6ms | Allocations: 18250)


  
NoMethodError (undefined method `send_message' for #<Telegram::Bot::Client:0x000072e5dcba0588 @options={:offset=>0, :timeout=>20}, @api=#<Telegram::Bot::Api:0x000072e5dcbca9f0 @token="8332952831:AAH06zZrhKb4rZ0WNiJarTB1Lw6hjmPcj70", @url="https://api.telegram.org", @environment=:production>, @logger=#<Telegram::Bot::NullLogger:0x000072e5dcbce668>>):
  
app/controllers/telegram_webhooks_controller.rb:16:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:24:13 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 642)


  
NoMethodError (undefined method `send_message' for #<Telegram::Bot::Client:0x000072e5dcfe1930 @options={:offset=>0, :timeout=>20}, @api=#<Telegram::Bot::Api:0x000072e5dcfe1700 @token="8332952831:AAH06zZrhKb4rZ0WNiJarTB1Lw6hjmPcj70", @url="https://api.telegram.org", @environment=:production>, @logger=#<Telegram::Bot::NullLogger:0x000072e5dcfe1890>>):
  
app/controllers/telegram_webhooks_controller.rb:16:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:24:17 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms | Allocations: 638)


  
NoMethodError (undefined method `send_message' for #<Telegram::Bot::Client:0x000072e5dc3460b8 @options={:offset=>0, :timeout=>20}, @api=#<Telegram::Bot::Api:0x000072e5dc345fa0 @token="8332952831:AAH06zZrhKb4rZ0WNiJarTB1Lw6hjmPcj70", @url="https://api.telegram.org", @environment=:production>, @logger=#<Telegram::Bot::NullLogger:0x000072e5dc346068>>):
  
app/controllers/telegram_webhooks_controller.rb:16:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:24:22 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 637)


  
NoMethodError (undefined method `send_message' for #<Telegram::Bot::Client:0x000072e5dc64a520 @options={:offset=>0, :timeout=>20}, @api=#<Telegram::Bot::Api:0x000072e5dc64a408 @token="8332952831:AAH06zZrhKb4rZ0WNiJarTB1Lw6hjmPcj70", @url="https://api.telegram.org", @environment=:production>, @logger=#<Telegram::Bot::NullLogger:0x000072e5dc64a4d0>>):
  
app/controllers/telegram_webhooks_controller.rb:16:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:24:32 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 625)


  
NoMethodError (undefined method `send_message' for #<Telegram::Bot::Client:0x000072e5dd2da9c0 @options={:offset=>0, :timeout=>20}, @api=#<Telegram::Bot::Api:0x000072e5dd2da768 @token="8332952831:AAH06zZrhKb4rZ0WNiJarTB1Lw6hjmPcj70", @url="https://api.telegram.org", @environment=:production>, @logger=#<Telegram::Bot::NullLogger:0x000072e5dd2da948>>):
  
app/controllers/telegram_webhooks_controller.rb:16:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:24:50 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 637)


  
NoMethodError (undefined method `send_message' for #<Telegram::Bot::Client:0x000072e5dc2d4d28 @options={:offset=>0, :timeout=>20}, @api=#<Telegram::Bot::Api:0x000072e5dc2d4c10 @token="8332952831:AAH06zZrhKb4rZ0WNiJarTB1Lw6hjmPcj70", @url="https://api.telegram.org", @environment=:production>, @logger=#<Telegram::Bot::NullLogger:0x000072e5dc2d4cd8>>):
  
app/controllers/telegram_webhooks_controller.rb:16:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:25:23 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.6ms | Allocations: 625)


  
NoMethodError (undefined method `send_message' for #<Telegram::Bot::Client:0x000072e5dc28c618 @options={:offset=>0, :timeout=>20}, @api=#<Telegram::Bot::Api:0x000072e5dc28c500 @token="8332952831:AAH06zZrhKb4rZ0WNiJarTB1Lw6hjmPcj70", @url="https://api.telegram.org", @environment=:production>, @logger=#<Telegram::Bot::NullLogger:0x000072e5dc28c5c8>>):
  
app/controllers/telegram_webhooks_controller.rb:16:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:26:35 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 1136ms (ActiveRecord: 3.1ms | Allocations: 169871)


  
Faraday::SSLError (SSL_connect returned=1 errno=0 peeraddr=149.154.167.220:443 state=error: certificate verify failed (self signed certificate in certificate chain)):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:26:38 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 381ms (ActiveRecord: 0.2ms | Allocations: 1951)


  
Faraday::SSLError (SSL_connect returned=1 errno=0 peeraddr=149.154.167.220:443 state=error: certificate verify failed (self signed certificate in certificate chain)):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:26:42 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 423ms (ActiveRecord: 0.2ms | Allocations: 1908)


  
Faraday::SSLError (SSL_connect returned=1 errno=0 peeraddr=149.154.167.220:443 state=error: certificate verify failed (self signed certificate in certificate chain)):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:26:48 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 330ms (ActiveRecord: 0.2ms | Allocations: 1907)


  
Faraday::SSLError (SSL_connect returned=1 errno=0 peeraddr=149.154.167.220:443 state=error: certificate verify failed (self signed certificate in certificate chain)):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:26:58 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 321ms (ActiveRecord: 0.2ms | Allocations: 1891)


  
Faraday::SSLError (SSL_connect returned=1 errno=0 peeraddr=149.154.167.220:443 state=error: certificate verify failed (self signed certificate in certificate chain)):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:27:16 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 500 Internal Server Error in 337ms (ActiveRecord: 0.2ms | Allocations: 1891)


  
Faraday::SSLError (SSL_connect returned=1 errno=0 peeraddr=149.154.167.220:443 state=error: certificate verify failed (self signed certificate in certificate chain)):
  
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:28:19 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 820ms (Views: 0.3ms | ActiveRecord: 4.3ms | Allocations: 28504)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:28:45 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315139, "message"=>{"message_id"=>159, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310650, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 603ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1545)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:28:49 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315140, "message"=>{"message_id"=>162, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310929, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315140, "message"=>{"message_id"=>162, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310929, "text"=>"/tests", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 888ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1409)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:28:52 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315141, "message"=>{"message_id"=>164, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310932, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315141, "message"=>{"message_id"=>164, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310932, "text"=>"/help", "entities"=>[{"offset"=>0, "length"=>5, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 793ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1562)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:28:56 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315142, "message"=>{"message_id"=>166, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310935, "text"=>"/start_test", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315142, "message"=>{"message_id"=>166, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310935, "text"=>"/start_test", "entities"=>[{"offset"=>0, "length"=>11, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 1010ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1414)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:29:00 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315143, "message"=>{"message_id"=>168, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310939, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315143, "message"=>{"message_id"=>168, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759310939, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:8:in `message'
Completed 200 OK in 654ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1524)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:33:45 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315144, "message"=>{"message_id"=>170, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311224, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315144, "message"=>{"message_id"=>170, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311224, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:10:in `message'
Completed 200 OK in 1198ms (Views: 0.4ms | ActiveRecord: 2.5ms | Allocations: 28587)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:33:51 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315145, "callback_query"=>{"id"=>"2650224936861837828", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>171, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311226, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}, "telegram_webhook"=>{"update_id"=>165315145, "callback_query"=>{"id"=>"2650224936861837828", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>171, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311226, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 252)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:8:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:33:52 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315145, "callback_query"=>{"id"=>"2650224936861837828", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>171, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311226, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}, "telegram_webhook"=>{"update_id"=>165315145, "callback_query"=>{"id"=>"2650224936861837828", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>171, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311226, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 217)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:8:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:33:56 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315145, "callback_query"=>{"id"=>"2650224936861837828", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>171, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311226, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}, "telegram_webhook"=>{"update_id"=>165315145, "callback_query"=>{"id"=>"2650224936861837828", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>171, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311226, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}}}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 216)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:8:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:34:01 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315145, "callback_query"=>{"id"=>"2650224936861837828", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>171, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311226, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}, "telegram_webhook"=>{"update_id"=>165315145, "callback_query"=>{"id"=>"2650224936861837828", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>171, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311226, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 215)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:8:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:34:11 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315145, "callback_query"=>{"id"=>"2650224936861837828", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>171, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311226, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}, "telegram_webhook"=>{"update_id"=>165315145, "callback_query"=>{"id"=>"2650224936861837828", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>171, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311226, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 215)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:8:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:36:00 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315146, "message"=>{"message_id"=>172, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311359, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315146, "message"=>{"message_id"=>172, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311359, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 1055ms (Views: 0.3ms | ActiveRecord: 6.8ms | Allocations: 28603)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:36:01 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315145, "callback_query"=>{"id"=>"2650224936861837828", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>171, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311226, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}, "telegram_webhook"=>{"update_id"=>165315145, "callback_query"=>{"id"=>"2650224936861837828", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>171, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311226, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}}}
Completed 200 OK in 599ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 1021)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:36:06 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315147, "message"=>{"message_id"=>175, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311366, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315147, "message"=>{"message_id"=>175, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311366, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 1100ms (Views: 0.3ms | ActiveRecord: 0.2ms | Allocations: 1599)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:36:10 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315148, "callback_query"=>{"id"=>"2650224934784178984", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>176, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311367, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}, "telegram_webhook"=>{"update_id"=>165315148, "callback_query"=>{"id"=>"2650224934784178984", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>176, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311367, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}}}
Completed 200 OK in 877ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1015)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-01 14:36:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315149, "callback_query"=>{"id"=>"2650224936862429826", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>176, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311367, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"tests"}, "telegram_webhook"=>{"update_id"=>165315149, "callback_query"=>{"id"=>"2650224936862429826", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>176, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759311367, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"tests"}}}
Completed 200 OK in 939ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 938)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 15:48:41 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315150, "message"=>{"message_id"=>179, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759402076, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315150, "message"=>{"message_id"=>179, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759402076, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (7.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 1150ms (Views: 0.3ms | ActiveRecord: 9.5ms | Allocations: 28587)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 15:48:50 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315151, "callback_query"=>{"id"=>"2650224936116815909", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>180, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759402122, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}, "telegram_webhook"=>{"update_id"=>165315151, "callback_query"=>{"id"=>"2650224936116815909", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>180, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759402122, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}}}
Completed 200 OK in 325ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1050)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 15:48:57 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315152, "callback_query"=>{"id"=>"2650224936874599515", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>180, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759402122, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"tests"}, "telegram_webhook"=>{"update_id"=>165315152, "callback_query"=>{"id"=>"2650224936874599515", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>180, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759402122, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"tests"}}}
Completed 200 OK in 599ms (Views: 3.5ms | ActiveRecord: 0.0ms | Allocations: 935)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (13.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? AND "tests"."description" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["description", "ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ‚ÐµÑÑ‚ Ð´Ð»Ñ Ð¾Ñ†ÐµÐ½ÐºÐ¸ ÑƒÑ€Ð¾Ð²Ð½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸."], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTest Create (0.3ms)[0m  [1m[32mINSERT INTO "tests" ("name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["description", "ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ‚ÐµÑÑ‚ Ð´Ð»Ñ Ð¾Ñ†ÐµÐ½ÐºÐ¸ ÑƒÑ€Ð¾Ð²Ð½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸."], ["created_at", "2025-10-02 11:07:37.763668"], ["updated_at", "2025-10-02 11:07:37.763668"]]
  [1m[36mTRANSACTION (92.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾."], ["part", 1], ["LIMIT", 1]]
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddPartToQuestions (20251002110910)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "questions" ADD "part" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251002110910') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? AND "tests"."description" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["description", "ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ‚ÐµÑÑ‚ Ð´Ð»Ñ Ð¾Ñ†ÐµÐ½ÐºÐ¸ ÑƒÑ€Ð¾Ð²Ð½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸."], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾."], ["part", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (5.0ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾."], ["created_at", "2025-10-02 11:09:50.789424"], ["updated_at", "2025-10-02 11:09:50.789424"], ["part", 1]]
  [1m[36mTRANSACTION (80.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ."], ["part", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.6ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ."], ["created_at", "2025-10-02 11:09:50.885465"], ["updated_at", "2025-10-02 11:09:50.885465"], ["part", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼."], ["part", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.6ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼."], ["created_at", "2025-10-02 11:09:50.900088"], ["updated_at", "2025-10-02 11:09:50.900088"], ["part", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸."], ["part", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (6.0ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸."], ["created_at", "2025-10-02 11:09:50.916133"], ["updated_at", "2025-10-02 11:09:50.916133"], ["part", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸."], ["part", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (6.7ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸."], ["created_at", "2025-10-02 11:09:50.938184"], ["updated_at", "2025-10-02 11:09:50.938184"], ["part", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ."], ["part", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (4.8ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ."], ["created_at", "2025-10-02 11:09:50.958394"], ["updated_at", "2025-10-02 11:09:50.958394"], ["part", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ."], ["part", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.4ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ."], ["created_at", "2025-10-02 11:09:51.044485"], ["updated_at", "2025-10-02 11:09:51.044485"], ["part", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹)."], ["part", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.7ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹)."], ["created_at", "2025-10-02 11:09:51.058798"], ["updated_at", "2025-10-02 11:09:51.058798"], ["part", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹."], ["part", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.2ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹."], ["created_at", "2025-10-02 11:09:51.073844"], ["updated_at", "2025-10-02 11:09:51.073844"], ["part", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ."], ["part", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.3ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ."], ["created_at", "2025-10-02 11:09:51.088227"], ["updated_at", "2025-10-02 11:09:51.088227"], ["part", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹."], ["part", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (4.0ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹."], ["created_at", "2025-10-02 11:09:51.102945"], ["updated_at", "2025-10-02 11:09:51.102945"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼."], ["part", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (4.1ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼."], ["created_at", "2025-10-02 11:09:51.117949"], ["updated_at", "2025-10-02 11:09:51.117949"], ["part", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹."], ["part", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.4ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹."], ["created_at", "2025-10-02 11:09:51.134227"], ["updated_at", "2025-10-02 11:09:51.134227"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ."], ["part", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.3ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ."], ["created_at", "2025-10-02 11:09:51.148965"], ["updated_at", "2025-10-02 11:09:51.148965"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸."], ["part", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (4.0ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸."], ["created_at", "2025-10-02 11:09:51.163162"], ["updated_at", "2025-10-02 11:09:51.163162"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸."], ["part", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.7ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸."], ["created_at", "2025-10-02 11:09:51.176303"], ["updated_at", "2025-10-02 11:09:51.176303"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ."], ["part", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.5ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ."], ["created_at", "2025-10-02 11:09:51.189766"], ["updated_at", "2025-10-02 11:09:51.189766"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸."], ["part", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.2ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸."], ["created_at", "2025-10-02 11:09:51.203073"], ["updated_at", "2025-10-02 11:09:51.203073"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ."], ["part", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.3ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ."], ["created_at", "2025-10-02 11:09:51.216157"], ["updated_at", "2025-10-02 11:09:51.216157"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ."], ["part", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.5ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ."], ["created_at", "2025-10-02 11:09:51.228786"], ["updated_at", "2025-10-02 11:09:51.228786"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions"[0m
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:09:51.303062"], ["updated_at", "2025-10-02 11:09:51.303062"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:09:51.318413"], ["updated_at", "2025-10-02 11:09:51.318413"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:09:51.332311"], ["updated_at", "2025-10-02 11:09:51.332311"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:09:51.345690"], ["updated_at", "2025-10-02 11:09:51.345690"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 2], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:09:51.358613"], ["updated_at", "2025-10-02 11:09:51.358613"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 2], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:09:51.371719"], ["updated_at", "2025-10-02 11:09:51.371719"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 2], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:09:51.384636"], ["updated_at", "2025-10-02 11:09:51.384636"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 2], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:09:51.397387"], ["updated_at", "2025-10-02 11:09:51.397387"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 11:09:51.409383"], ["updated_at", "2025-10-02 11:09:51.409383"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 11:09:51.421840"], ["updated_at", "2025-10-02 11:09:51.421840"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 11:09:51.434682"], ["updated_at", "2025-10-02 11:09:51.434682"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 11:09:51.447734"], ["updated_at", "2025-10-02 11:09:51.447734"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 11:09:51.460888"], ["updated_at", "2025-10-02 11:09:51.460888"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 11:09:51.476114"], ["updated_at", "2025-10-02 11:09:51.476114"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 11:09:51.491324"], ["updated_at", "2025-10-02 11:09:51.491324"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 11:09:51.505304"], ["updated_at", "2025-10-02 11:09:51.505304"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 11:09:51.519790"], ["updated_at", "2025-10-02 11:09:51.519790"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 11:09:51.533608"], ["updated_at", "2025-10-02 11:09:51.533608"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 11:09:51.547044"], ["updated_at", "2025-10-02 11:09:51.547044"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.7ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 11:09:51.559586"], ["updated_at", "2025-10-02 11:09:51.559586"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 11:09:51.574119"], ["updated_at", "2025-10-02 11:09:51.574119"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 11:09:51.587446"], ["updated_at", "2025-10-02 11:09:51.587446"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 11:09:51.600646"], ["updated_at", "2025-10-02 11:09:51.600646"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 11:09:51.614634"], ["updated_at", "2025-10-02 11:09:51.614634"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 11:09:51.627710"], ["updated_at", "2025-10-02 11:09:51.627710"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 11:09:51.640453"], ["updated_at", "2025-10-02 11:09:51.640453"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 11:09:51.654179"], ["updated_at", "2025-10-02 11:09:51.654179"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 11:09:51.668458"], ["updated_at", "2025-10-02 11:09:51.668458"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 11:09:51.683529"], ["updated_at", "2025-10-02 11:09:51.683529"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 11:09:51.697630"], ["updated_at", "2025-10-02 11:09:51.697630"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 11:09:51.712134"], ["updated_at", "2025-10-02 11:09:51.712134"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 11:09:51.725245"], ["updated_at", "2025-10-02 11:09:51.725245"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 11:09:51.739059"], ["updated_at", "2025-10-02 11:09:51.739059"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 11:09:51.752667"], ["updated_at", "2025-10-02 11:09:51.752667"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 11:09:51.766841"], ["updated_at", "2025-10-02 11:09:51.766841"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 11:09:51.780441"], ["updated_at", "2025-10-02 11:09:51.780441"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 11:09:51.793689"], ["updated_at", "2025-10-02 11:09:51.793689"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 11:09:51.806736"], ["updated_at", "2025-10-02 11:09:51.806736"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 11:09:51.819838"], ["updated_at", "2025-10-02 11:09:51.819838"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 11:09:51.833130"], ["updated_at", "2025-10-02 11:09:51.833130"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 11:09:51.846350"], ["updated_at", "2025-10-02 11:09:51.846350"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 11:09:51.859424"], ["updated_at", "2025-10-02 11:09:51.859424"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (6.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 11:09:51.872033"], ["updated_at", "2025-10-02 11:09:51.872033"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.7ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 11:09:51.887350"], ["updated_at", "2025-10-02 11:09:51.887350"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 11:09:51.901799"], ["updated_at", "2025-10-02 11:09:51.901799"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 11:09:51.916162"], ["updated_at", "2025-10-02 11:09:51.916162"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 11:09:51.929485"], ["updated_at", "2025-10-02 11:09:51.929485"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 11:09:51.942187"], ["updated_at", "2025-10-02 11:09:51.942187"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 13], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:09:51.955415"], ["updated_at", "2025-10-02 11:09:51.955415"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 13], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:09:51.968203"], ["updated_at", "2025-10-02 11:09:51.968203"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 13], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:09:51.981002"], ["updated_at", "2025-10-02 11:09:51.981002"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 13], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:09:51.994249"], ["updated_at", "2025-10-02 11:09:51.994249"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 14], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:09:52.007771"], ["updated_at", "2025-10-02 11:09:52.007771"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 14], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:09:52.020362"], ["updated_at", "2025-10-02 11:09:52.020362"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 14], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:09:52.033746"], ["updated_at", "2025-10-02 11:09:52.033746"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 14], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:09:52.047662"], ["updated_at", "2025-10-02 11:09:52.047662"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (6.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 15], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:09:52.059892"], ["updated_at", "2025-10-02 11:09:52.059892"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (5.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 15], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:09:52.075019"], ["updated_at", "2025-10-02 11:09:52.075019"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 15], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:09:52.089107"], ["updated_at", "2025-10-02 11:09:52.089107"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 15], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:09:52.103321"], ["updated_at", "2025-10-02 11:09:52.103321"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.7ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 16], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:09:52.118338"], ["updated_at", "2025-10-02 11:09:52.118338"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 16], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:09:52.131609"], ["updated_at", "2025-10-02 11:09:52.131609"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 16], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:09:52.144034"], ["updated_at", "2025-10-02 11:09:52.144034"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 16], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:09:52.157150"], ["updated_at", "2025-10-02 11:09:52.157150"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 17], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:09:52.170877"], ["updated_at", "2025-10-02 11:09:52.170877"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 17], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:09:52.183976"], ["updated_at", "2025-10-02 11:09:52.183976"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 17], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:09:52.197413"], ["updated_at", "2025-10-02 11:09:52.197413"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 17], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:09:52.209575"], ["updated_at", "2025-10-02 11:09:52.209575"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 18], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:09:52.223197"], ["updated_at", "2025-10-02 11:09:52.223197"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 18], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:09:52.236362"], ["updated_at", "2025-10-02 11:09:52.236362"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 18], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:09:52.250342"], ["updated_at", "2025-10-02 11:09:52.250342"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 18], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:09:52.264999"], ["updated_at", "2025-10-02 11:09:52.264999"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (1.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 19], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:09:52.279743"], ["updated_at", "2025-10-02 11:09:52.279743"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 19], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:09:52.292902"], ["updated_at", "2025-10-02 11:09:52.292902"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 19], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:09:52.306307"], ["updated_at", "2025-10-02 11:09:52.306307"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 19], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:09:52.319545"], ["updated_at", "2025-10-02 11:09:52.319545"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 20], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:09:52.333435"], ["updated_at", "2025-10-02 11:09:52.333435"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 20], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:09:52.345741"], ["updated_at", "2025-10-02 11:09:52.345741"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 20], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:09:52.358010"], ["updated_at", "2025-10-02 11:09:52.358010"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 20], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:09:52.372144"], ["updated_at", "2025-10-02 11:09:52.372144"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 21], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:09:52.385816"], ["updated_at", "2025-10-02 11:09:52.385816"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 21], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:09:52.399683"], ["updated_at", "2025-10-02 11:09:52.399683"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 21], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:09:52.413196"], ["updated_at", "2025-10-02 11:09:52.413196"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 21], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:09:52.425871"], ["updated_at", "2025-10-02 11:09:52.425871"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 22], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:09:52.439066"], ["updated_at", "2025-10-02 11:09:52.439066"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 22], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:09:52.452905"], ["updated_at", "2025-10-02 11:09:52.452905"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 22], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:09:52.468253"], ["updated_at", "2025-10-02 11:09:52.468253"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 22], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:09:52.482163"], ["updated_at", "2025-10-02 11:09:52.482163"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? AND "tests"."description" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["description", "ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ‚ÐµÑÑ‚ Ð´Ð»Ñ Ð¾Ñ†ÐµÐ½ÐºÐ¸ ÑƒÑ€Ð¾Ð²Ð½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸."], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹)."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions"[0m
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:15:04.541030"], ["updated_at", "2025-10-02 11:15:04.541030"]]
  [1m[36mTRANSACTION (52.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.8ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:15:04.607536"], ["updated_at", "2025-10-02 11:15:04.607536"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:15:04.621455"], ["updated_at", "2025-10-02 11:15:04.621455"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:15:04.637246"], ["updated_at", "2025-10-02 11:15:04.637246"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:15:04.652321"], ["updated_at", "2025-10-02 11:15:04.652321"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:15:04.665887"], ["updated_at", "2025-10-02 11:15:04.665887"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (54.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:15:04.685849"], ["updated_at", "2025-10-02 11:15:04.685849"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:15:04.749348"], ["updated_at", "2025-10-02 11:15:04.749348"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:15:04.762834"], ["updated_at", "2025-10-02 11:15:04.762834"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:15:04.776162"], ["updated_at", "2025-10-02 11:15:04.776162"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:15:04.788375"], ["updated_at", "2025-10-02 11:15:04.788375"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:15:04.800576"], ["updated_at", "2025-10-02 11:15:04.800576"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:15:04.813153"], ["updated_at", "2025-10-02 11:15:04.813153"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:15:04.826155"], ["updated_at", "2025-10-02 11:15:04.826155"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:15:04.838392"], ["updated_at", "2025-10-02 11:15:04.838392"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:15:04.851461"], ["updated_at", "2025-10-02 11:15:04.851461"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.7ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:15:04.865619"], ["updated_at", "2025-10-02 11:15:04.865619"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:15:04.880358"], ["updated_at", "2025-10-02 11:15:04.880358"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:15:04.892038"], ["updated_at", "2025-10-02 11:15:04.892038"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:15:04.904044"], ["updated_at", "2025-10-02 11:15:04.904044"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:15:04.916163"], ["updated_at", "2025-10-02 11:15:04.916163"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:15:04.931798"], ["updated_at", "2025-10-02 11:15:04.931798"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:15:04.946195"], ["updated_at", "2025-10-02 11:15:04.946195"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:15:04.959477"], ["updated_at", "2025-10-02 11:15:04.959477"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (5.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:15:04.976939"], ["updated_at", "2025-10-02 11:15:04.976939"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:15:04.996816"], ["updated_at", "2025-10-02 11:15:04.996816"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:15:05.010267"], ["updated_at", "2025-10-02 11:15:05.010267"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:15:05.022308"], ["updated_at", "2025-10-02 11:15:05.022308"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:15:05.034601"], ["updated_at", "2025-10-02 11:15:05.034601"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:15:05.046560"], ["updated_at", "2025-10-02 11:15:05.046560"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:15:05.058346"], ["updated_at", "2025-10-02 11:15:05.058346"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:15:05.069953"], ["updated_at", "2025-10-02 11:15:05.069953"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:15:05.081805"], ["updated_at", "2025-10-02 11:15:05.081805"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (9.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:15:05.093104"], ["updated_at", "2025-10-02 11:15:05.093104"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (6.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:15:05.116366"], ["updated_at", "2025-10-02 11:15:05.116366"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (6.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:15:05.142375"], ["updated_at", "2025-10-02 11:15:05.142375"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 11:15:05.166019"], ["updated_at", "2025-10-02 11:15:05.166019"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 11:15:05.184026"], ["updated_at", "2025-10-02 11:15:05.184026"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 11:15:05.199396"], ["updated_at", "2025-10-02 11:15:05.199396"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (5.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 11:15:05.213576"], ["updated_at", "2025-10-02 11:15:05.213576"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:16:27 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315153, "message"=>{"message_id"=>183, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759403787, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315153, "message"=>{"message_id"=>183, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759403787, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 657ms (Views: 0.4ms | ActiveRecord: 4.5ms | Allocations: 28727)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:16:34 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315154, "callback_query"=>{"id"=>"2650224934980423510", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>184, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759403788, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}, "telegram_webhook"=>{"update_id"=>165315154, "callback_query"=>{"id"=>"2650224934980423510", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>184, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759403788, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}}}
Completed 200 OK in 611ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1025)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:16:39 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315155, "callback_query"=>{"id"=>"2650224934616407422", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>184, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759403788, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"tests"}, "telegram_webhook"=>{"update_id"=>165315155, "callback_query"=>{"id"=>"2650224934616407422", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>184, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759403788, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"tests"}}}
  [1m[36mTest Pluck (0.5ms)[0m  [1m[34mSELECT "tests"."name" FROM "tests"[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
Completed 200 OK in 543ms (Views: 0.3ms | ActiveRecord: 1.2ms | Allocations: 3175)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:16:46 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315156, "callback_query"=>{"id"=>"2650224935913137661", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>184, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759403788, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315156, "callback_query"=>{"id"=>"2650224935913137661", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>184, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759403788, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:79:in `start_anxiety_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:87:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:93:in `map'
Completed 200 OK in 690ms (Views: 0.3ms | ActiveRecord: 4.6ms | Allocations: 27589)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:16:57 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315157, "callback_query"=>{"id"=>"2650224934927520382", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>187, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759403806, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_"}, "telegram_webhook"=>{"update_id"=>165315157, "callback_query"=>{"id"=>"2650224934927520382", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>187, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759403806, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_"}}}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 169)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:17:07 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315158, "callback_query"=>{"id"=>"2650224934464368893", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>187, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759403806, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_17_"}, "telegram_webhook"=>{"update_id"=>165315158, "callback_query"=>{"id"=>"2650224934464368893", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>187, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759403806, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_17_"}}}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 169)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:17:31 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315159, "callback_query"=>{"id"=>"2650224935847959252", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>187, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759403806, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_"}, "telegram_webhook"=>{"update_id"=>165315159, "callback_query"=>{"id"=>"2650224935847959252", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>187, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759403806, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_"}}}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 170)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:22:47 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315160, "message"=>{"message_id"=>188, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404167, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315160, "message"=>{"message_id"=>188, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404167, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 673ms (Views: 0.2ms | ActiveRecord: 4.0ms | Allocations: 28720)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:22:51 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315161, "callback_query"=>{"id"=>"2650224937327450385", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>189, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404168, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}, "telegram_webhook"=>{"update_id"=>165315161, "callback_query"=>{"id"=>"2650224937327450385", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>189, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404168, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}}}
Completed 200 OK in 455ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1021)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:22:53 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315162, "callback_query"=>{"id"=>"2650224936553170848", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>189, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404168, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"tests"}, "telegram_webhook"=>{"update_id"=>165315162, "callback_query"=>{"id"=>"2650224936553170848", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>189, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404168, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"tests"}}}
  [1m[36mTest Pluck (0.3ms)[0m  [1m[34mSELECT "tests"."name" FROM "tests"[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
Completed 200 OK in 694ms (Views: 0.5ms | ActiveRecord: 1.8ms | Allocations: 3175)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:22:59 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315163, "callback_query"=>{"id"=>"2650224933250043407", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>189, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404168, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315163, "callback_query"=>{"id"=>"2650224933250043407", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>189, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404168, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mTest Load (6.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:79:in `start_anxiety_test'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:87:in `start_anxiety_test'
  [1m[36mAnswerOption Load (1.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:93:in `map'
Completed 200 OK in 654ms (Views: 0.3ms | ActiveRecord: 20.0ms | Allocations: 27560)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:23:03 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315164, "callback_query"=>{"id"=>"2650224935882503264", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>192, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404180, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_"}, "telegram_webhook"=>{"update_id"=>165315164, "callback_query"=>{"id"=>"2650224935882503264", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>192, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404180, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_"}}}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 169)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:24:28 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315165, "message"=>{"message_id"=>193, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404267, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315165, "message"=>{"message_id"=>193, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404267, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 402ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 1719)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:24:35 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315166, "callback_query"=>{"id"=>"2650224933288615543", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>194, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404268, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315166, "callback_query"=>{"id"=>"2650224933288615543", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>194, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404268, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:79:in `start_anxiety_test'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:87:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:93:in `map'
Completed 200 OK in 391ms (Views: 0.2ms | ActiveRecord: 1.0ms | Allocations: 3791)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:24:39 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315167, "callback_query"=>{"id"=>"2650224935288500430", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>195, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404275, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_"}, "telegram_webhook"=>{"update_id"=>165315167, "callback_query"=>{"id"=>"2650224935288500430", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>195, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404275, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_"}}}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 169)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:28:23 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315168, "message"=>{"message_id"=>196, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404502, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315168, "message"=>{"message_id"=>196, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404502, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 620ms (Views: 0.4ms | ActiveRecord: 4.1ms | Allocations: 28726)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:28:28 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315169, "callback_query"=>{"id"=>"2650224933495010596", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>197, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404504, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315169, "callback_query"=>{"id"=>"2650224933495010596", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>197, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404504, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
Callback data received: start_anxiety_test
  [1m[36mTest Load (0.9ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:83:in `start_anxiety_test'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:91:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `map'
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_16_"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_17_"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_18_"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_19_"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°","callback_data":"answer_3_96_"}],[{"text":"Ð˜Ð½Ð¾Ð³Ð´Ð°","callback_data":"answer_3_97_"}],[{"text":"Ð§Ð°ÑÑ‚Ð¾","callback_data":"answer_3_98_"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°","callback_data":"answer_3_99_"}]]}
Completed 200 OK in 650ms (Views: 0.4ms | ActiveRecord: 10.5ms | Allocations: 29402)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:28:32 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315170, "callback_query"=>{"id"=>"2650224935332623520", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>198, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404508, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_"}, "telegram_webhook"=>{"update_id"=>165315170, "callback_query"=>{"id"=>"2650224935332623520", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>198, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404508, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_"}}}
Callback data received: answer_3_16_
Unknown callback data: answer_3_16_
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 193)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:32:17 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315171, "message"=>{"message_id"=>199, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404736, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315171, "message"=>{"message_id"=>199, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404736, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 611ms (Views: 0.9ms | ActiveRecord: 4.0ms | Allocations: 28729)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:32:20 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315172, "callback_query"=>{"id"=>"2650224934574258850", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>200, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404738, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315172, "callback_query"=>{"id"=>"2650224934574258850", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>200, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404738, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
Callback data received: start_anxiety_test
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:83:in `start_anxiety_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:91:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `map'
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_16_"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_17_"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_18_"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_19_"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°","callback_data":"answer_3_96_"}],[{"text":"Ð˜Ð½Ð¾Ð³Ð´Ð°","callback_data":"answer_3_97_"}],[{"text":"Ð§Ð°ÑÑ‚Ð¾","callback_data":"answer_3_98_"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°","callback_data":"answer_3_99_"}]]}
Completed 200 OK in 562ms (Views: 0.2ms | ActiveRecord: 6.3ms | Allocations: 29400)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:32:26 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315173, "callback_query"=>{"id"=>"2650224933325591405", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>201, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404741, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_"}, "telegram_webhook"=>{"update_id"=>165315173, "callback_query"=>{"id"=>"2650224933325591405", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>201, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404741, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_"}}}
Callback data received: answer_3_16_
Unknown callback data: answer_3_16_
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 193)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:35:21 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315174, "message"=>{"message_id"=>202, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404883, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315174, "message"=>{"message_id"=>202, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404883, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 461ms (Views: 0.3ms | ActiveRecord: 2.4ms | Allocations: 28719)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:35:26 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315175, "callback_query"=>{"id"=>"2650224937219436888", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>203, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404921, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315175, "callback_query"=>{"id"=>"2650224937219436888", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>203, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404921, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
Callback data received: start_anxiety_test
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:83:in `start_anxiety_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:91:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `map'
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_16_"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_17_"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_18_"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_19_"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°","callback_data":"answer_3_96_"}],[{"text":"Ð˜Ð½Ð¾Ð³Ð´Ð°","callback_data":"answer_3_97_"}],[{"text":"Ð§Ð°ÑÑ‚Ð¾","callback_data":"answer_3_98_"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°","callback_data":"answer_3_99_"}]]}
Completed 200 OK in 729ms (Views: 0.1ms | ActiveRecord: 6.3ms | Allocations: 29406)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:35:29 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315176, "callback_query"=>{"id"=>"2650224934437607027", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>204, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404926, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_"}, "telegram_webhook"=>{"update_id"=>165315176, "callback_query"=>{"id"=>"2650224934437607027", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>204, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759404926, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_"}}}
Callback data received: answer_3_16_
Unknown callback data: answer_3_16_
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 193)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:37:52 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315177, "message"=>{"message_id"=>205, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405071, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315177, "message"=>{"message_id"=>205, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405071, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 694ms (Views: 0.4ms | ActiveRecord: 4.5ms | Allocations: 28719)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:37:54 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315178, "callback_query"=>{"id"=>"2650224936568636914", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>206, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405073, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315178, "callback_query"=>{"id"=>"2650224936568636914", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>206, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405073, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
Callback data received: start_anxiety_test
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:83:in `start_anxiety_test'
TestResult ID: 
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:92:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:100:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_16_
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_17_
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_18_
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_19_
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° - answer_3_96_
Callback data for option: Ð˜Ð½Ð¾Ð³Ð´Ð° - answer_3_97_
Callback data for option: Ð§Ð°ÑÑ‚Ð¾ - answer_3_98_
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð° - answer_3_99_
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_16_"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_17_"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_18_"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_19_"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°","callback_data":"answer_3_96_"}],[{"text":"Ð˜Ð½Ð¾Ð³Ð´Ð°","callback_data":"answer_3_97_"}],[{"text":"Ð§Ð°ÑÑ‚Ð¾","callback_data":"answer_3_98_"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°","callback_data":"answer_3_99_"}]]}
Completed 200 OK in 564ms (Views: 0.2ms | ActiveRecord: 5.8ms | Allocations: 30321)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:37:56 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315179, "callback_query"=>{"id"=>"2650224935369078939", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>207, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405075, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_97_"}, "telegram_webhook"=>{"update_id"=>165315179, "callback_query"=>{"id"=>"2650224935369078939", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>207, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405075, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_97_"}}}
Callback data received: answer_3_97_
Unknown callback data: answer_3_97_
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 193)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:41:18 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315180, "message"=>{"message_id"=>208, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405278, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315180, "message"=>{"message_id"=>208, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405278, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 554ms (Views: 0.3ms | ActiveRecord: 6.2ms | Allocations: 29569)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:41:21 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315181, "callback_query"=>{"id"=>"2650224935762368148", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>209, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405279, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315181, "callback_query"=>{"id"=>"2650224935762368148", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>209, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405279, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
Callback data received: start_anxiety_test
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:83:in `start_anxiety_test'
Test ID: 2
Completed 500 Internal Server Error in 95ms (ActiveRecord: 1.6ms | Allocations: 6016)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:90:in `start_anxiety_test'
app/controllers/telegram_webhooks_controller.rb:60:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:41:24 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315181, "callback_query"=>{"id"=>"2650224935762368148", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>209, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405279, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315181, "callback_query"=>{"id"=>"2650224935762368148", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>209, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405279, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
Callback data received: start_anxiety_test
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:83:in `start_anxiety_test'
Test ID: 2
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 630)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:90:in `start_anxiety_test'
app/controllers/telegram_webhooks_controller.rb:60:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:41:28 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315181, "callback_query"=>{"id"=>"2650224935762368148", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>209, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405279, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315181, "callback_query"=>{"id"=>"2650224935762368148", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>209, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405279, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
Callback data received: start_anxiety_test
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:83:in `start_anxiety_test'
Test ID: 2
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.4ms | Allocations: 628)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:90:in `start_anxiety_test'
app/controllers/telegram_webhooks_controller.rb:60:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:41:33 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315181, "callback_query"=>{"id"=>"2650224935762368148", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>209, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405279, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315181, "callback_query"=>{"id"=>"2650224935762368148", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>209, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405279, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
Callback data received: start_anxiety_test
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:83:in `start_anxiety_test'
Test ID: 2
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.4ms | Allocations: 615)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:90:in `start_anxiety_test'
app/controllers/telegram_webhooks_controller.rb:60:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:41:42 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315181, "callback_query"=>{"id"=>"2650224935762368148", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>209, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405279, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315181, "callback_query"=>{"id"=>"2650224935762368148", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>209, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405279, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
Callback data received: start_anxiety_test
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:83:in `start_anxiety_test'
Test ID: 2
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms | Allocations: 628)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:90:in `start_anxiety_test'
app/controllers/telegram_webhooks_controller.rb:60:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:41:59 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315181, "callback_query"=>{"id"=>"2650224935762368148", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>209, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405279, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315181, "callback_query"=>{"id"=>"2650224935762368148", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>209, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405279, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
Callback data received: start_anxiety_test
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:83:in `start_anxiety_test'
Test ID: 2
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 615)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:90:in `start_anxiety_test'
app/controllers/telegram_webhooks_controller.rb:60:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:42:32 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315181, "callback_query"=>{"id"=>"2650224935762368148", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>209, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405279, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315181, "callback_query"=>{"id"=>"2650224935762368148", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>209, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405279, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
Callback data received: start_anxiety_test
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:83:in `start_anxiety_test'
Test ID: 2
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 615)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/controllers/telegram_webhooks_controller.rb:90:in `start_anxiety_test'
app/controllers/telegram_webhooks_controller.rb:60:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:44:59 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315182, "message"=>{"message_id"=>210, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405499, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315182, "message"=>{"message_id"=>210, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405499, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 547ms (Views: 0.5ms | ActiveRecord: 5.5ms | Allocations: 28725)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:45:03 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315183, "callback_query"=>{"id"=>"2650224934068498797", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>211, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405500, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315183, "callback_query"=>{"id"=>"2650224934068498797", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>211, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405500, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:82:in `start_anxiety_test'
Test ID: 2
User ID: 2
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:92:in `start_anxiety_test'
  [1m[36mTestResult Create (4.6ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 2], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-02 11:45:03.270974"], ["updated_at", "2025-10-02 11:45:03.270974"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:92:in `start_anxiety_test'
  [1m[36mTRANSACTION (48.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:92:in `start_anxiety_test'
TestResult ID: 31
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:94:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:106:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_16_31
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_17_31
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_18_31
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_19_31
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° - answer_3_96_31
Callback data for option: Ð˜Ð½Ð¾Ð³Ð´Ð° - answer_3_97_31
Callback data for option: Ð§Ð°ÑÑ‚Ð¾ - answer_3_98_31
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð° - answer_3_99_31
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_16_31"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_17_31"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_18_31"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_19_31"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°","callback_data":"answer_3_96_31"}],[{"text":"Ð˜Ð½Ð¾Ð³Ð´Ð°","callback_data":"answer_3_97_31"}],[{"text":"Ð§Ð°ÑÑ‚Ð¾","callback_data":"answer_3_98_31"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°","callback_data":"answer_3_99_31"}]]}
Completed 200 OK in 653ms (Views: 0.1ms | ActiveRecord: 60.0ms | Allocations: 32854)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:45:07 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315184, "callback_query"=>{"id"=>"2650224936075803910", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>212, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405503, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_31"}, "telegram_webhook"=>{"update_id"=>165315184, "callback_query"=>{"id"=>"2650224936075803910", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>212, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405503, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_31"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=16, test_result_id=31
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:123:in `process_answer'
  [1m[36mAnswerOption Load (0.9ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:124:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:125:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mAnswer Create (6.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 31], ["question_id", 3], ["answer_option_id", 16], ["created_at", "2025-10-02 11:45:07.674375"], ["updated_at", "2025-10-02 11:45:07.674375"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTest Load (0.9ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:129:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:145:in `map'
Completed 500 Internal Server Error in 112ms (ActiveRecord: 12.0ms | Allocations: 11804)


  
NameError (uninitialized constant Telegram::Bot::Exceptions):
  
app/controllers/telegram_webhooks_controller.rb:152:in `rescue in edit_question'
app/controllers/telegram_webhooks_controller.rb:150:in `edit_question'
app/controllers/telegram_webhooks_controller.rb:135:in `process_answer'
app/controllers/telegram_webhooks_controller.rb:67:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:45:09 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315184, "callback_query"=>{"id"=>"2650224936075803910", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>212, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405503, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_31"}, "telegram_webhook"=>{"update_id"=>165315184, "callback_query"=>{"id"=>"2650224936075803910", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>212, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405503, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_31"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=16, test_result_id=31
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:123:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:124:in `process_answer'
  [1m[36mTestResult Load (0.9ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:125:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mAnswer Create (3.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 31], ["question_id", 3], ["answer_option_id", 16], ["created_at", "2025-10-02 11:45:09.729474"], ["updated_at", "2025-10-02 11:45:09.729474"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:129:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:145:in `map'
Completed 500 Internal Server Error in 42ms (ActiveRecord: 6.6ms | Allocations: 5249)


  
NameError (uninitialized constant Telegram::Bot::Exceptions):
  
app/controllers/telegram_webhooks_controller.rb:152:in `rescue in edit_question'
app/controllers/telegram_webhooks_controller.rb:150:in `edit_question'
app/controllers/telegram_webhooks_controller.rb:135:in `process_answer'
app/controllers/telegram_webhooks_controller.rb:67:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:45:13 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315184, "callback_query"=>{"id"=>"2650224936075803910", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>212, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405503, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_31"}, "telegram_webhook"=>{"update_id"=>165315184, "callback_query"=>{"id"=>"2650224936075803910", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>212, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405503, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_31"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=16, test_result_id=31
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:123:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:124:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:125:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mAnswer Create (4.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 31], ["question_id", 3], ["answer_option_id", 16], ["created_at", "2025-10-02 11:45:13.599335"], ["updated_at", "2025-10-02 11:45:13.599335"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:129:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:145:in `map'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 7.4ms | Allocations: 5228)


  
NameError (uninitialized constant Telegram::Bot::Exceptions):
  
app/controllers/telegram_webhooks_controller.rb:152:in `rescue in edit_question'
app/controllers/telegram_webhooks_controller.rb:150:in `edit_question'
app/controllers/telegram_webhooks_controller.rb:135:in `process_answer'
app/controllers/telegram_webhooks_controller.rb:67:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:45:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315184, "callback_query"=>{"id"=>"2650224936075803910", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>212, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405503, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_31"}, "telegram_webhook"=>{"update_id"=>165315184, "callback_query"=>{"id"=>"2650224936075803910", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>212, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405503, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_31"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=16, test_result_id=31
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:123:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:124:in `process_answer'
  [1m[36mTestResult Load (0.1ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:125:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mAnswer Create (2.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 31], ["question_id", 3], ["answer_option_id", 16], ["created_at", "2025-10-02 11:45:18.978894"], ["updated_at", "2025-10-02 11:45:18.978894"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:129:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:145:in `map'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 3.7ms | Allocations: 5227)


  
NameError (uninitialized constant Telegram::Bot::Exceptions):
  
app/controllers/telegram_webhooks_controller.rb:152:in `rescue in edit_question'
app/controllers/telegram_webhooks_controller.rb:150:in `edit_question'
app/controllers/telegram_webhooks_controller.rb:135:in `process_answer'
app/controllers/telegram_webhooks_controller.rb:67:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:45:28 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315184, "callback_query"=>{"id"=>"2650224936075803910", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>212, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405503, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_31"}, "telegram_webhook"=>{"update_id"=>165315184, "callback_query"=>{"id"=>"2650224936075803910", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>212, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405503, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_31"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=16, test_result_id=31
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:123:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:124:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:125:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mAnswer Create (7.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 31], ["question_id", 3], ["answer_option_id", 16], ["created_at", "2025-10-02 11:45:28.428652"], ["updated_at", "2025-10-02 11:45:28.428652"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:129:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:145:in `map'
Completed 500 Internal Server Error in 56ms (ActiveRecord: 11.2ms | Allocations: 5243)


  
NameError (uninitialized constant Telegram::Bot::Exceptions):
  
app/controllers/telegram_webhooks_controller.rb:152:in `rescue in edit_question'
app/controllers/telegram_webhooks_controller.rb:150:in `edit_question'
app/controllers/telegram_webhooks_controller.rb:135:in `process_answer'
app/controllers/telegram_webhooks_controller.rb:67:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:45:45 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315184, "callback_query"=>{"id"=>"2650224936075803910", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>212, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405503, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_31"}, "telegram_webhook"=>{"update_id"=>165315184, "callback_query"=>{"id"=>"2650224936075803910", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>212, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405503, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_31"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=16, test_result_id=31
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:123:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:124:in `process_answer'
  [1m[36mTestResult Load (0.1ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:125:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mAnswer Create (1.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 31], ["question_id", 3], ["answer_option_id", 16], ["created_at", "2025-10-02 11:45:45.890843"], ["updated_at", "2025-10-02 11:45:45.890843"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:129:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:145:in `map'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 3.5ms | Allocations: 5226)


  
NameError (uninitialized constant Telegram::Bot::Exceptions):
  
app/controllers/telegram_webhooks_controller.rb:152:in `rescue in edit_question'
app/controllers/telegram_webhooks_controller.rb:150:in `edit_question'
app/controllers/telegram_webhooks_controller.rb:135:in `process_answer'
app/controllers/telegram_webhooks_controller.rb:67:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:46:19 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315184, "callback_query"=>{"id"=>"2650224936075803910", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>212, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405503, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_31"}, "telegram_webhook"=>{"update_id"=>165315184, "callback_query"=>{"id"=>"2650224936075803910", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>212, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405503, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_31"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=16, test_result_id=31
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:123:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:124:in `process_answer'
  [1m[36mTestResult Load (0.1ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:125:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mAnswer Create (1.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 31], ["question_id", 3], ["answer_option_id", 16], ["created_at", "2025-10-02 11:46:19.297678"], ["updated_at", "2025-10-02 11:46:19.297678"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:129:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:145:in `map'
Completed 500 Internal Server Error in 23ms (ActiveRecord: 3.2ms | Allocations: 5225)


  
NameError (uninitialized constant Telegram::Bot::Exceptions):
  
app/controllers/telegram_webhooks_controller.rb:152:in `rescue in edit_question'
app/controllers/telegram_webhooks_controller.rb:150:in `edit_question'
app/controllers/telegram_webhooks_controller.rb:135:in `process_answer'
app/controllers/telegram_webhooks_controller.rb:67:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:48:08 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315185, "message"=>{"message_id"=>213, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405687, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315185, "message"=>{"message_id"=>213, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405687, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 626ms (Views: 0.2ms | ActiveRecord: 2.9ms | Allocations: 28723)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:48:11 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315186, "callback_query"=>{"id"=>"2650224936076954207", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>214, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405689, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315186, "callback_query"=>{"id"=>"2650224936076954207", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>214, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405689, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:82:in `start_anxiety_test'
Test ID: 2
User ID: 2
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:91:in `start_anxiety_test'
  [1m[36mTestResult Create (7.2ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 2], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-02 11:48:11.519141"], ["updated_at", "2025-10-02 11:48:11.519141"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:91:in `start_anxiety_test'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:91:in `start_anxiety_test'
TestResult ID: 32
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:93:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:105:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_16_32
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_17_32
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_18_32
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_19_32
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° - answer_3_96_32
Callback data for option: Ð˜Ð½Ð¾Ð³Ð´Ð° - answer_3_97_32
Callback data for option: Ð§Ð°ÑÑ‚Ð¾ - answer_3_98_32
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð° - answer_3_99_32
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_16_32"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_17_32"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_18_32"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_19_32"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°","callback_data":"answer_3_96_32"}],[{"text":"Ð˜Ð½Ð¾Ð³Ð´Ð°","callback_data":"answer_3_97_32"}],[{"text":"Ð§Ð°ÑÑ‚Ð¾","callback_data":"answer_3_98_32"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°","callback_data":"answer_3_99_32"}]]}
Completed 200 OK in 722ms (Views: 0.2ms | ActiveRecord: 18.8ms | Allocations: 32856)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:48:15 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315187, "callback_query"=>{"id"=>"2650224936578156219", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>215, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405692, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_32"}, "telegram_webhook"=>{"update_id"=>165315187, "callback_query"=>{"id"=>"2650224936578156219", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>215, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405692, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_32"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=16, test_result_id=32
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:122:in `process_answer'
  [1m[36mAnswerOption Load (1.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:123:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:124:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswer Create (8.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 32], ["question_id", 3], ["answer_option_id", 16], ["created_at", "2025-10-02 11:48:15.661210"], ["updated_at", "2025-10-02 11:48:15.661210"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:129:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:144:in `map'
Completed 500 Internal Server Error in 105ms (ActiveRecord: 13.8ms | Allocations: 11775)


  
NameError (uninitialized constant Telegram::Bot::Exceptions):
  
app/controllers/telegram_webhooks_controller.rb:151:in `rescue in edit_question'
app/controllers/telegram_webhooks_controller.rb:149:in `edit_question'
app/controllers/telegram_webhooks_controller.rb:134:in `process_answer'
app/controllers/telegram_webhooks_controller.rb:67:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:48:17 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315187, "callback_query"=>{"id"=>"2650224936578156219", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>215, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405692, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_32"}, "telegram_webhook"=>{"update_id"=>165315187, "callback_query"=>{"id"=>"2650224936578156219", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>215, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405692, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_32"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=16, test_result_id=32
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:122:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:123:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:124:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswer Create (5.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 32], ["question_id", 3], ["answer_option_id", 16], ["created_at", "2025-10-02 11:48:17.783882"], ["updated_at", "2025-10-02 11:48:17.783882"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:129:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:144:in `map'
Completed 500 Internal Server Error in 45ms (ActiveRecord: 8.0ms | Allocations: 5249)


  
NameError (uninitialized constant Telegram::Bot::Exceptions):
  
app/controllers/telegram_webhooks_controller.rb:151:in `rescue in edit_question'
app/controllers/telegram_webhooks_controller.rb:149:in `edit_question'
app/controllers/telegram_webhooks_controller.rb:134:in `process_answer'
app/controllers/telegram_webhooks_controller.rb:67:in `message'
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:48:21 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315187, "callback_query"=>{"id"=>"2650224936578156219", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>215, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405692, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_32"}, "telegram_webhook"=>{"update_id"=>165315187, "callback_query"=>{"id"=>"2650224936578156219", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>215, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405692, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_32"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=16, test_result_id=32
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:122:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:123:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:124:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswer Create (5.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 32], ["question_id", 3], ["answer_option_id", 16], ["created_at", "2025-10-02 11:48:21.672094"], ["updated_at", "2025-10-02 11:48:21.672094"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:129:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:144:in `map'
Completed 500 Internal Server Error in 56ms (ActiveRecord: 8.3ms | Allocations: 5228)


  
NameError (uninitialized constant Telegram::Bot::Exceptions):
  
app/controllers/telegram_webhooks_controller.rb:151:in `rescue in edit_question'
app/controllers/telegram_webhooks_controller.rb:149:in `edit_question'
app/controllers/telegram_webhooks_controller.rb:134:in `process_answer'
app/controllers/telegram_webhooks_controller.rb:67:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:51:49 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315187, "callback_query"=>{"id"=>"2650224936578156219", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>215, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405692, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_32"}, "telegram_webhook"=>{"update_id"=>165315187, "callback_query"=>{"id"=>"2650224936578156219", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>215, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405692, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_32"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=16, test_result_id=32
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:122:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:123:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:124:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswer Create (1.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 32], ["question_id", 3], ["answer_option_id", 16], ["created_at", "2025-10-02 11:51:49.502903"], ["updated_at", "2025-10-02 11:51:49.502903"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mTest Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:129:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:144:in `map'
Completed 200 OK in 315ms (Views: 0.3ms | ActiveRecord: 9.2ms | Allocations: 63549)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:52:16 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315188, "message"=>{"message_id"=>216, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405936, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315188, "message"=>{"message_id"=>216, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405936, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 407ms (Views: 0.2ms | ActiveRecord: 0.6ms | Allocations: 2397)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:52:19 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315189, "callback_query"=>{"id"=>"2650224934307408017", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>217, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405937, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315189, "callback_query"=>{"id"=>"2650224934307408017", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>217, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405937, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (1.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:82:in `start_anxiety_test'
Test ID: 2
User ID: 2
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:91:in `start_anxiety_test'
  [1m[36mTestResult Create (6.2ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 2], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-02 11:52:19.072275"], ["updated_at", "2025-10-02 11:52:19.072275"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:91:in `start_anxiety_test'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:91:in `start_anxiety_test'
TestResult ID: 33
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:93:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:105:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_16_33
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_17_33
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_18_33
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_19_33
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° - answer_3_96_33
Callback data for option: Ð˜Ð½Ð¾Ð³Ð´Ð° - answer_3_97_33
Callback data for option: Ð§Ð°ÑÑ‚Ð¾ - answer_3_98_33
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð° - answer_3_99_33
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_16_33"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_17_33"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_18_33"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_19_33"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°","callback_data":"answer_3_96_33"}],[{"text":"Ð˜Ð½Ð¾Ð³Ð´Ð°","callback_data":"answer_3_97_33"}],[{"text":"Ð§Ð°ÑÑ‚Ð¾","callback_data":"answer_3_98_33"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°","callback_data":"answer_3_99_33"}]]}
Completed 200 OK in 491ms (Views: 0.2ms | ActiveRecord: 8.4ms | Allocations: 6492)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:52:23 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315190, "callback_query"=>{"id"=>"2650224936403208440", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>218, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405939, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_33"}, "telegram_webhook"=>{"update_id"=>165315190, "callback_query"=>{"id"=>"2650224936403208440", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>218, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759405939, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_33"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=16, test_result_id=33
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:122:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:123:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:124:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswer Create (9.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 33], ["question_id", 3], ["answer_option_id", 16], ["created_at", "2025-10-02 11:52:23.062914"], ["updated_at", "2025-10-02 11:52:23.062914"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:129:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:144:in `map'
Completed 200 OK in 50ms (Views: 0.2ms | ActiveRecord: 12.2ms | Allocations: 5174)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:56:18 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315191, "message"=>{"message_id"=>219, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406178, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315191, "message"=>{"message_id"=>219, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406178, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 563ms (Views: 0.6ms | ActiveRecord: 3.8ms | Allocations: 28768)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:56:22 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315192, "callback_query"=>{"id"=>"2650224937157703864", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>220, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406179, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315192, "callback_query"=>{"id"=>"2650224937157703864", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>220, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406179, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:86:in `start_anxiety_test'
Test ID: 2
User ID: 2
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTestResult Create (2.6ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 2], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-02 11:56:22.204214"], ["updated_at", "2025-10-02 11:56:22.204214"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
TestResult ID: 34
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:109:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_16_34
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_17_34
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_18_34
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_19_34
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° - answer_3_96_34
Callback data for option: Ð˜Ð½Ð¾Ð³Ð´Ð° - answer_3_97_34
Callback data for option: Ð§Ð°ÑÑ‚Ð¾ - answer_3_98_34
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð° - answer_3_99_34
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_16_34"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_17_34"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_18_34"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_19_34"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°","callback_data":"answer_3_96_34"}],[{"text":"Ð˜Ð½Ð¾Ð³Ð´Ð°","callback_data":"answer_3_97_34"}],[{"text":"Ð§Ð°ÑÑ‚Ð¾","callback_data":"answer_3_98_34"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°","callback_data":"answer_3_99_34"}]]}
Completed 200 OK in 697ms (Views: 0.2ms | ActiveRecord: 8.4ms | Allocations: 32007)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:56:25 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315193, "callback_query"=>{"id"=>"2650224935424322146", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>221, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406182, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_18_34"}, "telegram_webhook"=>{"update_id"=>165315193, "callback_query"=>{"id"=>"2650224935424322146", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>221, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406182, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_18_34"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=18, test_result_id=34
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 34], ["question_id", 3], ["answer_option_id", 18], ["created_at", "2025-10-02 11:56:25.228492"], ["updated_at", "2025-10-02 11:56:25.228492"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.0ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 87ms (Views: 0.1ms | ActiveRecord: 7.7ms | Allocations: 11704)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:59:36 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315194, "message"=>{"message_id"=>222, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406375, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315194, "message"=>{"message_id"=>222, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406375, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 990ms (Views: 0.5ms | ActiveRecord: 6.8ms | Allocations: 28746)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:59:39 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315195, "callback_query"=>{"id"=>"2650224934159802181", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>223, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406377, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315195, "callback_query"=>{"id"=>"2650224934159802181", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>223, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406377, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:86:in `start_anxiety_test'
Test ID: 2
User ID: 2
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTestResult Create (3.2ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 2], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-02 11:59:39.796600"], ["updated_at", "2025-10-02 11:59:39.796600"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
TestResult ID: 35
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:109:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_16_35
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_17_35
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_18_35
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_19_35
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° - answer_3_96_35
Callback data for option: Ð˜Ð½Ð¾Ð³Ð´Ð° - answer_3_97_35
Callback data for option: Ð§Ð°ÑÑ‚Ð¾ - answer_3_98_35
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð° - answer_3_99_35
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_16_35"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_17_35"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_18_35"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_19_35"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°","callback_data":"answer_3_96_35"}],[{"text":"Ð˜Ð½Ð¾Ð³Ð´Ð°","callback_data":"answer_3_97_35"}],[{"text":"Ð§Ð°ÑÑ‚Ð¾","callback_data":"answer_3_98_35"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°","callback_data":"answer_3_99_35"}]]}
Completed 200 OK in 679ms (Views: 0.2ms | ActiveRecord: 10.2ms | Allocations: 32018)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 16:59:42 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315196, "callback_query"=>{"id"=>"2650224936915543104", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>224, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406380, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_35"}, "telegram_webhook"=>{"update_id"=>165315196, "callback_query"=>{"id"=>"2650224936915543104", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>224, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406380, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_35"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=16, test_result_id=35
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (1.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (8.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 35], ["question_id", 3], ["answer_option_id", 16], ["created_at", "2025-10-02 11:59:42.501614"], ["updated_at", "2025-10-02 11:59:42.501614"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 107ms (Views: 0.4ms | ActiveRecord: 13.6ms | Allocations: 11705)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:00:36 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315197, "message"=>{"message_id"=>225, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406435, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315197, "message"=>{"message_id"=>225, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406435, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 574ms (Views: 0.6ms | ActiveRecord: 3.8ms | Allocations: 28745)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:00:38 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315198, "callback_query"=>{"id"=>"2650224935216925231", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>226, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406437, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315198, "callback_query"=>{"id"=>"2650224935216925231", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>226, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406437, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (0.9ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:86:in `start_anxiety_test'
Test ID: 2
User ID: 2
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTestResult Create (6.4ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 2], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-02 12:00:39.125157"], ["updated_at", "2025-10-02 12:00:39.125157"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
TestResult ID: 36
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:109:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_16_36
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_17_36
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_18_36
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_19_36
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° - answer_3_96_36
Callback data for option: Ð˜Ð½Ð¾Ð³Ð´Ð° - answer_3_97_36
Callback data for option: Ð§Ð°ÑÑ‚Ð¾ - answer_3_98_36
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð° - answer_3_99_36
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_16_36"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_17_36"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_18_36"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_19_36"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°","callback_data":"answer_3_96_36"}],[{"text":"Ð˜Ð½Ð¾Ð³Ð´Ð°","callback_data":"answer_3_97_36"}],[{"text":"Ð§Ð°ÑÑ‚Ð¾","callback_data":"answer_3_98_36"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°","callback_data":"answer_3_99_36"}]]}
Completed 200 OK in 610ms (Views: 0.7ms | ActiveRecord: 15.9ms | Allocations: 32017)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:00:41 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315199, "callback_query"=>{"id"=>"2650224937030374175", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>227, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406439, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_98_36"}, "telegram_webhook"=>{"update_id"=>165315199, "callback_query"=>{"id"=>"2650224937030374175", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>227, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406439, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_98_36"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=98, test_result_id=36
  [1m[36mQuestion Load (1.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 98], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (1.0ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (7.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 36], ["question_id", 3], ["answer_option_id", 98], ["created_at", "2025-10-02 12:00:42.001641"], ["updated_at", "2025-10-02 12:00:42.001641"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 97ms (Views: 0.2ms | ActiveRecord: 12.4ms | Allocations: 11704)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:02:56 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315200, "message"=>{"message_id"=>228, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406575, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315200, "message"=>{"message_id"=>228, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406575, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 651ms (Views: 0.5ms | ActiveRecord: 2.9ms | Allocations: 28792)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:02:59 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315201, "callback_query"=>{"id"=>"2650224937125905895", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>229, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406577, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315201, "callback_query"=>{"id"=>"2650224937125905895", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>229, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406577, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:86:in `start_anxiety_test'
Test ID: 2
User ID: 2
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTestResult Create (4.0ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 2], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-02 12:02:59.235644"], ["updated_at", "2025-10-02 12:02:59.235644"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
TestResult ID: 37
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:109:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_16_37
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_17_37
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_18_37
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_19_37
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° - answer_3_96_37
Callback data for option: Ð˜Ð½Ð¾Ð³Ð´Ð° - answer_3_97_37
Callback data for option: Ð§Ð°ÑÑ‚Ð¾ - answer_3_98_37
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð° - answer_3_99_37
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_16_37"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_17_37"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_18_37"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_19_37"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°","callback_data":"answer_3_96_37"}],[{"text":"Ð˜Ð½Ð¾Ð³Ð´Ð°","callback_data":"answer_3_97_37"}],[{"text":"Ð§Ð°ÑÑ‚Ð¾","callback_data":"answer_3_98_37"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°","callback_data":"answer_3_99_37"}]]}
Completed 200 OK in 698ms (Views: 0.1ms | ActiveRecord: 11.6ms | Allocations: 32014)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:02 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315202, "callback_query"=>{"id"=>"2650224935778051468", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>230, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406579, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_19_37"}, "telegram_webhook"=>{"update_id"=>165315202, "callback_query"=>{"id"=>"2650224935778051468", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>230, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406579, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_19_37"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=19, test_result_id=37
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (7.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 3], ["answer_option_id", 19], ["created_at", "2025-10-02 12:03:02.161255"], ["updated_at", "2025-10-02 12:03:02.161255"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 426ms (Views: 0.1ms | ActiveRecord: 12.1ms | Allocations: 13368)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:05 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315203, "callback_query"=>{"id"=>"2650224933951331943", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>231, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406582, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_21_37"}, "telegram_webhook"=>{"update_id"=>165315203, "callback_query"=>{"id"=>"2650224933951331943", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>231, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406582, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_21_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=4, answer_option_id=21, test_result_id=37
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 4], ["answer_option_id", 21], ["created_at", "2025-10-02 12:03:05.217363"], ["updated_at", "2025-10-02 12:03:05.217363"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 4) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 5]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 438ms (Views: 0.2ms | ActiveRecord: 5.7ms | Allocations: 6898)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:07 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315204, "callback_query"=>{"id"=>"2650224937130528180", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>232, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406585, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_25_37"}, "telegram_webhook"=>{"update_id"=>165315204, "callback_query"=>{"id"=>"2650224937130528180", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>232, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406585, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_25_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=5, answer_option_id=25, test_result_id=37
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 5], ["answer_option_id", 25], ["created_at", "2025-10-02 12:03:07.120987"], ["updated_at", "2025-10-02 12:03:07.120987"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 5) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 6]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 538ms (Views: 0.1ms | ActiveRecord: 6.5ms | Allocations: 6927)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:08 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315205, "callback_query"=>{"id"=>"2650224933975504744", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>233, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406587, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_30_37"}, "telegram_webhook"=>{"update_id"=>165315205, "callback_query"=>{"id"=>"2650224933975504744", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>233, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406587, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_30_37"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=6, answer_option_id=30, test_result_id=37
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 6], ["answer_option_id", 30], ["created_at", "2025-10-02 12:03:08.994588"], ["updated_at", "2025-10-02 12:03:08.994588"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 6) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 7]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 404ms (Views: 0.2ms | ActiveRecord: 6.1ms | Allocations: 6867)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:10 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315206, "callback_query"=>{"id"=>"2650224934748110531", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>234, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406589, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_112_37"}, "telegram_webhook"=>{"update_id"=>165315206, "callback_query"=>{"id"=>"2650224934748110531", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>234, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406589, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_112_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=7, answer_option_id=112, test_result_id=37
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 112], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 7], ["answer_option_id", 112], ["created_at", "2025-10-02 12:03:10.770249"], ["updated_at", "2025-10-02 12:03:10.770249"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 7) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 8]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 378ms (Views: 0.1ms | ActiveRecord: 7.0ms | Allocations: 6812)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:12 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315207, "callback_query"=>{"id"=>"2650224933219862711", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>235, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406591, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_39_37"}, "telegram_webhook"=>{"update_id"=>165315207, "callback_query"=>{"id"=>"2650224933219862711", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>235, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406591, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_39_37"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=8, answer_option_id=39, test_result_id=37
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 8], ["answer_option_id", 39], ["created_at", "2025-10-02 12:03:12.912882"], ["updated_at", "2025-10-02 12:03:12.912882"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 8) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 9]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 369ms (Views: 0.2ms | ActiveRecord: 7.3ms | Allocations: 6801)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:14 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315208, "callback_query"=>{"id"=>"2650224936707482755", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>236, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406593, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_42_37"}, "telegram_webhook"=>{"update_id"=>165315208, "callback_query"=>{"id"=>"2650224936707482755", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>236, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406593, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_42_37"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=9, answer_option_id=42, test_result_id=37
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 9], ["answer_option_id", 42], ["created_at", "2025-10-02 12:03:14.657524"], ["updated_at", "2025-10-02 12:03:14.657524"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 9) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 10]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 440ms (Views: 0.2ms | ActiveRecord: 6.6ms | Allocations: 6845)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:16 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315209, "callback_query"=>{"id"=>"2650224933712978115", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>237, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406595, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_47_37"}, "telegram_webhook"=>{"update_id"=>165315209, "callback_query"=>{"id"=>"2650224933712978115", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>237, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406595, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_47_37"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=10, answer_option_id=47, test_result_id=37
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.9ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (6.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 10], ["answer_option_id", 47], ["created_at", "2025-10-02 12:03:16.334276"], ["updated_at", "2025-10-02 12:03:16.334276"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 10) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 11]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 424ms (Views: 0.1ms | ActiveRecord: 10.0ms | Allocations: 6893)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315210, "callback_query"=>{"id"=>"2650224933162747228", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>238, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406596, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_128_37"}, "telegram_webhook"=>{"update_id"=>165315210, "callback_query"=>{"id"=>"2650224933162747228", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>238, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406596, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_128_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=11, answer_option_id=128, test_result_id=37
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 128], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 11], ["answer_option_id", 128], ["created_at", "2025-10-02 12:03:18.209244"], ["updated_at", "2025-10-02 12:03:18.209244"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 11) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 12]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 429ms (Views: 0.1ms | ActiveRecord: 6.2ms | Allocations: 6821)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:20 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315211, "callback_query"=>{"id"=>"2650224934038980015", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>239, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406598, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_54_37"}, "telegram_webhook"=>{"update_id"=>165315211, "callback_query"=>{"id"=>"2650224934038980015", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>239, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406598, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_54_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=12, answer_option_id=54, test_result_id=37
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.7ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 12], ["answer_option_id", 54], ["created_at", "2025-10-02 12:03:20.124709"], ["updated_at", "2025-10-02 12:03:20.124709"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 12) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 13]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 547ms (Views: 0.2ms | ActiveRecord: 6.0ms | Allocations: 6289)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:23 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315212, "callback_query"=>{"id"=>"2650224936167038219", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>240, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406600, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_56_37"}, "telegram_webhook"=>{"update_id"=>165315212, "callback_query"=>{"id"=>"2650224936167038219", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>240, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406600, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_56_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=13, answer_option_id=56, test_result_id=37
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (6.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 13], ["answer_option_id", 56], ["created_at", "2025-10-02 12:03:23.713825"], ["updated_at", "2025-10-02 12:03:23.713825"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.0ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 13) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 14]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 388ms (Views: 0.2ms | ActiveRecord: 10.5ms | Allocations: 6242)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:25 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315213, "callback_query"=>{"id"=>"2650224935522172798", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>241, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406604, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_60_37"}, "telegram_webhook"=>{"update_id"=>165315213, "callback_query"=>{"id"=>"2650224935522172798", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>241, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406604, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_60_37"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=14, answer_option_id=60, test_result_id=37
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 14], ["answer_option_id", 60], ["created_at", "2025-10-02 12:03:25.262108"], ["updated_at", "2025-10-02 12:03:25.262108"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 14) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 15]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 386ms (Views: 0.2ms | ActiveRecord: 7.7ms | Allocations: 6298)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:27 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315214, "callback_query"=>{"id"=>"2650224933223374613", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>242, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406605, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_65_37"}, "telegram_webhook"=>{"update_id"=>165315214, "callback_query"=>{"id"=>"2650224933223374613", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>242, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406605, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_65_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=15, answer_option_id=65, test_result_id=37
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 15], ["answer_option_id", 65], ["created_at", "2025-10-02 12:03:27.191224"], ["updated_at", "2025-10-02 12:03:27.191224"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 15) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 16]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 437ms (Views: 0.4ms | ActiveRecord: 5.9ms | Allocations: 6271)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:28 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315215, "callback_query"=>{"id"=>"2650224936621144453", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>243, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406607, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_70_37"}, "telegram_webhook"=>{"update_id"=>165315215, "callback_query"=>{"id"=>"2650224936621144453", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>243, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406607, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_70_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=16, answer_option_id=70, test_result_id=37
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 16], ["answer_option_id", 70], ["created_at", "2025-10-02 12:03:28.666253"], ["updated_at", "2025-10-02 12:03:28.666253"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 16) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 17]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 422ms (Views: 0.1ms | ActiveRecord: 7.9ms | Allocations: 6258)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:30 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315216, "callback_query"=>{"id"=>"2650224933725929908", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>244, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406609, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_75_37"}, "telegram_webhook"=>{"update_id"=>165315216, "callback_query"=>{"id"=>"2650224933725929908", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>244, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406609, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_75_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=17, answer_option_id=75, test_result_id=37
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 17], ["answer_option_id", 75], ["created_at", "2025-10-02 12:03:30.425670"], ["updated_at", "2025-10-02 12:03:30.425670"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 17) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 18]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 421ms (Views: 0.1ms | ActiveRecord: 4.6ms | Allocations: 6269)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:32 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315217, "callback_query"=>{"id"=>"2650224934544651084", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>245, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406610, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_76_37"}, "telegram_webhook"=>{"update_id"=>165315217, "callback_query"=>{"id"=>"2650224934544651084", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>245, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406610, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_76_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=18, answer_option_id=76, test_result_id=37
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 76], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.7ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 18], ["answer_option_id", 76], ["created_at", "2025-10-02 12:03:32.300451"], ["updated_at", "2025-10-02 12:03:32.300451"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 18) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 19]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 458ms (Views: 0.2ms | ActiveRecord: 7.6ms | Allocations: 6340)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:33 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315218, "callback_query"=>{"id"=>"2650224937042378109", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>246, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406612, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_82_37"}, "telegram_webhook"=>{"update_id"=>165315218, "callback_query"=>{"id"=>"2650224937042378109", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>246, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406612, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_82_37"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=19, answer_option_id=82, test_result_id=37
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 82], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 19], ["answer_option_id", 82], ["created_at", "2025-10-02 12:03:33.931023"], ["updated_at", "2025-10-02 12:03:33.931023"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 19) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 20]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 374ms (Views: 0.4ms | ActiveRecord: 5.8ms | Allocations: 6237)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:35 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315219, "callback_query"=>{"id"=>"2650224935122694679", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>247, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406614, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_84_37"}, "telegram_webhook"=>{"update_id"=>165315219, "callback_query"=>{"id"=>"2650224935122694679", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>247, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406614, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_84_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=20, answer_option_id=84, test_result_id=37
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 84], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 20], ["answer_option_id", 84], ["created_at", "2025-10-02 12:03:35.435901"], ["updated_at", "2025-10-02 12:03:35.435901"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 20) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 21]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 373ms (Views: 0.1ms | ActiveRecord: 5.8ms | Allocations: 6222)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:36 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315220, "callback_query"=>{"id"=>"2650224936604679693", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>248, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406615, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_90_37"}, "telegram_webhook"=>{"update_id"=>165315220, "callback_query"=>{"id"=>"2650224936604679693", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>248, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406615, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_90_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=21, answer_option_id=90, test_result_id=37
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 90], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 21], ["answer_option_id", 90], ["created_at", "2025-10-02 12:03:36.926112"], ["updated_at", "2025-10-02 12:03:36.926112"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 21) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 22]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `map'
Completed 200 OK in 375ms (Views: 0.1ms | ActiveRecord: 7.4ms | Allocations: 6279)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:38 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315221, "callback_query"=>{"id"=>"2650224933556188502", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_93_37"}, "telegram_webhook"=>{"update_id"=>165315221, "callback_query"=>{"id"=>"2650224933556188502", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_93_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=93, test_result_id=37
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 93], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (1.1ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 22], ["answer_option_id", 93], ["created_at", "2025-10-02 12:03:38.554341"], ["updated_at", "2025-10-02 12:03:38.554341"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:162:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.6ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 37], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:166:in `calculate_and_send_results'
Completed 500 Internal Server Error in 149ms (ActiveRecord: 11.1ms | Allocations: 9130)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:39 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315221, "callback_query"=>{"id"=>"2650224933556188502", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_93_37"}, "telegram_webhook"=>{"update_id"=>165315221, "callback_query"=>{"id"=>"2650224933556188502", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_93_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=93, test_result_id=37
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 93], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 22], ["answer_option_id", 93], ["created_at", "2025-10-02 12:03:39.220453"], ["updated_at", "2025-10-02 12:03:39.220453"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:162:in `calculate_and_send_results'
  [1m[36mAnswer Sum (1.3ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 37], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:166:in `calculate_and_send_results'
Completed 500 Internal Server Error in 49ms (ActiveRecord: 8.4ms | Allocations: 5645)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:41 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315221, "callback_query"=>{"id"=>"2650224933556188502", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_93_37"}, "telegram_webhook"=>{"update_id"=>165315221, "callback_query"=>{"id"=>"2650224933556188502", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_93_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=93, test_result_id=37
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 93], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 22], ["answer_option_id", 93], ["created_at", "2025-10-02 12:03:41.584141"], ["updated_at", "2025-10-02 12:03:41.584141"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:162:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.7ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 37], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:166:in `calculate_and_send_results'
Completed 500 Internal Server Error in 55ms (ActiveRecord: 7.3ms | Allocations: 5629)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:45 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315221, "callback_query"=>{"id"=>"2650224933556188502", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_93_37"}, "telegram_webhook"=>{"update_id"=>165315221, "callback_query"=>{"id"=>"2650224933556188502", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_93_37"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=93, test_result_id=37
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 93], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 22], ["answer_option_id", 93], ["created_at", "2025-10-02 12:03:45.960190"], ["updated_at", "2025-10-02 12:03:45.960190"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.8ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:162:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.9ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 37], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:166:in `calculate_and_send_results'
Completed 500 Internal Server Error in 49ms (ActiveRecord: 9.0ms | Allocations: 5629)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:03:54 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315221, "callback_query"=>{"id"=>"2650224933556188502", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_93_37"}, "telegram_webhook"=>{"update_id"=>165315221, "callback_query"=>{"id"=>"2650224933556188502", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_93_37"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=93, test_result_id=37
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 93], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 22], ["answer_option_id", 93], ["created_at", "2025-10-02 12:03:54.335700"], ["updated_at", "2025-10-02 12:03:54.335700"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:162:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.7ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 37], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:166:in `calculate_and_send_results'
Completed 500 Internal Server Error in 56ms (ActiveRecord: 8.3ms | Allocations: 5629)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:05:43 +0500
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:05:43 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315221, "callback_query"=>{"id"=>"2650224933556188502", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_93_37"}, "telegram_webhook"=>{"update_id"=>165315221, "callback_query"=>{"id"=>"2650224933556188502", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_93_37"}}}
  Parameters: {"update_id"=>165315221, "callback_query"=>{"id"=>"2650224933556188502", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_93_37"}, "telegram_webhook"=>{"update_id"=>165315221, "callback_query"=>{"id"=>"2650224933556188502", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_93_37"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  [1m[36mUser Load (3.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=93, test_result_id=37
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=93, test_result_id=37
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 93], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.9ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 93], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mTestResult Load (0.8ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (8.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 22], ["answer_option_id", 93], ["created_at", "2025-10-02 12:05:43.708136"], ["updated_at", "2025-10-02 12:05:43.708136"]]
  [1m[36mAnswer Create (5017.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 22], ["answer_option_id", 93], ["created_at", "2025-10-02 12:05:43.710394"], ["updated_at", "2025-10-02 12:05:43.710394"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
Completed 500 Internal Server Error in 5324ms (ActiveRecord: 5024.9ms | Allocations: 58119)


  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.4ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 37], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 5457ms (ActiveRecord: 17.0ms | Allocations: 75187)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:05:49 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315222, "callback_query"=>{"id"=>"2650224935704281391", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_95_37"}, "telegram_webhook"=>{"update_id"=>165315222, "callback_query"=>{"id"=>"2650224935704281391", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_95_37"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=95, test_result_id=37
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 95], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 22], ["answer_option_id", 95], ["created_at", "2025-10-02 12:05:49.247888"], ["updated_at", "2025-10-02 12:05:49.247888"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.8ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 37], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 53ms (ActiveRecord: 9.8ms | Allocations: 5700)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:05:49 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315222, "callback_query"=>{"id"=>"2650224935704281391", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_95_37"}, "telegram_webhook"=>{"update_id"=>165315222, "callback_query"=>{"id"=>"2650224935704281391", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_95_37"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=95, test_result_id=37
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 95], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 22], ["answer_option_id", 95], ["created_at", "2025-10-02 12:05:49.618187"], ["updated_at", "2025-10-02 12:05:49.618187"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.7ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 37], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 53ms (ActiveRecord: 8.1ms | Allocations: 5663)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:05:51 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315222, "callback_query"=>{"id"=>"2650224935704281391", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_95_37"}, "telegram_webhook"=>{"update_id"=>165315222, "callback_query"=>{"id"=>"2650224935704281391", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_95_37"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=95, test_result_id=37
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 95], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 22], ["answer_option_id", 95], ["created_at", "2025-10-02 12:05:51.979411"], ["updated_at", "2025-10-02 12:05:51.979411"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (1.0ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 37], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 44ms (ActiveRecord: 7.8ms | Allocations: 5663)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:05:55 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315223, "message"=>{"message_id"=>250, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406755, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315223, "message"=>{"message_id"=>250, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406755, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 404ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 2526)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:05:56 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315222, "callback_query"=>{"id"=>"2650224935704281391", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_95_37"}, "telegram_webhook"=>{"update_id"=>165315222, "callback_query"=>{"id"=>"2650224935704281391", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_95_37"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=95, test_result_id=37
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 95], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 22], ["answer_option_id", 95], ["created_at", "2025-10-02 12:05:56.346607"], ["updated_at", "2025-10-02 12:05:56.346607"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.5ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 37], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 54ms (ActiveRecord: 9.0ms | Allocations: 5647)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:04 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315222, "callback_query"=>{"id"=>"2650224935704281391", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_95_37"}, "telegram_webhook"=>{"update_id"=>165315222, "callback_query"=>{"id"=>"2650224935704281391", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>249, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406617, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_95_37"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=95, test_result_id=37
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 95], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 37], ["question_id", 22], ["answer_option_id", 95], ["created_at", "2025-10-02 12:06:04.742740"], ["updated_at", "2025-10-02 12:06:04.742740"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.9ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 37], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 76ms (ActiveRecord: 9.6ms | Allocations: 5649)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:05 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315224, "callback_query"=>{"id"=>"2650224934412672023", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>251, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406755, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315224, "callback_query"=>{"id"=>"2650224934412672023", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>251, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406755, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:86:in `start_anxiety_test'
Test ID: 2
User ID: 2
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTestResult Create (6.6ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 2], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-02 12:06:05.095782"], ["updated_at", "2025-10-02 12:06:05.095782"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
TestResult ID: 38
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:109:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_16_38
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_17_38
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_18_38
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_19_38
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° - answer_3_96_38
Callback data for option: Ð˜Ð½Ð¾Ð³Ð´Ð° - answer_3_97_38
Callback data for option: Ð§Ð°ÑÑ‚Ð¾ - answer_3_98_38
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð° - answer_3_99_38
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_16_38"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_17_38"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_18_38"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_19_38"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°","callback_data":"answer_3_96_38"}],[{"text":"Ð˜Ð½Ð¾Ð³Ð´Ð°","callback_data":"answer_3_97_38"}],[{"text":"Ð§Ð°ÑÑ‚Ð¾","callback_data":"answer_3_98_38"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°","callback_data":"answer_3_99_38"}]]}
Completed 200 OK in 389ms (Views: 0.2ms | ActiveRecord: 8.6ms | Allocations: 6926)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:09 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315225, "callback_query"=>{"id"=>"2650224934975850551", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>252, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406765, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_38"}, "telegram_webhook"=>{"update_id"=>165315225, "callback_query"=>{"id"=>"2650224934975850551", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>252, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406765, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_16_38"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=16, test_result_id=38
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.8ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (7.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 3], ["answer_option_id", 16], ["created_at", "2025-10-02 12:06:09.993723"], ["updated_at", "2025-10-02 12:06:09.993723"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 379ms (Views: 0.2ms | ActiveRecord: 9.8ms | Allocations: 6853)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:11 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315226, "callback_query"=>{"id"=>"2650224934062906415", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>253, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406770, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_22_38"}, "telegram_webhook"=>{"update_id"=>165315226, "callback_query"=>{"id"=>"2650224934062906415", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>253, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406770, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_22_38"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=4, answer_option_id=22, test_result_id=38
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 4], ["answer_option_id", 22], ["created_at", "2025-10-02 12:06:11.485245"], ["updated_at", "2025-10-02 12:06:11.485245"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 4 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 5]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 397ms (Views: 0.2ms | ActiveRecord: 7.8ms | Allocations: 6881)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:12 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315227, "callback_query"=>{"id"=>"2650224937372864153", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>254, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406771, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_26_38"}, "telegram_webhook"=>{"update_id"=>165315227, "callback_query"=>{"id"=>"2650224937372864153", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>254, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406771, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_26_38"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=5, answer_option_id=26, test_result_id=38
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 5], ["answer_option_id", 26], ["created_at", "2025-10-02 12:06:12.545962"], ["updated_at", "2025-10-02 12:06:12.545962"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.8ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 5 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 6]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 395ms (Views: 0.1ms | ActiveRecord: 7.3ms | Allocations: 6917)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:13 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315228, "callback_query"=>{"id"=>"2650224937286283559", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>255, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406772, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_30_38"}, "telegram_webhook"=>{"update_id"=>165315228, "callback_query"=>{"id"=>"2650224937286283559", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>255, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406772, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_30_38"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=6, answer_option_id=30, test_result_id=38
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.8ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 6], ["answer_option_id", 30], ["created_at", "2025-10-02 12:06:13.763006"], ["updated_at", "2025-10-02 12:06:13.763006"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 6 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 7]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 376ms (Views: 0.1ms | ActiveRecord: 6.9ms | Allocations: 6869)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:14 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315229, "callback_query"=>{"id"=>"2650224934843695688", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>256, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406774, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_34_38"}, "telegram_webhook"=>{"update_id"=>165315229, "callback_query"=>{"id"=>"2650224934843695688", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>256, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406774, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_34_38"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=7, answer_option_id=34, test_result_id=38
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 7], ["answer_option_id", 34], ["created_at", "2025-10-02 12:06:14.858737"], ["updated_at", "2025-10-02 12:06:14.858737"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 7 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 8]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 409ms (Views: 0.2ms | ActiveRecord: 7.9ms | Allocations: 6816)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:15 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315230, "callback_query"=>{"id"=>"2650224935641673044", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>257, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406775, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_38_38"}, "telegram_webhook"=>{"update_id"=>165315230, "callback_query"=>{"id"=>"2650224935641673044", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>257, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406775, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_38_38"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=8, answer_option_id=38, test_result_id=38
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 8], ["answer_option_id", 38], ["created_at", "2025-10-02 12:06:15.954852"], ["updated_at", "2025-10-02 12:06:15.954852"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 8 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 9]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 487ms (Views: 0.1ms | ActiveRecord: 5.7ms | Allocations: 6808)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:17 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315231, "callback_query"=>{"id"=>"2650224933241757736", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>258, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406776, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_42_38"}, "telegram_webhook"=>{"update_id"=>165315231, "callback_query"=>{"id"=>"2650224933241757736", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>258, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406776, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_42_38"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=9, answer_option_id=42, test_result_id=38
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.7ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 9], ["answer_option_id", 42], ["created_at", "2025-10-02 12:06:17.192201"], ["updated_at", "2025-10-02 12:06:17.192201"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 9 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 10]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 375ms (Views: 0.1ms | ActiveRecord: 8.2ms | Allocations: 6847)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315232, "callback_query"=>{"id"=>"2650224935632231938", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>259, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406777, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_46_38"}, "telegram_webhook"=>{"update_id"=>165315232, "callback_query"=>{"id"=>"2650224935632231938", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>259, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406777, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_46_38"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=10, answer_option_id=46, test_result_id=38
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 10], ["answer_option_id", 46], ["created_at", "2025-10-02 12:06:18.267137"], ["updated_at", "2025-10-02 12:06:18.267137"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 10 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 11]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 364ms (Views: 0.4ms | ActiveRecord: 8.4ms | Allocations: 6895)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:19 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315233, "callback_query"=>{"id"=>"2650224934895020176", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>260, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406778, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_50_38"}, "telegram_webhook"=>{"update_id"=>165315233, "callback_query"=>{"id"=>"2650224934895020176", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>260, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406778, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_50_38"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=11, answer_option_id=50, test_result_id=38
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (1.0ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 11], ["answer_option_id", 50], ["created_at", "2025-10-02 12:06:19.253058"], ["updated_at", "2025-10-02 12:06:19.253058"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 11 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 12]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 385ms (Views: 0.5ms | ActiveRecord: 8.3ms | Allocations: 6823)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:20 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315234, "callback_query"=>{"id"=>"2650224935647224986", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>261, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406779, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_54_38"}, "telegram_webhook"=>{"update_id"=>165315234, "callback_query"=>{"id"=>"2650224935647224986", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>261, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406779, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_54_38"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=12, answer_option_id=54, test_result_id=38
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.9ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 12], ["answer_option_id", 54], ["created_at", "2025-10-02 12:06:20.397755"], ["updated_at", "2025-10-02 12:06:20.397755"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.0ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 12 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 13]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 383ms (Views: 0.1ms | ActiveRecord: 7.7ms | Allocations: 6299)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:22 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315235, "callback_query"=>{"id"=>"2650224935713196482", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>262, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406780, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_58_38"}, "telegram_webhook"=>{"update_id"=>165315235, "callback_query"=>{"id"=>"2650224935713196482", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>262, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406780, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_58_38"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=13, answer_option_id=58, test_result_id=38
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 13], ["answer_option_id", 58], ["created_at", "2025-10-02 12:06:22.419914"], ["updated_at", "2025-10-02 12:06:22.419914"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 13 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 14]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 537ms (Views: 0.1ms | ActiveRecord: 7.0ms | Allocations: 6249)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:23 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315236, "callback_query"=>{"id"=>"2650224934375519048", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>263, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406782, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_62_38"}, "telegram_webhook"=>{"update_id"=>165315236, "callback_query"=>{"id"=>"2650224934375519048", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>263, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406782, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_62_38"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=14, answer_option_id=62, test_result_id=38
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 14], ["answer_option_id", 62], ["created_at", "2025-10-02 12:06:23.844383"], ["updated_at", "2025-10-02 12:06:23.844383"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 14 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 15]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 425ms (Views: 0.2ms | ActiveRecord: 6.9ms | Allocations: 6302)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:24 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315237, "callback_query"=>{"id"=>"2650224933444035591", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>264, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406784, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_66_38"}, "telegram_webhook"=>{"update_id"=>165315237, "callback_query"=>{"id"=>"2650224933444035591", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>264, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406784, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_66_38"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=15, answer_option_id=66, test_result_id=38
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 66], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 15], ["answer_option_id", 66], ["created_at", "2025-10-02 12:06:24.952806"], ["updated_at", "2025-10-02 12:06:24.952806"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 15 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 16]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 401ms (Views: 0.4ms | ActiveRecord: 6.3ms | Allocations: 6256)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:26 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315238, "callback_query"=>{"id"=>"2650224934874930696", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>265, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406785, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_70_38"}, "telegram_webhook"=>{"update_id"=>165315238, "callback_query"=>{"id"=>"2650224934874930696", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>265, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406785, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_70_38"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=16, answer_option_id=70, test_result_id=38
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 16], ["answer_option_id", 70], ["created_at", "2025-10-02 12:06:26.115815"], ["updated_at", "2025-10-02 12:06:26.115815"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 16 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.8ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 17]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 470ms (Views: 0.3ms | ActiveRecord: 6.7ms | Allocations: 6260)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:27 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315239, "callback_query"=>{"id"=>"2650224936553305213", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>266, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406786, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_74_38"}, "telegram_webhook"=>{"update_id"=>165315239, "callback_query"=>{"id"=>"2650224936553305213", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>266, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406786, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_74_38"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=17, answer_option_id=74, test_result_id=38
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 17], ["answer_option_id", 74], ["created_at", "2025-10-02 12:06:27.350914"], ["updated_at", "2025-10-02 12:06:27.350914"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 17 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 18]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 400ms (Views: 0.2ms | ActiveRecord: 7.1ms | Allocations: 6271)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:28 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315240, "callback_query"=>{"id"=>"2650224936265588560", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>267, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406787, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_78_38"}, "telegram_webhook"=>{"update_id"=>165315240, "callback_query"=>{"id"=>"2650224936265588560", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>267, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406787, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_78_38"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=18, answer_option_id=78, test_result_id=38
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 18], ["answer_option_id", 78], ["created_at", "2025-10-02 12:06:28.675340"], ["updated_at", "2025-10-02 12:06:28.675340"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 18 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 19]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 369ms (Views: 0.3ms | ActiveRecord: 4.6ms | Allocations: 6345)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:29 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315241, "callback_query"=>{"id"=>"2650224935875704218", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>268, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406788, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_82_38"}, "telegram_webhook"=>{"update_id"=>165315241, "callback_query"=>{"id"=>"2650224935875704218", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>268, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406788, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_82_38"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=19, answer_option_id=82, test_result_id=38
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 82], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (7.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 19], ["answer_option_id", 82], ["created_at", "2025-10-02 12:06:30.012421"], ["updated_at", "2025-10-02 12:06:30.012421"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 19 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 20]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 390ms (Views: 0.1ms | ActiveRecord: 10.6ms | Allocations: 6242)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:31 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315242, "callback_query"=>{"id"=>"2650224935693674932", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>269, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406790, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_86_38"}, "telegram_webhook"=>{"update_id"=>165315242, "callback_query"=>{"id"=>"2650224935693674932", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>269, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406790, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_86_38"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=20, answer_option_id=86, test_result_id=38
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 86], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (6.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 20], ["answer_option_id", 86], ["created_at", "2025-10-02 12:06:31.471443"], ["updated_at", "2025-10-02 12:06:31.471443"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 20 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 21]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 378ms (Views: 0.1ms | ActiveRecord: 9.6ms | Allocations: 6227)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:32 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315243, "callback_query"=>{"id"=>"2650224936978384777", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>270, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406791, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_90_38"}, "telegram_webhook"=>{"update_id"=>165315243, "callback_query"=>{"id"=>"2650224936978384777", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>270, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406791, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_90_38"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=21, answer_option_id=90, test_result_id=38
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.9ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 90], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (6.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 21], ["answer_option_id", 90], ["created_at", "2025-10-02 12:06:32.865961"], ["updated_at", "2025-10-02 12:06:32.865961"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.0ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 21 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 22]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 488ms (Views: 0.2ms | ActiveRecord: 10.2ms | Allocations: 6286)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:34 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315244, "callback_query"=>{"id"=>"2650224936097096390", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>271, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406793, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_38"}, "telegram_webhook"=>{"update_id"=>165315244, "callback_query"=>{"id"=>"2650224936097096390", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>271, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406793, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_38"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=94, test_result_id=38
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 94], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 22], ["answer_option_id", 94], ["created_at", "2025-10-02 12:06:34.335702"], ["updated_at", "2025-10-02 12:06:34.335702"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (3.9ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 38], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 49ms (ActiveRecord: 10.4ms | Allocations: 5645)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:34 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315244, "callback_query"=>{"id"=>"2650224936097096390", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>271, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406793, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_38"}, "telegram_webhook"=>{"update_id"=>165315244, "callback_query"=>{"id"=>"2650224936097096390", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>271, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406793, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_38"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=94, test_result_id=38
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 94], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.7ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 22], ["answer_option_id", 94], ["created_at", "2025-10-02 12:06:34.723958"], ["updated_at", "2025-10-02 12:06:34.723958"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.6ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 38], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 51ms (ActiveRecord: 7.4ms | Allocations: 5646)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:37 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315244, "callback_query"=>{"id"=>"2650224936097096390", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>271, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406793, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_38"}, "telegram_webhook"=>{"update_id"=>165315244, "callback_query"=>{"id"=>"2650224936097096390", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>271, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406793, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_38"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=94, test_result_id=38
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 94], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 22], ["answer_option_id", 94], ["created_at", "2025-10-02 12:06:37.078529"], ["updated_at", "2025-10-02 12:06:37.078529"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.6ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 38], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 35ms (ActiveRecord: 5.5ms | Allocations: 5645)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:41 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315244, "callback_query"=>{"id"=>"2650224936097096390", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>271, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406793, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_38"}, "telegram_webhook"=>{"update_id"=>165315244, "callback_query"=>{"id"=>"2650224936097096390", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>271, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406793, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_38"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=94, test_result_id=38
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 94], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (6.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 22], ["answer_option_id", 94], ["created_at", "2025-10-02 12:06:41.435381"], ["updated_at", "2025-10-02 12:06:41.435381"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.6ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 38], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 58ms (ActiveRecord: 10.5ms | Allocations: 5645)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:06:49 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315244, "callback_query"=>{"id"=>"2650224936097096390", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>271, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406793, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_38"}, "telegram_webhook"=>{"update_id"=>165315244, "callback_query"=>{"id"=>"2650224936097096390", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>271, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406793, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_38"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=94, test_result_id=38
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 94], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 22], ["answer_option_id", 94], ["created_at", "2025-10-02 12:06:49.791985"], ["updated_at", "2025-10-02 12:06:49.791985"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.1ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.5ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 38], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 34ms (ActiveRecord: 6.8ms | Allocations: 5645)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:07:06 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315244, "callback_query"=>{"id"=>"2650224936097096390", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>271, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406793, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_38"}, "telegram_webhook"=>{"update_id"=>165315244, "callback_query"=>{"id"=>"2650224936097096390", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>271, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759406793, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_38"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=94, test_result_id=38
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 94], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.1ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 38], ["question_id", 22], ["answer_option_id", 94], ["created_at", "2025-10-02 12:07:06.141443"], ["updated_at", "2025-10-02 12:07:06.141443"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.4ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 38], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 4.0ms | Allocations: 5645)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddValueToAnswerOptions (20251002121105)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "answer_options" ADD "value" integer[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddValueToAnswerOptions (20251002121105)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "answer_options" ADD "value" integer[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? AND "tests"."description" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["description", "ÐŸÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ‚ÐµÑÑ‚ Ð´Ð»Ñ Ð¾Ñ†ÐµÐ½ÐºÐ¸ ÑƒÑ€Ð¾Ð²Ð½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸."], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹)."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ."], ["part", 1], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND "questions"."text" = ? AND "questions"."part" = ? LIMIT ?[0m  [["test_id", 2], ["text", "Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ."], ["part", 2], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions"[0m
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:26:59 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315245, "message"=>{"message_id"=>272, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408019, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315245, "message"=>{"message_id"=>272, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408019, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 506ms (Views: 0.3ms | ActiveRecord: 6.9ms | Allocations: 28750)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:04 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315246, "callback_query"=>{"id"=>"2650224934775093900", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>273, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408020, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315246, "callback_query"=>{"id"=>"2650224934775093900", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>273, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408020, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:86:in `start_anxiety_test'
Test ID: 2
User ID: 2
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTestResult Create (3.4ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 2], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-02 12:27:04.801705"], ["updated_at", "2025-10-02 12:27:04.801705"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTRANSACTION (45.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
TestResult ID: 39
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:109:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_16_39
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_17_39
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_18_39
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_3_19_39
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° - answer_3_96_39
Callback data for option: Ð˜Ð½Ð¾Ð³Ð´Ð° - answer_3_97_39
Callback data for option: Ð§Ð°ÑÑ‚Ð¾ - answer_3_98_39
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð° - answer_3_99_39
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_16_39"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_17_39"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_18_39"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_3_19_39"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°","callback_data":"answer_3_96_39"}],[{"text":"Ð˜Ð½Ð¾Ð³Ð´Ð°","callback_data":"answer_3_97_39"}],[{"text":"Ð§Ð°ÑÑ‚Ð¾","callback_data":"answer_3_98_39"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°","callback_data":"answer_3_99_39"}]]}
Completed 200 OK in 715ms (Views: 0.2ms | ActiveRecord: 55.0ms | Allocations: 32009)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:07 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315247, "callback_query"=>{"id"=>"2650224935987488937", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>274, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408025, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_98_39"}, "telegram_webhook"=>{"update_id"=>165315247, "callback_query"=>{"id"=>"2650224935987488937", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>274, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408025, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_98_39"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=98, test_result_id=39
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 98], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 3], ["answer_option_id", 98], ["created_at", "2025-10-02 12:27:07.530954"], ["updated_at", "2025-10-02 12:27:07.530954"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 668ms (Views: 0.1ms | ActiveRecord: 10.9ms | Allocations: 13374)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:08 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315248, "callback_query"=>{"id"=>"2650224934659946818", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>275, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408028, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_102_39"}, "telegram_webhook"=>{"update_id"=>165315248, "callback_query"=>{"id"=>"2650224934659946818", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>275, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408028, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_102_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=4, answer_option_id=102, test_result_id=39
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 102], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 4], ["answer_option_id", 102], ["created_at", "2025-10-02 12:27:08.931023"], ["updated_at", "2025-10-02 12:27:08.931023"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 4 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 5]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 658ms (Views: 0.2ms | ActiveRecord: 6.2ms | Allocations: 6903)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:10 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315249, "callback_query"=>{"id"=>"2650224935637312316", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>276, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408029, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_106_39"}, "telegram_webhook"=>{"update_id"=>165315249, "callback_query"=>{"id"=>"2650224935637312316", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>276, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408029, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_106_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=5, answer_option_id=106, test_result_id=39
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 106], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (1.0ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 5], ["answer_option_id", 106], ["created_at", "2025-10-02 12:27:10.382029"], ["updated_at", "2025-10-02 12:27:10.382029"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 5 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 6]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 383ms (Views: 0.2ms | ActiveRecord: 7.9ms | Allocations: 6935)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:12 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315250, "callback_query"=>{"id"=>"2650224936769864780", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>277, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408030, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_110_39"}, "telegram_webhook"=>{"update_id"=>165315250, "callback_query"=>{"id"=>"2650224936769864780", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>277, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408030, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_110_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=6, answer_option_id=110, test_result_id=39
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 110], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 6], ["answer_option_id", 110], ["created_at", "2025-10-02 12:27:12.188958"], ["updated_at", "2025-10-02 12:27:12.188958"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.9ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 6 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 7]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 382ms (Views: 0.2ms | ActiveRecord: 6.9ms | Allocations: 6876)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:13 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315251, "callback_query"=>{"id"=>"2650224935663649295", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>278, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408032, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_114_39"}, "telegram_webhook"=>{"update_id"=>165315251, "callback_query"=>{"id"=>"2650224935663649295", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>278, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408032, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_114_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=7, answer_option_id=114, test_result_id=39
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 114], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 7], ["answer_option_id", 114], ["created_at", "2025-10-02 12:27:13.349438"], ["updated_at", "2025-10-02 12:27:13.349438"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 7 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 8]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 364ms (Views: 0.2ms | ActiveRecord: 9.4ms | Allocations: 6818)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:15 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315252, "callback_query"=>{"id"=>"2650224934888993059", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>279, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408033, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_118_39"}, "telegram_webhook"=>{"update_id"=>165315252, "callback_query"=>{"id"=>"2650224934888993059", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>279, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408033, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_118_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=8, answer_option_id=118, test_result_id=39
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 118], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 8], ["answer_option_id", 118], ["created_at", "2025-10-02 12:27:15.294020"], ["updated_at", "2025-10-02 12:27:15.294020"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 8 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 9]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 391ms (Views: 0.1ms | ActiveRecord: 8.1ms | Allocations: 6807)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:20 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315253, "callback_query"=>{"id"=>"2650224937389479000", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>280, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408035, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_122_39"}, "telegram_webhook"=>{"update_id"=>165315253, "callback_query"=>{"id"=>"2650224937389479000", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>280, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408035, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_122_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=9, answer_option_id=122, test_result_id=39
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 122], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 9], ["answer_option_id", 122], ["created_at", "2025-10-02 12:27:20.206607"], ["updated_at", "2025-10-02 12:27:20.206607"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 9 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 10]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 425ms (Views: 0.2ms | ActiveRecord: 7.8ms | Allocations: 6851)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:22 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315254, "callback_query"=>{"id"=>"2650224933720869452", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>281, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408040, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_126_39"}, "telegram_webhook"=>{"update_id"=>165315254, "callback_query"=>{"id"=>"2650224933720869452", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>281, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408040, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_126_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=10, answer_option_id=126, test_result_id=39
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 126], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 10], ["answer_option_id", 126], ["created_at", "2025-10-02 12:27:22.299974"], ["updated_at", "2025-10-02 12:27:22.299974"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 10 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 11]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 380ms (Views: 0.2ms | ActiveRecord: 7.4ms | Allocations: 6898)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:23 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315255, "callback_query"=>{"id"=>"2650224936847691445", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>282, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408042, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_130_39"}, "telegram_webhook"=>{"update_id"=>165315255, "callback_query"=>{"id"=>"2650224936847691445", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>282, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408042, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_130_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=11, answer_option_id=130, test_result_id=39
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 130], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.1ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 11], ["answer_option_id", 130], ["created_at", "2025-10-02 12:27:23.655363"], ["updated_at", "2025-10-02 12:27:23.655363"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 11 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 12]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 476ms (Views: 0.1ms | ActiveRecord: 4.7ms | Allocations: 6826)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:24 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315256, "callback_query"=>{"id"=>"2650224933926172816", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>283, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408044, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_134_39"}, "telegram_webhook"=>{"update_id"=>165315256, "callback_query"=>{"id"=>"2650224933926172816", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>283, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408044, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_134_39"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=12, answer_option_id=134, test_result_id=39
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 134], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 12], ["answer_option_id", 134], ["created_at", "2025-10-02 12:27:24.968349"], ["updated_at", "2025-10-02 12:27:24.968349"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 12 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 13]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 443ms (Views: 0.3ms | ActiveRecord: 6.0ms | Allocations: 6292)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:26 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315257, "callback_query"=>{"id"=>"2650224934014538384", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>284, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408045, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_58_39"}, "telegram_webhook"=>{"update_id"=>165315257, "callback_query"=>{"id"=>"2650224934014538384", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>284, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408045, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_58_39"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=13, answer_option_id=58, test_result_id=39
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 13], ["answer_option_id", 58], ["created_at", "2025-10-02 12:27:26.973435"], ["updated_at", "2025-10-02 12:27:26.973435"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 13 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 14]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 448ms (Views: 0.1ms | ActiveRecord: 6.9ms | Allocations: 6248)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:28 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315258, "callback_query"=>{"id"=>"2650224934492105354", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>285, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408047, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_62_39"}, "telegram_webhook"=>{"update_id"=>165315258, "callback_query"=>{"id"=>"2650224934492105354", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>285, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408047, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_62_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=14, answer_option_id=62, test_result_id=39
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 14], ["answer_option_id", 62], ["created_at", "2025-10-02 12:27:28.850484"], ["updated_at", "2025-10-02 12:27:28.850484"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 14 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 15]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 391ms (Views: 0.2ms | ActiveRecord: 6.4ms | Allocations: 6303)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:30 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315259, "callback_query"=>{"id"=>"2650224933183183585", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>286, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408049, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_66_39"}, "telegram_webhook"=>{"update_id"=>165315259, "callback_query"=>{"id"=>"2650224933183183585", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>286, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408049, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_66_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=15, answer_option_id=66, test_result_id=39
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 66], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 15], ["answer_option_id", 66], ["created_at", "2025-10-02 12:27:30.251910"], ["updated_at", "2025-10-02 12:27:30.251910"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 15 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 16]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 381ms (Views: 0.2ms | ActiveRecord: 7.5ms | Allocations: 6260)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:31 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315260, "callback_query"=>{"id"=>"2650224934652636405", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>287, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408050, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_70_39"}, "telegram_webhook"=>{"update_id"=>165315260, "callback_query"=>{"id"=>"2650224934652636405", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>287, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408050, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_70_39"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=16, answer_option_id=70, test_result_id=39
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (1.0ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 16], ["answer_option_id", 70], ["created_at", "2025-10-02 12:27:31.462907"], ["updated_at", "2025-10-02 12:27:31.462907"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 16 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (1.0ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 17]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 401ms (Views: 0.1ms | ActiveRecord: 6.8ms | Allocations: 6260)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:32 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315261, "callback_query"=>{"id"=>"2650224936355542625", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>288, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408051, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_74_39"}, "telegram_webhook"=>{"update_id"=>165315261, "callback_query"=>{"id"=>"2650224936355542625", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>288, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408051, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_74_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=17, answer_option_id=74, test_result_id=39
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 17], ["answer_option_id", 74], ["created_at", "2025-10-02 12:27:32.649815"], ["updated_at", "2025-10-02 12:27:32.649815"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 17 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 18]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 370ms (Views: 0.2ms | ActiveRecord: 7.0ms | Allocations: 6270)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:33 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315262, "callback_query"=>{"id"=>"2650224933751840709", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>289, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408052, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_78_39"}, "telegram_webhook"=>{"update_id"=>165315262, "callback_query"=>{"id"=>"2650224933751840709", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>289, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408052, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_78_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=18, answer_option_id=78, test_result_id=39
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 18], ["answer_option_id", 78], ["created_at", "2025-10-02 12:27:33.895977"], ["updated_at", "2025-10-02 12:27:33.895977"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 18 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 19]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 394ms (Views: 0.3ms | ActiveRecord: 9.2ms | Allocations: 6341)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:35 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315263, "callback_query"=>{"id"=>"2650224935585415320", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>290, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408054, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_82_39"}, "telegram_webhook"=>{"update_id"=>165315263, "callback_query"=>{"id"=>"2650224935585415320", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>290, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408054, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_82_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=19, answer_option_id=82, test_result_id=39
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (1.0ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 82], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 19], ["answer_option_id", 82], ["created_at", "2025-10-02 12:27:35.229378"], ["updated_at", "2025-10-02 12:27:35.229378"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 19 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 20]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 361ms (Views: 0.1ms | ActiveRecord: 7.1ms | Allocations: 6243)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:36 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315264, "callback_query"=>{"id"=>"2650224934107786520", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>291, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408055, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_86_39"}, "telegram_webhook"=>{"update_id"=>165315264, "callback_query"=>{"id"=>"2650224934107786520", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>291, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408055, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_86_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=20, answer_option_id=86, test_result_id=39
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 86], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 20], ["answer_option_id", 86], ["created_at", "2025-10-02 12:27:36.641312"], ["updated_at", "2025-10-02 12:27:36.641312"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 20 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 21]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 437ms (Views: 0.3ms | ActiveRecord: 7.6ms | Allocations: 6226)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:38 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315265, "callback_query"=>{"id"=>"2650224936050214259", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>292, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408056, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_90_39"}, "telegram_webhook"=>{"update_id"=>165315265, "callback_query"=>{"id"=>"2650224936050214259", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>292, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408056, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_90_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=21, answer_option_id=90, test_result_id=39
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 90], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 21], ["answer_option_id", 90], ["created_at", "2025-10-02 12:27:38.397242"], ["updated_at", "2025-10-02 12:27:38.397242"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 21 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 22]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 386ms (Views: 0.2ms | ActiveRecord: 7.6ms | Allocations: 6288)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:40 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315266, "callback_query"=>{"id"=>"2650224937270713837", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>293, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408058, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_39"}, "telegram_webhook"=>{"update_id"=>165315266, "callback_query"=>{"id"=>"2650224937270713837", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>293, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408058, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=94, test_result_id=39
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 94], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 22], ["answer_option_id", 94], ["created_at", "2025-10-02 12:27:40.242754"], ["updated_at", "2025-10-02 12:27:40.242754"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.6ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 39], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 72ms (ActiveRecord: 5.2ms | Allocations: 7747)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:40 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315266, "callback_query"=>{"id"=>"2650224937270713837", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>293, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408058, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_39"}, "telegram_webhook"=>{"update_id"=>165315266, "callback_query"=>{"id"=>"2650224937270713837", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>293, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408058, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=94, test_result_id=39
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 94], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 22], ["answer_option_id", 94], ["created_at", "2025-10-02 12:27:40.707909"], ["updated_at", "2025-10-02 12:27:40.707909"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.6ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 39], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 46ms (ActiveRecord: 6.2ms | Allocations: 5661)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:43 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315266, "callback_query"=>{"id"=>"2650224937270713837", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>293, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408058, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_39"}, "telegram_webhook"=>{"update_id"=>165315266, "callback_query"=>{"id"=>"2650224937270713837", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>293, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408058, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_39"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=94, test_result_id=39
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 94], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 22], ["answer_option_id", 94], ["created_at", "2025-10-02 12:27:43.079414"], ["updated_at", "2025-10-02 12:27:43.079414"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (3.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.8ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 39], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 58ms (ActiveRecord: 13.1ms | Allocations: 5645)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:27:47 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315266, "callback_query"=>{"id"=>"2650224937270713837", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>293, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408058, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_39"}, "telegram_webhook"=>{"update_id"=>165315266, "callback_query"=>{"id"=>"2650224937270713837", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>293, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408058, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_39"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=94, test_result_id=39
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 94], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (6.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 39], ["question_id", 22], ["answer_option_id", 94], ["created_at", "2025-10-02 12:27:47.492264"], ["updated_at", "2025-10-02 12:27:47.492264"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.9ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.5ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 39], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 63ms (ActiveRecord: 10.5ms | Allocations: 5645)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options"[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mAnswerOption Load (1.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.1ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (58.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.0ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 3]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.0ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 4]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.1ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 5]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 6]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 7]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 8]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 9]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.0ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 10]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 11]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (3.0ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 12]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 13]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.4ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 14]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 15]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.3ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 16]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mAnswer Load (0.4ms)[0m  [1m[34mSELECT "answers".* FROM "answers"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.0ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 3]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 4]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 5]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 6]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 7]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 8]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 9]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 10]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 11]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 12]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.0ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 13]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.5ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 14]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 15]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.2ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 16]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 17]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 18]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 19]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 20]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 21]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.4ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 22]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.4ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 23]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.3ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 24]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 25]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.2ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 26]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 27]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (5.4ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 28]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.3ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 29]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 30]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 31]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 32]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 33]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 34]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 35]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 36]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 37]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 38]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 39]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 40]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 41]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 42]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 43]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 44]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 45]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.1ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 46]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.4ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 47]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 48]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 49]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (3.9ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 50]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 51]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (3.1ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 52]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 53]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.9ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 54]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 55]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 56]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 57]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.3ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 58]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 59]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.2ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 60]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 61]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 62]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 63]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.1ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 64]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 65]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 66]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 67]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 68]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 69]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 70]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 71]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.0ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 72]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 73]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 74]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 75]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 76]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 77]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.0ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 78]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 79]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 80]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 81]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (2.1ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 82]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 83]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 84]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 85]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 86]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 87]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 88]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 89]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 90]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 91]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 92]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswer Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answers" WHERE "answers"."id" = ?[0m  [["id", 93]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (3.2ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 16]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.5ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 17]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 18]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 19]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 20]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 21]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 22]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 23]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 24]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 25]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 26]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 27]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 28]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 29]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.0ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 30]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 31]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 32]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 33]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 34]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 35]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.3ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 36]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 37]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 38]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 39]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 40]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 41]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 42]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (3.0ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 43]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.0ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 44]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.3ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 45]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 46]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.5ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 47]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 48]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.1ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 49]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 50]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 51]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 52]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 53]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.2ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 54]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 55]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 56]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (3.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 57]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 58]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.0ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 59]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 60]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.1ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 61]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 62]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 63]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 64]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 65]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 66]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 67]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 68]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 69]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 70]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.1ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 71]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 72]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.5ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 73]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 74]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 75]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 76]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 77]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 78]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 79]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 80]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 81]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 82]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 83]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 84]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.9ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 85]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 86]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 87]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 88]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 89]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 90]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 91]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 92]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.5ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 93]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 94]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 95]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.2ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 96]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 97]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 98]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 99]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (3.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 100]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 101]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (3.1ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 102]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 103]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 104]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 105]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 106]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 107]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.4ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 108]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 109]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.5ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 110]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 111]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 112]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 113]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 114]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.0ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 115]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 116]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 117]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 118]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 119]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 120]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 121]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 122]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 123]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 124]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 125]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 126]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 127]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.1ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 128]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 129]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 131]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 132]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.8ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 133]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (2.7ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 134]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Destroy (1.6ms)[0m  [1m[31mDELETE FROM "answer_options" WHERE "answer_options"."id" = ?[0m  [["id", 135]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions"[0m
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:34.543017"], ["updated_at", "2025-10-02 12:35:34.543017"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:34.554789"], ["updated_at", "2025-10-02 12:35:34.554789"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:34.564358"], ["updated_at", "2025-10-02 12:35:34.564358"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 1], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:34.574248"], ["updated_at", "2025-10-02 12:35:34.574248"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 2], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:34.588132"], ["updated_at", "2025-10-02 12:35:34.588132"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 2], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:34.598311"], ["updated_at", "2025-10-02 12:35:34.598311"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 2], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:34.608540"], ["updated_at", "2025-10-02 12:35:34.608540"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 2], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 2], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:34.618567"], ["updated_at", "2025-10-02 12:35:34.618567"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:34.628437"], ["updated_at", "2025-10-02 12:35:34.628437"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:34.638302"], ["updated_at", "2025-10-02 12:35:34.638302"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:34.648366"], ["updated_at", "2025-10-02 12:35:34.648366"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 3], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:34.657530"], ["updated_at", "2025-10-02 12:35:34.657530"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:34.666804"], ["updated_at", "2025-10-02 12:35:34.666804"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:34.675742"], ["updated_at", "2025-10-02 12:35:34.675742"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:34.684433"], ["updated_at", "2025-10-02 12:35:34.684433"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 4], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:34.693928"], ["updated_at", "2025-10-02 12:35:34.693928"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:34.703019"], ["updated_at", "2025-10-02 12:35:34.703019"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:34.712472"], ["updated_at", "2025-10-02 12:35:34.712472"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:34.723607"], ["updated_at", "2025-10-02 12:35:34.723607"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 5], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:34.733757"], ["updated_at", "2025-10-02 12:35:34.733757"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:34.743963"], ["updated_at", "2025-10-02 12:35:34.743963"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:34.754059"], ["updated_at", "2025-10-02 12:35:34.754059"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:34.763463"], ["updated_at", "2025-10-02 12:35:34.763463"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 6], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:34.772830"], ["updated_at", "2025-10-02 12:35:34.772830"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:34.782394"], ["updated_at", "2025-10-02 12:35:34.782394"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:34.791898"], ["updated_at", "2025-10-02 12:35:34.791898"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:34.801298"], ["updated_at", "2025-10-02 12:35:34.801298"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 7], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:34.810103"], ["updated_at", "2025-10-02 12:35:34.810103"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:34.819753"], ["updated_at", "2025-10-02 12:35:34.819753"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:34.828644"], ["updated_at", "2025-10-02 12:35:34.828644"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:34.838832"], ["updated_at", "2025-10-02 12:35:34.838832"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 8], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:34.848911"], ["updated_at", "2025-10-02 12:35:34.848911"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:34.860197"], ["updated_at", "2025-10-02 12:35:34.860197"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:34.870535"], ["updated_at", "2025-10-02 12:35:34.870535"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:34.880715"], ["updated_at", "2025-10-02 12:35:34.880715"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 9], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:34.890918"], ["updated_at", "2025-10-02 12:35:34.890918"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:34.900908"], ["updated_at", "2025-10-02 12:35:34.900908"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:34.911681"], ["updated_at", "2025-10-02 12:35:34.911681"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:34.921158"], ["updated_at", "2025-10-02 12:35:34.921158"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 10], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:34.930084"], ["updated_at", "2025-10-02 12:35:34.930084"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:34.939458"], ["updated_at", "2025-10-02 12:35:34.939458"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:34.948902"], ["updated_at", "2025-10-02 12:35:34.948902"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:34.958867"], ["updated_at", "2025-10-02 12:35:34.958867"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 11], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:34.968125"], ["updated_at", "2025-10-02 12:35:34.968125"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:34.977322"], ["updated_at", "2025-10-02 12:35:34.977322"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:34.987209"], ["updated_at", "2025-10-02 12:35:34.987209"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:34.996744"], ["updated_at", "2025-10-02 12:35:34.996744"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 12], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:35.007448"], ["updated_at", "2025-10-02 12:35:35.007448"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 13], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:35.017513"], ["updated_at", "2025-10-02 12:35:35.017513"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 13], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:35.027383"], ["updated_at", "2025-10-02 12:35:35.027383"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 13], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:35.036996"], ["updated_at", "2025-10-02 12:35:35.036996"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 13], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 13], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:35.046055"], ["updated_at", "2025-10-02 12:35:35.046055"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 14], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:35.055414"], ["updated_at", "2025-10-02 12:35:35.055414"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 14], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:35.064598"], ["updated_at", "2025-10-02 12:35:35.064598"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 14], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:35.073682"], ["updated_at", "2025-10-02 12:35:35.073682"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 14], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 14], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:35.082928"], ["updated_at", "2025-10-02 12:35:35.082928"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 15], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:35.092621"], ["updated_at", "2025-10-02 12:35:35.092621"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 15], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:35.102101"], ["updated_at", "2025-10-02 12:35:35.102101"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 15], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:35.111449"], ["updated_at", "2025-10-02 12:35:35.111449"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 15], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 15], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:35.120935"], ["updated_at", "2025-10-02 12:35:35.120935"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 16], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:35.129772"], ["updated_at", "2025-10-02 12:35:35.129772"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 16], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:35.140815"], ["updated_at", "2025-10-02 12:35:35.140815"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 16], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:35.150894"], ["updated_at", "2025-10-02 12:35:35.150894"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 16], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 16], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:35.160824"], ["updated_at", "2025-10-02 12:35:35.160824"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 17], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:35.170706"], ["updated_at", "2025-10-02 12:35:35.170706"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 17], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:35.179905"], ["updated_at", "2025-10-02 12:35:35.179905"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 17], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:35.189117"], ["updated_at", "2025-10-02 12:35:35.189117"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 17], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 17], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:35.198482"], ["updated_at", "2025-10-02 12:35:35.198482"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 18], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:35.207806"], ["updated_at", "2025-10-02 12:35:35.207806"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 18], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:35.216991"], ["updated_at", "2025-10-02 12:35:35.216991"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 18], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:35.226292"], ["updated_at", "2025-10-02 12:35:35.226292"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 18], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 18], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:35.235612"], ["updated_at", "2025-10-02 12:35:35.235612"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 19], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:35.245363"], ["updated_at", "2025-10-02 12:35:35.245363"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 19], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:35.255513"], ["updated_at", "2025-10-02 12:35:35.255513"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 19], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:35.264278"], ["updated_at", "2025-10-02 12:35:35.264278"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 19], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 19], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:35.275339"], ["updated_at", "2025-10-02 12:35:35.275339"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 20], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:35.285769"], ["updated_at", "2025-10-02 12:35:35.285769"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 20], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:35.295994"], ["updated_at", "2025-10-02 12:35:35.295994"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 20], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:35.305884"], ["updated_at", "2025-10-02 12:35:35.305884"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 20], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 20], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:35.315263"], ["updated_at", "2025-10-02 12:35:35.315263"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 21], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:35.324718"], ["updated_at", "2025-10-02 12:35:35.324718"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 21], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:35.334087"], ["updated_at", "2025-10-02 12:35:35.334087"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 21], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:35.343424"], ["updated_at", "2025-10-02 12:35:35.343424"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 21], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 21], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:35.353098"], ["updated_at", "2025-10-02 12:35:35.353098"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 22], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 12:35:35.362598"], ["updated_at", "2025-10-02 12:35:35.362598"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 22], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 12:35:35.371867"], ["updated_at", "2025-10-02 12:35:35.371867"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 22], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 12:35:35.381491"], ["updated_at", "2025-10-02 12:35:35.381491"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ? AND "answer_options"."text" = ? AND "answer_options"."value" = ? LIMIT ?[0m  [["question_id", 22], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 22], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 12:35:35.390490"], ["updated_at", "2025-10-02 12:35:35.390490"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:35:41 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315266, "callback_query"=>{"id"=>"2650224937270713837", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>293, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408058, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_39"}, "telegram_webhook"=>{"update_id"=>165315266, "callback_query"=>{"id"=>"2650224937270713837", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>293, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408058, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_94_39"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=94, test_result_id=39
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 94], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
Completed 404 Not Found in 140ms (ActiveRecord: 4.3ms | Allocations: 36187)


  
ActiveRecord::RecordNotFound (Couldn't find AnswerOption with 'id'=94):
  
app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
app/controllers/telegram_webhooks_controller.rb:67:in `message'
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:36:42 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315267, "message"=>{"message_id"=>294, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408602, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315267, "message"=>{"message_id"=>294, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408602, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 382ms (Views: 0.7ms | ActiveRecord: 0.1ms | Allocations: 3403)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:36:44 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315268, "callback_query"=>{"id"=>"2650224937304125687", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>295, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408602, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315268, "callback_query"=>{"id"=>"2650224937304125687", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>295, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408602, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:86:in `start_anxiety_test'
Test ID: 2
User ID: 2
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTestResult Create (2.9ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 2], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-02 12:36:44.683236"], ["updated_at", "2025-10-02 12:36:44.683236"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
TestResult ID: 40
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:109:in `map'
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° - answer_3_144_40
Callback data for option: Ð˜Ð½Ð¾Ð³Ð´Ð° - answer_3_145_40
Callback data for option: Ð§Ð°ÑÑ‚Ð¾ - answer_3_146_40
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð° - answer_3_147_40
Sending question with markup: {"inline_keyboard":[[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°","callback_data":"answer_3_144_40"}],[{"text":"Ð˜Ð½Ð¾Ð³Ð´Ð°","callback_data":"answer_3_145_40"}],[{"text":"Ð§Ð°ÑÑ‚Ð¾","callback_data":"answer_3_146_40"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°","callback_data":"answer_3_147_40"}]]}
Completed 200 OK in 695ms (Views: 0.1ms | ActiveRecord: 8.1ms | Allocations: 23091)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:36:51 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315269, "callback_query"=>{"id"=>"2650224933449530952", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>296, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408605, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_144_40"}, "telegram_webhook"=>{"update_id"=>165315269, "callback_query"=>{"id"=>"2650224933449530952", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>296, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408605, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_144_40"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=144, test_result_id=40
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.9ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 144], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.7ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 3], ["answer_option_id", 144], ["created_at", "2025-10-02 12:36:51.218175"], ["updated_at", "2025-10-02 12:36:51.218175"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.0ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 782ms (Views: 0.4ms | ActiveRecord: 10.0ms | Allocations: 12444)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:36:53 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315270, "callback_query"=>{"id"=>"2650224936443096386", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>297, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408611, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_148_40"}, "telegram_webhook"=>{"update_id"=>165315270, "callback_query"=>{"id"=>"2650224936443096386", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>297, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408611, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_148_40"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=4, answer_option_id=148, test_result_id=40
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 148], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 4], ["answer_option_id", 148], ["created_at", "2025-10-02 12:36:53.106366"], ["updated_at", "2025-10-02 12:36:53.106366"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (1.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 4 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 5]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 522ms (Views: 0.1ms | ActiveRecord: 8.1ms | Allocations: 6285)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:36:54 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315271, "callback_query"=>{"id"=>"2650224934666600346", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>298, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408613, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_152_40"}, "telegram_webhook"=>{"update_id"=>165315271, "callback_query"=>{"id"=>"2650224934666600346", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>298, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408613, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_152_40"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=5, answer_option_id=152, test_result_id=40
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 152], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (2.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 5], ["answer_option_id", 152], ["created_at", "2025-10-02 12:36:54.941055"], ["updated_at", "2025-10-02 12:36:54.941055"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.0ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 5 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 6]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 414ms (Views: 0.2ms | ActiveRecord: 10.2ms | Allocations: 6313)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:36:56 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315272, "callback_query"=>{"id"=>"2650224936456251114", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>299, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408615, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_156_40"}, "telegram_webhook"=>{"update_id"=>165315272, "callback_query"=>{"id"=>"2650224936456251114", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>299, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408615, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_156_40"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=6, answer_option_id=156, test_result_id=40
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 156], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 6], ["answer_option_id", 156], ["created_at", "2025-10-02 12:36:56.095782"], ["updated_at", "2025-10-02 12:36:56.095782"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 6 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 7]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 480ms (Views: 0.2ms | ActiveRecord: 7.9ms | Allocations: 6254)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:36:57 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315273, "callback_query"=>{"id"=>"2650224933822318045", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>300, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408616, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_160_40"}, "telegram_webhook"=>{"update_id"=>165315273, "callback_query"=>{"id"=>"2650224933822318045", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>300, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408616, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_160_40"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=7, answer_option_id=160, test_result_id=40
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 160], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 7], ["answer_option_id", 160], ["created_at", "2025-10-02 12:36:57.343294"], ["updated_at", "2025-10-02 12:36:57.343294"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 7 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 8]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 396ms (Views: 0.3ms | ActiveRecord: 11.4ms | Allocations: 6202)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:36:58 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315274, "callback_query"=>{"id"=>"2650224934752598150", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>301, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408617, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_164_40"}, "telegram_webhook"=>{"update_id"=>165315274, "callback_query"=>{"id"=>"2650224934752598150", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>301, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408617, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_164_40"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=8, answer_option_id=164, test_result_id=40
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 164], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.9ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 8], ["answer_option_id", 164], ["created_at", "2025-10-02 12:36:58.532684"], ["updated_at", "2025-10-02 12:36:58.532684"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 8 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 9]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 392ms (Views: 0.2ms | ActiveRecord: 8.1ms | Allocations: 6209)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:36:59 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315275, "callback_query"=>{"id"=>"2650224937178966971", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>302, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408618, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_168_40"}, "telegram_webhook"=>{"update_id"=>165315275, "callback_query"=>{"id"=>"2650224937178966971", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>302, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408618, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_168_40"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=9, answer_option_id=168, test_result_id=40
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 168], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 9], ["answer_option_id", 168], ["created_at", "2025-10-02 12:36:59.679457"], ["updated_at", "2025-10-02 12:36:59.679457"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 9 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 10]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 399ms (Views: 0.1ms | ActiveRecord: 8.7ms | Allocations: 6225)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:00 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315276, "callback_query"=>{"id"=>"2650224934412571196", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>303, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408619, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_172_40"}, "telegram_webhook"=>{"update_id"=>165315276, "callback_query"=>{"id"=>"2650224934412571196", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>303, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408619, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_172_40"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=10, answer_option_id=172, test_result_id=40
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 172], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 10], ["answer_option_id", 172], ["created_at", "2025-10-02 12:37:00.807421"], ["updated_at", "2025-10-02 12:37:00.807421"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 10 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 11]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 462ms (Views: 0.1ms | ActiveRecord: 6.7ms | Allocations: 6273)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:01 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315277, "callback_query"=>{"id"=>"2650224935661309807", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>304, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408621, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_176_40"}, "telegram_webhook"=>{"update_id"=>165315277, "callback_query"=>{"id"=>"2650224935661309807", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>304, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408621, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_176_40"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=11, answer_option_id=176, test_result_id=40
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 176], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (1.1ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 11], ["answer_option_id", 176], ["created_at", "2025-10-02 12:37:01.948954"], ["updated_at", "2025-10-02 12:37:01.948954"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 11 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 12]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 410ms (Views: 0.2ms | ActiveRecord: 6.4ms | Allocations: 6203)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:03 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315278, "callback_query"=>{"id"=>"2650224935157643442", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>305, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408622, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_180_40"}, "telegram_webhook"=>{"update_id"=>165315278, "callback_query"=>{"id"=>"2650224935157643442", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>305, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408622, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_180_40"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=12, answer_option_id=180, test_result_id=40
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 180], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 12], ["answer_option_id", 180], ["created_at", "2025-10-02 12:37:03.057399"], ["updated_at", "2025-10-02 12:37:03.057399"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 12 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 13]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 382ms (Views: 0.2ms | ActiveRecord: 8.1ms | Allocations: 6292)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:04 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315279, "callback_query"=>{"id"=>"2650224934791902560", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>306, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408623, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_184_40"}, "telegram_webhook"=>{"update_id"=>165315279, "callback_query"=>{"id"=>"2650224934791902560", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>306, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408623, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_184_40"}}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=13, answer_option_id=184, test_result_id=40
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 184], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 13], ["answer_option_id", 184], ["created_at", "2025-10-02 12:37:04.154901"], ["updated_at", "2025-10-02 12:37:04.154901"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.0ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 13 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 14]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 391ms (Views: 0.3ms | ActiveRecord: 7.5ms | Allocations: 6244)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:05 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315280, "callback_query"=>{"id"=>"2650224933153145822", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>307, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408624, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_188_40"}, "telegram_webhook"=>{"update_id"=>165315280, "callback_query"=>{"id"=>"2650224933153145822", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>307, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408624, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_188_40"}}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=14, answer_option_id=188, test_result_id=40
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 188], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 14], ["answer_option_id", 188], ["created_at", "2025-10-02 12:37:05.279264"], ["updated_at", "2025-10-02 12:37:05.279264"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 14 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 15]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 381ms (Views: 0.1ms | ActiveRecord: 6.9ms | Allocations: 6307)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:06 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315281, "callback_query"=>{"id"=>"2650224937298209843", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>308, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408625, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_193_40"}, "telegram_webhook"=>{"update_id"=>165315281, "callback_query"=>{"id"=>"2650224937298209843", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>308, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408625, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_193_40"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=15, answer_option_id=193, test_result_id=40
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 193], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 15], ["answer_option_id", 193], ["created_at", "2025-10-02 12:37:06.511673"], ["updated_at", "2025-10-02 12:37:06.511673"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 15 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.9ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 16]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 443ms (Views: 0.2ms | ActiveRecord: 6.7ms | Allocations: 6257)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:07 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315282, "callback_query"=>{"id"=>"2650224934475589198", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>309, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408626, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_197_40"}, "telegram_webhook"=>{"update_id"=>165315282, "callback_query"=>{"id"=>"2650224934475589198", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>309, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408626, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_197_40"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=16, answer_option_id=197, test_result_id=40
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 197], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (1.0ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 16], ["answer_option_id", 197], ["created_at", "2025-10-02 12:37:07.803776"], ["updated_at", "2025-10-02 12:37:07.803776"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (134.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 16 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 17]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 557ms (Views: 0.2ms | ActiveRecord: 139.8ms | Allocations: 6260)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:09 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315283, "callback_query"=>{"id"=>"2650224936367845272", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>310, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408628, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_201_40"}, "telegram_webhook"=>{"update_id"=>165315283, "callback_query"=>{"id"=>"2650224936367845272", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>310, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408628, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_201_40"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=17, answer_option_id=201, test_result_id=40
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 201], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 17], ["answer_option_id", 201], ["created_at", "2025-10-02 12:37:09.147115"], ["updated_at", "2025-10-02 12:37:09.147115"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (140.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 17 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 18]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 541ms (Views: 0.5ms | ActiveRecord: 147.4ms | Allocations: 6274)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:10 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315284, "callback_query"=>{"id"=>"2650224935353098245", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>311, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408629, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_205_40"}, "telegram_webhook"=>{"update_id"=>165315284, "callback_query"=>{"id"=>"2650224935353098245", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>311, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408629, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_205_40"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=18, answer_option_id=205, test_result_id=40
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 205], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 18], ["answer_option_id", 205], ["created_at", "2025-10-02 12:37:10.469084"], ["updated_at", "2025-10-02 12:37:10.469084"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 18 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 19]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 444ms (Views: 0.5ms | ActiveRecord: 5.8ms | Allocations: 6342)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:11 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315285, "callback_query"=>{"id"=>"2650224936851791093", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>312, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408630, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_209_40"}, "telegram_webhook"=>{"update_id"=>165315285, "callback_query"=>{"id"=>"2650224936851791093", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>312, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408630, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_209_40"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=19, answer_option_id=209, test_result_id=40
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 209], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 19], ["answer_option_id", 209], ["created_at", "2025-10-02 12:37:11.649403"], ["updated_at", "2025-10-02 12:37:11.649403"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 19 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 20]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 390ms (Views: 0.1ms | ActiveRecord: 6.1ms | Allocations: 6245)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:12 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315286, "callback_query"=>{"id"=>"2650224936074950381", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>313, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408631, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_213_40"}, "telegram_webhook"=>{"update_id"=>165315286, "callback_query"=>{"id"=>"2650224936074950381", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>313, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408631, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_213_40"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=20, answer_option_id=213, test_result_id=40
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 213], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 20], ["answer_option_id", 213], ["created_at", "2025-10-02 12:37:12.878921"], ["updated_at", "2025-10-02 12:37:12.878921"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 20 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 21]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 374ms (Views: 0.2ms | ActiveRecord: 6.8ms | Allocations: 6226)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:13 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315287, "callback_query"=>{"id"=>"2650224936789369433", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>314, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408633, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_217_40"}, "telegram_webhook"=>{"update_id"=>165315287, "callback_query"=>{"id"=>"2650224936789369433", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>314, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408633, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_217_40"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=21, answer_option_id=217, test_result_id=40
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 217], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 21], ["answer_option_id", 217], ["created_at", "2025-10-02 12:37:13.961262"], ["updated_at", "2025-10-02 12:37:13.961262"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 21 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 22]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 368ms (Views: 0.6ms | ActiveRecord: 6.3ms | Allocations: 6284)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:15 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315288, "callback_query"=>{"id"=>"2650224936626044143", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>315, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408634, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_221_40"}, "telegram_webhook"=>{"update_id"=>165315288, "callback_query"=>{"id"=>"2650224936626044143", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>315, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408634, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_221_40"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=221, test_result_id=40
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 221], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (1.0ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 22], ["answer_option_id", 221], ["created_at", "2025-10-02 12:37:15.178479"], ["updated_at", "2025-10-02 12:37:15.178479"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.0ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.6ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 40], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 80ms (ActiveRecord: 8.3ms | Allocations: 7722)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:15 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315288, "callback_query"=>{"id"=>"2650224936626044143", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>315, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408634, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_221_40"}, "telegram_webhook"=>{"update_id"=>165315288, "callback_query"=>{"id"=>"2650224936626044143", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>315, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408634, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_221_40"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=221, test_result_id=40
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 221], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 22], ["answer_option_id", 221], ["created_at", "2025-10-02 12:37:15.613841"], ["updated_at", "2025-10-02 12:37:15.613841"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.5ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 40], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 5.3ms | Allocations: 5661)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:17 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315288, "callback_query"=>{"id"=>"2650224936626044143", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>315, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408634, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_221_40"}, "telegram_webhook"=>{"update_id"=>165315288, "callback_query"=>{"id"=>"2650224936626044143", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>315, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408634, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_221_40"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=221, test_result_id=40
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 221], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 22], ["answer_option_id", 221], ["created_at", "2025-10-02 12:37:17.956463"], ["updated_at", "2025-10-02 12:37:17.956463"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.7ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 40], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 56ms (ActiveRecord: 9.1ms | Allocations: 5645)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 17:37:22 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315288, "callback_query"=>{"id"=>"2650224936626044143", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>315, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408634, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_221_40"}, "telegram_webhook"=>{"update_id"=>165315288, "callback_query"=>{"id"=>"2650224936626044143", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>315, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759408634, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_221_40"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=221, test_result_id=40
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 221], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 40], ["question_id", 22], ["answer_option_id", 221], ["created_at", "2025-10-02 12:37:22.372790"], ["updated_at", "2025-10-02 12:37:22.372790"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.5ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 40], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 6.8ms | Allocations: 5645)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: answer_options.value:
SELECT SUM("answer_options"."value") FROM "answers" INNER JOIN "questions" ON "questions"."id" = "answers"."question_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?
           ^):
  
  [1m[36mAnswerOption Load (5.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options"[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" ORDER BY "answer_options"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAnswerOption Load (1.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options"[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:11 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315289, "message"=>{"message_id"=>316, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410790, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315289, "message"=>{"message_id"=>316, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410790, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 784ms (Views: 0.3ms | ActiveRecord: 2.9ms | Allocations: 28764)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:14 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315290, "callback_query"=>{"id"=>"2650224933911586299", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>317, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410792, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315290, "callback_query"=>{"id"=>"2650224933911586299", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>317, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410792, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (0.8ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:86:in `start_anxiety_test'
Test ID: 2
User ID: 2
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTestResult Create (6.7ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 2], ["test_id", 2], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-02 13:13:14.792706"], ["updated_at", "2025-10-02 13:13:14.792706"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
TestResult ID: 41
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.9ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:109:in `map'
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° - answer_3_144_41
Callback data for option: Ð˜Ð½Ð¾Ð³Ð´Ð° - answer_3_145_41
Callback data for option: Ð§Ð°ÑÑ‚Ð¾ - answer_3_146_41
Callback data for option: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð° - answer_3_147_41
Sending question with markup: {"inline_keyboard":[[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°","callback_data":"answer_3_144_41"}],[{"text":"Ð˜Ð½Ð¾Ð³Ð´Ð°","callback_data":"answer_3_145_41"}],[{"text":"Ð§Ð°ÑÑ‚Ð¾","callback_data":"answer_3_146_41"}],[{"text":"ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°","callback_data":"answer_3_147_41"}]]}
Completed 200 OK in 813ms (Views: 0.1ms | ActiveRecord: 14.4ms | Allocations: 31332)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:20 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315291, "callback_query"=>{"id"=>"2650224936857182180", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>318, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410795, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_144_41"}, "telegram_webhook"=>{"update_id"=>165315291, "callback_query"=>{"id"=>"2650224936857182180", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>318, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410795, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_144_41"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=3, answer_option_id=144, test_result_id=41
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (1.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 144], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 3], ["answer_option_id", 144], ["created_at", "2025-10-02 13:13:21.032075"], ["updated_at", "2025-10-02 13:13:21.032075"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 469ms (Views: 0.1ms | ActiveRecord: 9.4ms | Allocations: 12756)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:22 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315292, "callback_query"=>{"id"=>"2650224933133377504", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>319, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410801, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_148_41"}, "telegram_webhook"=>{"update_id"=>165315292, "callback_query"=>{"id"=>"2650224933133377504", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>319, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410801, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_148_41"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=4, answer_option_id=148, test_result_id=41
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 148], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 4], ["answer_option_id", 148], ["created_at", "2025-10-02 13:13:22.454832"], ["updated_at", "2025-10-02 13:13:22.454832"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 4 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 5]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 687ms (Views: 0.3ms | ActiveRecord: 7.2ms | Allocations: 6284)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:24 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315293, "callback_query"=>{"id"=>"2650224933709384767", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>320, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410803, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_152_41"}, "telegram_webhook"=>{"update_id"=>165315293, "callback_query"=>{"id"=>"2650224933709384767", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>320, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410803, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_152_41"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=5, answer_option_id=152, test_result_id=41
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 152], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (6.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 5], ["answer_option_id", 152], ["created_at", "2025-10-02 13:13:24.227257"], ["updated_at", "2025-10-02 13:13:24.227257"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 5 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 6]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 423ms (Views: 0.2ms | ActiveRecord: 9.3ms | Allocations: 6314)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:25 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315294, "callback_query"=>{"id"=>"2650224936635773623", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>321, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410805, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_157_41"}, "telegram_webhook"=>{"update_id"=>165315294, "callback_query"=>{"id"=>"2650224936635773623", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>321, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410805, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_157_41"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=6, answer_option_id=157, test_result_id=41
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 157], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (9.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 6], ["answer_option_id", 157], ["created_at", "2025-10-02 13:13:25.399536"], ["updated_at", "2025-10-02 13:13:25.399536"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.9ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 6 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 7]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 698ms (Views: 0.1ms | ActiveRecord: 12.1ms | Allocations: 6258)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:27 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315295, "callback_query"=>{"id"=>"2650224934878216279", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>322, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410806, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_161_41"}, "telegram_webhook"=>{"update_id"=>165315295, "callback_query"=>{"id"=>"2650224934878216279", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>322, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410806, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_161_41"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=7, answer_option_id=161, test_result_id=41
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 161], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.7ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 7], ["answer_option_id", 161], ["created_at", "2025-10-02 13:13:27.186243"], ["updated_at", "2025-10-02 13:13:27.186243"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 7 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 8]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 631ms (Views: 0.2ms | ActiveRecord: 5.1ms | Allocations: 6203)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:29 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315296, "callback_query"=>{"id"=>"2650224933624740924", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>323, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410808, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_166_41"}, "telegram_webhook"=>{"update_id"=>165315296, "callback_query"=>{"id"=>"2650224933624740924", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>323, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410808, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_166_41"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=8, answer_option_id=166, test_result_id=41
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.8ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 166], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 8], ["answer_option_id", 166], ["created_at", "2025-10-02 13:13:29.186726"], ["updated_at", "2025-10-02 13:13:29.186726"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 8 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 9]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 785ms (Views: 0.3ms | ActiveRecord: 7.8ms | Allocations: 6192)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:31 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315297, "callback_query"=>{"id"=>"2650224936479713346", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>324, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410810, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_169_41"}, "telegram_webhook"=>{"update_id"=>165315297, "callback_query"=>{"id"=>"2650224936479713346", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>324, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410810, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_169_41"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=9, answer_option_id=169, test_result_id=41
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 169], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 9], ["answer_option_id", 169], ["created_at", "2025-10-02 13:13:31.268634"], ["updated_at", "2025-10-02 13:13:31.268634"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 9 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 10]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 481ms (Views: 0.1ms | ActiveRecord: 7.0ms | Allocations: 6229)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:32 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315298, "callback_query"=>{"id"=>"2650224934746671669", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>325, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410812, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_174_41"}, "telegram_webhook"=>{"update_id"=>165315298, "callback_query"=>{"id"=>"2650224934746671669", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>325, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410812, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_174_41"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=10, answer_option_id=174, test_result_id=41
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 174], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (18.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 10], ["answer_option_id", 174], ["created_at", "2025-10-02 13:13:33.011950"], ["updated_at", "2025-10-02 13:13:33.011950"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 10 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 11]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 442ms (Views: 0.1ms | ActiveRecord: 21.0ms | Allocations: 6279)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:34 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315299, "callback_query"=>{"id"=>"2650224935481496286", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>326, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410813, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_176_41"}, "telegram_webhook"=>{"update_id"=>165315299, "callback_query"=>{"id"=>"2650224935481496286", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>326, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410813, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_176_41"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=11, answer_option_id=176, test_result_id=41
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 176], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 11], ["answer_option_id", 176], ["created_at", "2025-10-02 13:13:34.852665"], ["updated_at", "2025-10-02 13:13:34.852665"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 11 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 12]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 551ms (Views: 0.2ms | ActiveRecord: 7.5ms | Allocations: 6201)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:36 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315300, "callback_query"=>{"id"=>"2650224935446423195", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>327, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410815, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_180_41"}, "telegram_webhook"=>{"update_id"=>165315300, "callback_query"=>{"id"=>"2650224935446423195", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>327, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410815, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_180_41"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=12, answer_option_id=180, test_result_id=41
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 180], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (2.0ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 12], ["answer_option_id", 180], ["created_at", "2025-10-02 13:13:36.226426"], ["updated_at", "2025-10-02 13:13:36.226426"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 12 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 13]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 563ms (Views: 0.7ms | ActiveRecord: 8.8ms | Allocations: 6293)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:38 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315301, "callback_query"=>{"id"=>"2650224935128994327", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>328, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410817, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_185_41"}, "telegram_webhook"=>{"update_id"=>165315301, "callback_query"=>{"id"=>"2650224935128994327", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>328, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410817, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_185_41"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=13, answer_option_id=185, test_result_id=41
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 185], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 13], ["answer_option_id", 185], ["created_at", "2025-10-02 13:13:38.082152"], ["updated_at", "2025-10-02 13:13:38.082152"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 13 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 14]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 566ms (Views: 0.1ms | ActiveRecord: 7.9ms | Allocations: 6245)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:39 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315302, "callback_query"=>{"id"=>"2650224933981274041", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>329, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410819, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_188_41"}, "telegram_webhook"=>{"update_id"=>165315302, "callback_query"=>{"id"=>"2650224933981274041", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>329, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410819, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_188_41"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=14, answer_option_id=188, test_result_id=41
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 188], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 14], ["answer_option_id", 188], ["created_at", "2025-10-02 13:13:39.987425"], ["updated_at", "2025-10-02 13:13:39.987425"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 14 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 15]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 577ms (Views: 0.2ms | ActiveRecord: 6.4ms | Allocations: 6311)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:41 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315303, "callback_query"=>{"id"=>"2650224934949957170", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>330, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410820, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_193_41"}, "telegram_webhook"=>{"update_id"=>165315303, "callback_query"=>{"id"=>"2650224934949957170", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>330, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410820, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_193_41"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=15, answer_option_id=193, test_result_id=41
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 193], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 15], ["answer_option_id", 193], ["created_at", "2025-10-02 13:13:41.767110"], ["updated_at", "2025-10-02 13:13:41.767110"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 15 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 16]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 450ms (Views: 0.2ms | ActiveRecord: 6.8ms | Allocations: 6256)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:43 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315304, "callback_query"=>{"id"=>"2650224935551401865", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>331, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410822, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_196_41"}, "telegram_webhook"=>{"update_id"=>165315304, "callback_query"=>{"id"=>"2650224935551401865", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>331, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410822, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_196_41"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=16, answer_option_id=196, test_result_id=41
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 196], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 16], ["answer_option_id", 196], ["created_at", "2025-10-02 13:13:43.357217"], ["updated_at", "2025-10-02 13:13:43.357217"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 16 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 17]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 738ms (Views: 0.1ms | ActiveRecord: 4.7ms | Allocations: 6264)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:45 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315305, "callback_query"=>{"id"=>"2650224936225873686", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>332, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410824, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_201_41"}, "telegram_webhook"=>{"update_id"=>165315305, "callback_query"=>{"id"=>"2650224936225873686", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>332, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410824, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_201_41"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=17, answer_option_id=201, test_result_id=41
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 201], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.8ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 17], ["answer_option_id", 201], ["created_at", "2025-10-02 13:13:45.649140"], ["updated_at", "2025-10-02 13:13:45.649140"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.8ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 17 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 18]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 759ms (Views: 0.1ms | ActiveRecord: 6.1ms | Allocations: 6270)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:47 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315306, "callback_query"=>{"id"=>"2650224936793007472", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>333, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410826, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_205_41"}, "telegram_webhook"=>{"update_id"=>165315306, "callback_query"=>{"id"=>"2650224936793007472", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>333, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410826, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_205_41"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=18, answer_option_id=205, test_result_id=41
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 205], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 18], ["answer_option_id", 205], ["created_at", "2025-10-02 13:13:47.536633"], ["updated_at", "2025-10-02 13:13:47.536633"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 18 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 19]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 667ms (Views: 0.1ms | ActiveRecord: 5.1ms | Allocations: 6341)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:49 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315307, "callback_query"=>{"id"=>"2650224934428006883", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>334, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410828, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_208_41"}, "telegram_webhook"=>{"update_id"=>165315307, "callback_query"=>{"id"=>"2650224934428006883", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>334, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410828, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_208_41"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=19, answer_option_id=208, test_result_id=41
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 208], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 19], ["answer_option_id", 208], ["created_at", "2025-10-02 13:13:49.521232"], ["updated_at", "2025-10-02 13:13:49.521232"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 19 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 20]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 775ms (Views: 0.1ms | ActiveRecord: 6.9ms | Allocations: 6242)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:51 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315308, "callback_query"=>{"id"=>"2650224935492277497", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>335, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410830, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_215_41"}, "telegram_webhook"=>{"update_id"=>165315308, "callback_query"=>{"id"=>"2650224935492277497", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>335, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410830, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_215_41"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=20, answer_option_id=215, test_result_id=41
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.8ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 215], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (6.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 20], ["answer_option_id", 215], ["created_at", "2025-10-02 13:13:51.973999"], ["updated_at", "2025-10-02 13:13:51.973999"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.9ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 20 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 21]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 573ms (Views: 0.5ms | ActiveRecord: 9.8ms | Allocations: 6227)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:13:53 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315309, "callback_query"=>{"id"=>"2650224937035442819", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>336, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410832, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_217_41"}, "telegram_webhook"=>{"update_id"=>165315309, "callback_query"=>{"id"=>"2650224937035442819", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>336, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410832, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_217_41"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=21, answer_option_id=217, test_result_id=41
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 217], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 21], ["answer_option_id", 217], ["created_at", "2025-10-02 13:13:53.694266"], ["updated_at", "2025-10-02 13:13:53.694266"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 21 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 22]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 573ms (Views: 0.2ms | ActiveRecord: 5.9ms | Allocations: 6284)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:14:02 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315310, "callback_query"=>{"id"=>"2650224934096276027", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>337, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410834, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_222_41"}, "telegram_webhook"=>{"update_id"=>165315310, "callback_query"=>{"id"=>"2650224934096276027", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>337, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759410834, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_222_41"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=2, question_id=22, answer_option_id=222, test_result_id=41
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 222], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 41], ["question_id", 22], ["answer_option_id", 222], ["created_at", "2025-10-02 13:14:02.760129"], ["updated_at", "2025-10-02 13:14:02.760129"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.6ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" LEFT OUTER JOIN "questions" ON "questions"."id" = "answers"."question_id" LEFT OUTER JOIN "answer_options" ON "answer_options"."question_id" = "questions"."id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 41], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.2ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" LEFT OUTER JOIN "questions" ON "questions"."id" = "answers"."question_id" LEFT OUTER JOIN "answer_options" ON "answer_options"."question_id" = "questions"."id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 41], ["part", 2]]
  â†³ app/controllers/telegram_webhooks_controller.rb:168:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:189:in `calculate_and_send_results'
  [1m[36mTestResult Update (3.8ms)[0m  [1m[33mUPDATE "test_results" SET "score" = ?, "completed_at" = ?, "updated_at" = ? WHERE "test_results"."id" = ?[0m  [["score", 200], ["completed_at", "2025-10-02 13:14:02.830089"], ["updated_at", "2025-10-02 13:14:02.836322"], ["id", 41]]
  â†³ app/controllers/telegram_webhooks_controller.rb:189:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:189:in `calculate_and_send_results'
Completed 200 OK in 492ms (Views: 0.3ms | ActiveRecord: 11.7ms | Allocations: 11305)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (39.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-10-02 13:22:07.657290', '2025-10-02 13:22:07.657303') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20250929144526)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "telegram_id" integer, "first_name" varchar, "last_name" varchar, "username" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_telegram_id" ON "users" ("telegram_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250929144526') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTests (20250929144539)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE TABLE "tests" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250929144539') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateQuestions (20250929144549)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (7.9ms)[0m  [1m[35mCREATE TABLE "questions" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "test_id" integer NOT NULL, "text" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_cb4b358d50"
FOREIGN KEY ("test_id")
  REFERENCES "tests" ("id")
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_questions_on_test_id" ON "questions" ("test_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250929144549') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateAnswerOptions (20250929144603)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "answer_options" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "question_id" integer NOT NULL, "text" varchar, "value" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_4d660e1508"
FOREIGN KEY ("question_id")
  REFERENCES "questions" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_answer_options_on_question_id" ON "answer_options" ("question_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250929144603') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTestResults (20250929144613)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "test_results" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer NOT NULL, "test_id" integer NOT NULL, "score" integer, "completed_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_592dda5024"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_b56923d317"
FOREIGN KEY ("test_id")
  REFERENCES "tests" ("id")
)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE INDEX "index_test_results_on_user_id" ON "test_results" ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_test_results_on_test_id" ON "test_results" ("test_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250929144613') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateAnswers (20250929144621)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "answers" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "test_result_id" integer NOT NULL, "question_id" integer NOT NULL, "answer_option_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_81e5dda97e"
FOREIGN KEY ("test_result_id")
  REFERENCES "test_results" ("id")
, CONSTRAINT "fk_rails_3d5ed4418f"
FOREIGN KEY ("question_id")
  REFERENCES "questions" ("id")
, CONSTRAINT "fk_rails_08b3e6cd40"
FOREIGN KEY ("answer_option_id")
  REFERENCES "answer_options" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_answers_on_test_result_id" ON "answers" ("test_result_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_answers_on_question_id" ON "answers" ("question_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE INDEX "index_answers_on_answer_option_id" ON "answers" ("answer_option_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250929144621') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddPartToQuestions (20251002110910)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "questions" ADD "part" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251002110910') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? AND "tests"."description" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["description", "Ð¢ÐµÑÑ‚ Ð´Ð»Ñ Ð¾Ñ†ÐµÐ½ÐºÐ¸ ÑƒÑ€Ð¾Ð²Ð½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTest Create (0.2ms)[0m  [1m[32mINSERT INTO "tests" ("name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["description", "Ð¢ÐµÑÑ‚ Ð´Ð»Ñ Ð¾Ñ†ÐµÐ½ÐºÐ¸ ÑƒÑ€Ð¾Ð²Ð½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["created_at", "2025-10-02 13:22:08.145368"], ["updated_at", "2025-10-02 13:22:08.145368"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (4.0ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾."], ["created_at", "2025-10-02 13:22:08.180332"], ["updated_at", "2025-10-02 13:22:08.180332"], ["part", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (7.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 13:22:08.216210"], ["updated_at", "2025-10-02 13:22:08.216210"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 13:22:08.266108"], ["updated_at", "2025-10-02 13:22:08.266108"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 13:22:08.274159"], ["updated_at", "2025-10-02 13:22:08.274159"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 1], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 13:22:08.281356"], ["updated_at", "2025-10-02 13:22:08.281356"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.5ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ."], ["created_at", "2025-10-02 13:22:08.289220"], ["updated_at", "2025-10-02 13:22:08.289220"], ["part", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 2], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 13:22:08.297257"], ["updated_at", "2025-10-02 13:22:08.297257"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 2], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 13:22:08.304834"], ["updated_at", "2025-10-02 13:22:08.304834"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.7ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 2], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 13:22:08.311837"], ["updated_at", "2025-10-02 13:22:08.311837"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 2], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 13:22:08.319083"], ["updated_at", "2025-10-02 13:22:08.319083"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.8ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼."], ["created_at", "2025-10-02 13:22:08.326567"], ["updated_at", "2025-10-02 13:22:08.326567"], ["part", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 13:22:08.334479"], ["updated_at", "2025-10-02 13:22:08.334479"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 13:22:08.342741"], ["updated_at", "2025-10-02 13:22:08.342741"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 13:22:08.350855"], ["updated_at", "2025-10-02 13:22:08.350855"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 3], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 13:22:08.359899"], ["updated_at", "2025-10-02 13:22:08.359899"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.6ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸."], ["created_at", "2025-10-02 13:22:08.367201"], ["updated_at", "2025-10-02 13:22:08.367201"], ["part", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.7ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 13:22:08.374945"], ["updated_at", "2025-10-02 13:22:08.374945"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 13:22:08.382531"], ["updated_at", "2025-10-02 13:22:08.382531"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 13:22:08.390107"], ["updated_at", "2025-10-02 13:22:08.390107"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 4], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 13:22:08.397998"], ["updated_at", "2025-10-02 13:22:08.397998"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (4.0ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸."], ["created_at", "2025-10-02 13:22:08.405427"], ["updated_at", "2025-10-02 13:22:08.405427"], ["part", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 13:22:08.417274"], ["updated_at", "2025-10-02 13:22:08.417274"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 13:22:08.426192"], ["updated_at", "2025-10-02 13:22:08.426192"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 13:22:08.435139"], ["updated_at", "2025-10-02 13:22:08.435139"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 5], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 13:22:08.442462"], ["updated_at", "2025-10-02 13:22:08.442462"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.3ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ."], ["created_at", "2025-10-02 13:22:08.452271"], ["updated_at", "2025-10-02 13:22:08.452271"], ["part", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 13:22:08.460139"], ["updated_at", "2025-10-02 13:22:08.460139"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 13:22:08.467614"], ["updated_at", "2025-10-02 13:22:08.467614"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 13:22:08.474674"], ["updated_at", "2025-10-02 13:22:08.474674"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 6], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 13:22:08.481951"], ["updated_at", "2025-10-02 13:22:08.481951"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.2ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ."], ["created_at", "2025-10-02 13:22:08.489574"], ["updated_at", "2025-10-02 13:22:08.489574"], ["part", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 13:22:08.497098"], ["updated_at", "2025-10-02 13:22:08.497098"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 13:22:08.504278"], ["updated_at", "2025-10-02 13:22:08.504278"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 13:22:08.512206"], ["updated_at", "2025-10-02 13:22:08.512206"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 7], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 13:22:08.519295"], ["updated_at", "2025-10-02 13:22:08.519295"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.9ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹)."], ["created_at", "2025-10-02 13:22:08.526420"], ["updated_at", "2025-10-02 13:22:08.526420"], ["part", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 13:22:08.534302"], ["updated_at", "2025-10-02 13:22:08.534302"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 13:22:08.544154"], ["updated_at", "2025-10-02 13:22:08.544154"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (5.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 13:22:08.552122"], ["updated_at", "2025-10-02 13:22:08.552122"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 8], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 13:22:08.562250"], ["updated_at", "2025-10-02 13:22:08.562250"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.6ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹."], ["created_at", "2025-10-02 13:22:08.571604"], ["updated_at", "2025-10-02 13:22:08.571604"], ["part", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 13:22:08.580210"], ["updated_at", "2025-10-02 13:22:08.580210"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 13:22:08.587968"], ["updated_at", "2025-10-02 13:22:08.587968"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 13:22:08.596842"], ["updated_at", "2025-10-02 13:22:08.596842"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 9], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 13:22:08.604718"], ["updated_at", "2025-10-02 13:22:08.604718"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.4ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ."], ["created_at", "2025-10-02 13:22:08.612385"], ["updated_at", "2025-10-02 13:22:08.612385"], ["part", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 1], ["created_at", "2025-10-02 13:22:08.619687"], ["updated_at", "2025-10-02 13:22:08.619687"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 2], ["created_at", "2025-10-02 13:22:08.627766"], ["updated_at", "2025-10-02 13:22:08.627766"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 3], ["created_at", "2025-10-02 13:22:08.635623"], ["updated_at", "2025-10-02 13:22:08.635623"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 10], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚"], ["value", 4], ["created_at", "2025-10-02 13:22:08.642902"], ["updated_at", "2025-10-02 13:22:08.642902"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.5ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹."], ["created_at", "2025-10-02 13:22:08.650617"], ["updated_at", "2025-10-02 13:22:08.650617"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 13:22:08.659082"], ["updated_at", "2025-10-02 13:22:08.659082"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 13:22:08.669998"], ["updated_at", "2025-10-02 13:22:08.669998"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 13:22:08.679707"], ["updated_at", "2025-10-02 13:22:08.679707"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 11], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 13:22:08.688223"], ["updated_at", "2025-10-02 13:22:08.688223"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.9ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼."], ["created_at", "2025-10-02 13:22:08.697045"], ["updated_at", "2025-10-02 13:22:08.697045"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 13:22:08.706518"], ["updated_at", "2025-10-02 13:22:08.706518"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 13:22:08.719859"], ["updated_at", "2025-10-02 13:22:08.719859"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 13:22:08.728885"], ["updated_at", "2025-10-02 13:22:08.728885"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 12], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 13:22:08.737356"], ["updated_at", "2025-10-02 13:22:08.737356"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.9ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹."], ["created_at", "2025-10-02 13:22:08.749070"], ["updated_at", "2025-10-02 13:22:08.749070"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 13], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 13:22:08.759538"], ["updated_at", "2025-10-02 13:22:08.759538"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 13], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 13:22:08.767452"], ["updated_at", "2025-10-02 13:22:08.767452"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 13], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 13:22:08.776729"], ["updated_at", "2025-10-02 13:22:08.776729"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 13], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 13:22:08.785168"], ["updated_at", "2025-10-02 13:22:08.785168"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.4ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ."], ["created_at", "2025-10-02 13:22:08.793968"], ["updated_at", "2025-10-02 13:22:08.793968"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.7ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 14], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 13:22:08.801924"], ["updated_at", "2025-10-02 13:22:08.801924"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 14], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 13:22:08.811150"], ["updated_at", "2025-10-02 13:22:08.811150"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 14], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 13:22:08.819239"], ["updated_at", "2025-10-02 13:22:08.819239"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 14], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 13:22:08.827305"], ["updated_at", "2025-10-02 13:22:08.827305"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.4ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸."], ["created_at", "2025-10-02 13:22:08.835240"], ["updated_at", "2025-10-02 13:22:08.835240"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 15], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 13:22:08.843456"], ["updated_at", "2025-10-02 13:22:08.843456"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 15], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 13:22:08.851647"], ["updated_at", "2025-10-02 13:22:08.851647"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 15], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 13:22:08.859380"], ["updated_at", "2025-10-02 13:22:08.859380"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 15], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 13:22:08.867166"], ["updated_at", "2025-10-02 13:22:08.867166"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.7ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸."], ["created_at", "2025-10-02 13:22:08.875474"], ["updated_at", "2025-10-02 13:22:08.875474"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 16], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 13:22:08.886232"], ["updated_at", "2025-10-02 13:22:08.886232"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 16], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 13:22:08.895030"], ["updated_at", "2025-10-02 13:22:08.895030"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 16], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 13:22:08.903353"], ["updated_at", "2025-10-02 13:22:08.903353"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 16], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 13:22:08.911648"], ["updated_at", "2025-10-02 13:22:08.911648"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.2ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ."], ["created_at", "2025-10-02 13:22:08.921006"], ["updated_at", "2025-10-02 13:22:08.921006"], ["part", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 17], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 13:22:08.929462"], ["updated_at", "2025-10-02 13:22:08.929462"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 17], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 13:22:08.937862"], ["updated_at", "2025-10-02 13:22:08.937862"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 17], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 13:22:08.945804"], ["updated_at", "2025-10-02 13:22:08.945804"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 17], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 13:22:08.954379"], ["updated_at", "2025-10-02 13:22:08.954379"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.6ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸."], ["created_at", "2025-10-02 13:22:08.962549"], ["updated_at", "2025-10-02 13:22:08.962549"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 18], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 13:22:08.970706"], ["updated_at", "2025-10-02 13:22:08.970706"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 18], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 13:22:08.978418"], ["updated_at", "2025-10-02 13:22:08.978418"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 18], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 13:22:08.986330"], ["updated_at", "2025-10-02 13:22:08.986330"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 18], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 13:22:08.993475"], ["updated_at", "2025-10-02 13:22:08.993475"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.7ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ."], ["created_at", "2025-10-02 13:22:09.000859"], ["updated_at", "2025-10-02 13:22:09.000859"], ["part", 2]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 19], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 13:22:09.009051"], ["updated_at", "2025-10-02 13:22:09.009051"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.7ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 19], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 13:22:09.015794"], ["updated_at", "2025-10-02 13:22:09.015794"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 19], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 13:22:09.024119"], ["updated_at", "2025-10-02 13:22:09.024119"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (5.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 19], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 13:22:09.032403"], ["updated_at", "2025-10-02 13:22:09.032403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.2ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 1], ["text", "Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ."], ["created_at", "2025-10-02 13:22:09.042291"], ["updated_at", "2025-10-02 13:22:09.042291"], ["part", 2]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 20], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°"], ["value", 1], ["created_at", "2025-10-02 13:22:09.050701"], ["updated_at", "2025-10-02 13:22:09.050701"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.7ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 20], ["text", "Ð˜Ð½Ð¾Ð³Ð´Ð°"], ["value", 2], ["created_at", "2025-10-02 13:22:09.059125"], ["updated_at", "2025-10-02 13:22:09.059125"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 20], ["text", "Ð§Ð°ÑÑ‚Ð¾"], ["value", 3], ["created_at", "2025-10-02 13:22:09.066256"], ["updated_at", "2025-10-02 13:22:09.066256"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 20], ["text", "ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°"], ["value", 4], ["created_at", "2025-10-02 13:22:09.075236"], ["updated_at", "2025-10-02 13:22:09.075236"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  [1m[36mQuestion Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "questions" WHERE "questions"."test_id" = ?[0m  [["test_id", 1]]
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" ORDER BY "questions"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mAnswerOption Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:23:55 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315311, "message"=>{"message_id"=>339, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411406, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315311, "message"=>{"message_id"=>339, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411406, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("telegram_id", "first_name", "last_name", "username", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["telegram_id", 617053577], ["first_name", "Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²"], ["last_name", "ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€"], ["username", "larchenkovad"], ["created_at", "2025-10-02 13:23:56.130769"], ["updated_at", "2025-10-02 13:23:56.130769"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
  [1m[36mTRANSACTION (95.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 1175ms (Views: 0.4ms | ActiveRecord: 100.2ms | Allocations: 31301)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:24:01 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315312, "callback_query"=>{"id"=>"2650224934809362427", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>340, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411437, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315312, "callback_query"=>{"id"=>"2650224934809362427", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>340, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411437, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:86:in `start_anxiety_test'
Test ID: 1
User ID: 1
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTestResult Create (4.0ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 1], ["test_id", 1], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-02 13:24:01.531999"], ["updated_at", "2025-10-02 13:24:01.531999"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
TestResult ID: 1
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:109:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_1_1
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_2_1
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_3_1
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_4_1
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_1_1"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_2_1"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_3_1"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_4_1"}]]}
Completed 200 OK in 1491ms (Views: 0.1ms | ActiveRecord: 10.7ms | Allocations: 30836)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:24:12 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315313, "callback_query"=>{"id"=>"2650224934808439775", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>341, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411443, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_1_4_1"}, "telegram_webhook"=>{"update_id"=>165315313, "callback_query"=>{"id"=>"2650224934808439775", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>341, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411443, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_1_4_1"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=1, answer_option_id=4, test_result_id=1
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 1], ["answer_option_id", 4], ["created_at", "2025-10-02 13:24:12.577561"], ["updated_at", "2025-10-02 13:24:12.577561"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 1 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 2]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 516ms (Views: 0.4ms | ActiveRecord: 10.8ms | Allocations: 12813)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:24:14 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315314, "callback_query"=>{"id"=>"2650224935796408081", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>342, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411453, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_2_8_1"}, "telegram_webhook"=>{"update_id"=>165315314, "callback_query"=>{"id"=>"2650224935796408081", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>342, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411453, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_2_8_1"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=2, answer_option_id=8, test_result_id=1
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 2], ["answer_option_id", 8], ["created_at", "2025-10-02 13:24:14.630242"], ["updated_at", "2025-10-02 13:24:14.630242"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 2 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 797ms (Views: 0.1ms | ActiveRecord: 8.0ms | Allocations: 6352)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:24:16 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315315, "callback_query"=>{"id"=>"2650224933897523610", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>343, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411455, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_12_1"}, "telegram_webhook"=>{"update_id"=>165315315, "callback_query"=>{"id"=>"2650224933897523610", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>343, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411455, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_12_1"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=3, answer_option_id=12, test_result_id=1
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 3], ["answer_option_id", 12], ["created_at", "2025-10-02 13:24:16.731264"], ["updated_at", "2025-10-02 13:24:16.731264"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 430ms (Views: 0.2ms | ActiveRecord: 6.6ms | Allocations: 6363)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:24:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315316, "callback_query"=>{"id"=>"2650224934574036405", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>344, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411457, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_16_1"}, "telegram_webhook"=>{"update_id"=>165315316, "callback_query"=>{"id"=>"2650224934574036405", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>344, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411457, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_16_1"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=4, answer_option_id=16, test_result_id=1
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (1.0ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (8.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 4], ["answer_option_id", 16], ["created_at", "2025-10-02 13:24:18.172108"], ["updated_at", "2025-10-02 13:24:18.172108"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 4 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 5]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 1141ms (Views: 0.3ms | ActiveRecord: 11.7ms | Allocations: 6325)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:24:20 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315317, "callback_query"=>{"id"=>"2650224933573065911", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>345, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411459, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_20_1"}, "telegram_webhook"=>{"update_id"=>165315317, "callback_query"=>{"id"=>"2650224933573065911", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>345, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411459, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_20_1"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=5, answer_option_id=20, test_result_id=1
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 5], ["answer_option_id", 20], ["created_at", "2025-10-02 13:24:20.848150"], ["updated_at", "2025-10-02 13:24:20.848150"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 5 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 6]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 865ms (Views: 0.3ms | ActiveRecord: 7.4ms | Allocations: 6287)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:24:22 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315318, "callback_query"=>{"id"=>"2650224934734514436", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>346, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411462, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_24_1"}, "telegram_webhook"=>{"update_id"=>165315318, "callback_query"=>{"id"=>"2650224934734514436", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>346, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411462, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_24_1"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=6, answer_option_id=24, test_result_id=1
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 6], ["answer_option_id", 24], ["created_at", "2025-10-02 13:24:22.856341"], ["updated_at", "2025-10-02 13:24:22.856341"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 6 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 7]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 590ms (Views: 0.3ms | ActiveRecord: 6.4ms | Allocations: 6258)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:24:25 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315319, "callback_query"=>{"id"=>"2650224936894600183", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>347, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411463, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_28_1"}, "telegram_webhook"=>{"update_id"=>165315319, "callback_query"=>{"id"=>"2650224936894600183", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>347, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411463, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_28_1"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=7, answer_option_id=28, test_result_id=1
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.1ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 7], ["answer_option_id", 28], ["created_at", "2025-10-02 13:24:25.090995"], ["updated_at", "2025-10-02 13:24:25.090995"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 7 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 8]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 554ms (Views: 0.6ms | ActiveRecord: 7.6ms | Allocations: 6294)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:24:26 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315320, "callback_query"=>{"id"=>"2650224936592555843", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>348, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411466, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_32_1"}, "telegram_webhook"=>{"update_id"=>165315320, "callback_query"=>{"id"=>"2650224936592555843", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>348, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411466, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_32_1"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=8, answer_option_id=32, test_result_id=1
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.7ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 8], ["answer_option_id", 32], ["created_at", "2025-10-02 13:24:26.905320"], ["updated_at", "2025-10-02 13:24:26.905320"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 8 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 9]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 939ms (Views: 0.2ms | ActiveRecord: 5.5ms | Allocations: 6340)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:24:29 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315321, "callback_query"=>{"id"=>"2650224937211817891", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>349, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411468, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_36_1"}, "telegram_webhook"=>{"update_id"=>165315321, "callback_query"=>{"id"=>"2650224937211817891", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>349, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411468, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_36_1"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=9, answer_option_id=36, test_result_id=1
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 9], ["answer_option_id", 36], ["created_at", "2025-10-02 13:24:29.113856"], ["updated_at", "2025-10-02 13:24:29.113856"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 9 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 10]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 1679ms (Views: 0.2ms | ActiveRecord: 4.2ms | Allocations: 6274)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:24:32 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315322, "callback_query"=>{"id"=>"2650224933313252921", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>350, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411471, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_40_1"}, "telegram_webhook"=>{"update_id"=>165315322, "callback_query"=>{"id"=>"2650224933313252921", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>350, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411471, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_40_1"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=10, answer_option_id=40, test_result_id=1
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 10], ["answer_option_id", 40], ["created_at", "2025-10-02 13:24:32.377294"], ["updated_at", "2025-10-02 13:24:32.377294"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 10 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 11]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 5478ms (Views: 0.2ms | ActiveRecord: 4.9ms | Allocations: 6301)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:24:41 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315323, "callback_query"=>{"id"=>"2650224935077634998", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>351, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411477, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_44_1"}, "telegram_webhook"=>{"update_id"=>165315323, "callback_query"=>{"id"=>"2650224935077634998", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>351, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411477, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_44_1"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=11, answer_option_id=44, test_result_id=1
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 44], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 11], ["answer_option_id", 44], ["created_at", "2025-10-02 13:24:41.268313"], ["updated_at", "2025-10-02 13:24:41.268313"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.8ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 11 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 12]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 3110ms (Views: 0.3ms | ActiveRecord: 7.1ms | Allocations: 6246)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:24:47 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315324, "callback_query"=>{"id"=>"2650224935190836023", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>352, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411483, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_48_1"}, "telegram_webhook"=>{"update_id"=>165315324, "callback_query"=>{"id"=>"2650224935190836023", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>352, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411483, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_48_1"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=12, answer_option_id=48, test_result_id=1
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (11.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 12], ["answer_option_id", 48], ["created_at", "2025-10-02 13:24:47.536272"], ["updated_at", "2025-10-02 13:24:47.536272"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 12 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 13]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 1648ms (Views: 0.3ms | ActiveRecord: 15.0ms | Allocations: 6299)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:24:50 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315325, "callback_query"=>{"id"=>"2650224936042976300", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>353, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411489, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_52_1"}, "telegram_webhook"=>{"update_id"=>165315325, "callback_query"=>{"id"=>"2650224936042976300", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>353, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411489, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_52_1"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=13, answer_option_id=52, test_result_id=1
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 52], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (6.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 13], ["answer_option_id", 52], ["created_at", "2025-10-02 13:24:50.990406"], ["updated_at", "2025-10-02 13:24:50.990406"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 13 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 14]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 2270ms (Views: 0.2ms | ActiveRecord: 9.1ms | Allocations: 6256)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:25:01 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315326, "callback_query"=>{"id"=>"2650224933780682357", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>354, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411493, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_56_1"}, "telegram_webhook"=>{"update_id"=>165315326, "callback_query"=>{"id"=>"2650224933780682357", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>354, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411493, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_56_1"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=14, answer_option_id=56, test_result_id=1
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 14], ["answer_option_id", 56], ["created_at", "2025-10-02 13:25:01.750940"], ["updated_at", "2025-10-02 13:25:01.750940"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 14 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 15]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 18317ms (Views: 0.3ms | ActiveRecord: 7.3ms | Allocations: 5959)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:25:27 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315327, "callback_query"=>{"id"=>"2650224936510148456", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>354, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411493, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_56_1"}, "telegram_webhook"=>{"update_id"=>165315327, "callback_query"=>{"id"=>"2650224936510148456", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>354, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411493, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_56_1"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=14, answer_option_id=56, test_result_id=1
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 14], ["answer_option_id", 56], ["created_at", "2025-10-02 13:25:27.221158"], ["updated_at", "2025-10-02 13:25:27.221158"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 14 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 15]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 5965ms (Views: 0.1ms | ActiveRecord: 7.5ms | Allocations: 6270)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:25:39 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315328, "callback_query"=>{"id"=>"2650224935105287718", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>355, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411533, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_60_1"}, "telegram_webhook"=>{"update_id"=>165315328, "callback_query"=>{"id"=>"2650224935105287718", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>355, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411533, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_60_1"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=15, answer_option_id=60, test_result_id=1
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 15], ["answer_option_id", 60], ["created_at", "2025-10-02 13:25:39.890153"], ["updated_at", "2025-10-02 13:25:39.890153"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 15 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 16]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 979ms (Views: 0.1ms | ActiveRecord: 5.7ms | Allocations: 6269)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:25:42 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315329, "callback_query"=>{"id"=>"2650224936857137436", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>356, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411541, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_64_1"}, "telegram_webhook"=>{"update_id"=>165315329, "callback_query"=>{"id"=>"2650224936857137436", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>356, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411541, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_64_1"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=16, answer_option_id=64, test_result_id=1
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 16], ["answer_option_id", 64], ["created_at", "2025-10-02 13:25:42.691011"], ["updated_at", "2025-10-02 13:25:42.691011"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 16 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 17]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 657ms (Views: 0.2ms | ActiveRecord: 7.1ms | Allocations: 6336)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:25:44 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315330, "callback_query"=>{"id"=>"2650224934336178736", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>357, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411543, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_68_1"}, "telegram_webhook"=>{"update_id"=>165315330, "callback_query"=>{"id"=>"2650224934336178736", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>357, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411543, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_68_1"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=17, answer_option_id=68, test_result_id=1
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.8ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 68], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 17], ["answer_option_id", 68], ["created_at", "2025-10-02 13:25:44.834621"], ["updated_at", "2025-10-02 13:25:44.834621"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 17 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 18]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 596ms (Views: 0.2ms | ActiveRecord: 6.9ms | Allocations: 6241)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:25:46 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315331, "callback_query"=>{"id"=>"2650224933562894524", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>358, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411545, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_72_1"}, "telegram_webhook"=>{"update_id"=>165315331, "callback_query"=>{"id"=>"2650224933562894524", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>358, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411545, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_72_1"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=18, answer_option_id=72, test_result_id=1
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 72], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 18], ["answer_option_id", 72], ["created_at", "2025-10-02 13:25:46.521696"], ["updated_at", "2025-10-02 13:25:46.521696"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 18 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 19]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 1195ms (Views: 0.1ms | ActiveRecord: 7.8ms | Allocations: 6225)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:25:48 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315332, "callback_query"=>{"id"=>"2650224936725355929", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>359, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411548, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_76_1"}, "telegram_webhook"=>{"update_id"=>165315332, "callback_query"=>{"id"=>"2650224936725355929", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>359, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411548, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_76_1"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=19, answer_option_id=76, test_result_id=1
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 76], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 19], ["answer_option_id", 76], ["created_at", "2025-10-02 13:25:48.749877"], ["updated_at", "2025-10-02 13:25:48.749877"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 19 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 20]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 590ms (Views: 0.3ms | ActiveRecord: 5.7ms | Allocations: 6282)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:25:50 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315333, "callback_query"=>{"id"=>"2650224933217106204", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>360, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411549, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_80_1"}, "telegram_webhook"=>{"update_id"=>165315333, "callback_query"=>{"id"=>"2650224933217106204", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>360, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411549, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_80_1"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=20, answer_option_id=80, test_result_id=1
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 1], ["question_id", 20], ["answer_option_id", 80], ["created_at", "2025-10-02 13:25:50.562162"], ["updated_at", "2025-10-02 13:25:50.562162"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 20 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.5ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" LEFT OUTER JOIN "questions" ON "questions"."id" = "answers"."question_id" LEFT OUTER JOIN "answer_options" ON "answer_options"."question_id" = "questions"."id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 1], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.3ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" LEFT OUTER JOIN "questions" ON "questions"."id" = "answers"."question_id" LEFT OUTER JOIN "answer_options" ON "answer_options"."question_id" = "questions"."id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 1], ["part", 2]]
  â†³ app/controllers/telegram_webhooks_controller.rb:168:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:189:in `calculate_and_send_results'
  [1m[36mTestResult Update (2.1ms)[0m  [1m[33mUPDATE "test_results" SET "score" = ?, "completed_at" = ?, "updated_at" = ? WHERE "test_results"."id" = ?[0m  [["score", 210], ["completed_at", "2025-10-02 13:25:50.617917"], ["updated_at", "2025-10-02 13:25:50.619469"], ["id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:189:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:189:in `calculate_and_send_results'
Completed 200 OK in 688ms (Views: 0.5ms | ActiveRecord: 11.6ms | Allocations: 11315)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:30:21 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315334, "message"=>{"message_id"=>362, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411821, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315334, "message"=>{"message_id"=>362, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411821, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 1178ms (Views: 0.6ms | ActiveRecord: 3.8ms | Allocations: 28771)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:30:37 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315335, "callback_query"=>{"id"=>"2650224937367552085", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>363, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411823, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315335, "callback_query"=>{"id"=>"2650224937367552085", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>363, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411823, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:86:in `start_anxiety_test'
Test ID: 1
User ID: 1
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTestResult Create (4.7ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 1], ["test_id", 1], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-02 13:30:37.812149"], ["updated_at", "2025-10-02 13:30:37.812149"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
TestResult ID: 2
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:109:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_1_2
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_2_2
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_3_2
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_4_2
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_1_2"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_2_2"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_3_2"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_4_2"}]]}
Completed 200 OK in 1274ms (Views: 0.3ms | ActiveRecord: 11.8ms | Allocations: 31415)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:30:41 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315336, "callback_query"=>{"id"=>"2650224935607745243", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>364, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411838, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_1_4_2"}, "telegram_webhook"=>{"update_id"=>165315336, "callback_query"=>{"id"=>"2650224935607745243", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>364, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411838, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_1_4_2"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=1, answer_option_id=4, test_result_id=2
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (8.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 2], ["question_id", 1], ["answer_option_id", 4], ["created_at", "2025-10-02 13:30:41.944116"], ["updated_at", "2025-10-02 13:30:41.944116"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 1 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 2]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 3860ms (Views: 0.4ms | ActiveRecord: 12.1ms | Allocations: 12830)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:30:48 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315337, "callback_query"=>{"id"=>"2650224933582365099", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>365, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411843, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_2_8_2"}, "telegram_webhook"=>{"update_id"=>165315337, "callback_query"=>{"id"=>"2650224933582365099", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>365, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411843, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_2_8_2"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=2, answer_option_id=8, test_result_id=2
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 2], ["question_id", 2], ["answer_option_id", 8], ["created_at", "2025-10-02 13:30:48.132524"], ["updated_at", "2025-10-02 13:30:48.132524"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 2 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 3994ms (Views: 0.2ms | ActiveRecord: 5.1ms | Allocations: 6361)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:30:59 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315338, "callback_query"=>{"id"=>"2650224934651250534", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>366, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411850, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_12_2"}, "telegram_webhook"=>{"update_id"=>165315338, "callback_query"=>{"id"=>"2650224934651250534", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>366, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411850, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_12_2"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=3, answer_option_id=12, test_result_id=2
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 2], ["question_id", 3], ["answer_option_id", 12], ["created_at", "2025-10-02 13:30:59.042194"], ["updated_at", "2025-10-02 13:30:59.042194"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 60044ms (Views: 0.3ms | ActiveRecord: 6.2ms | Allocations: 6218)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:03 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315341, "message"=>{"message_id"=>367, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411952, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315341, "message"=>{"message_id"=>367, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411952, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 847ms (Views: 0.6ms | ActiveRecord: 2.4ms | Allocations: 28746)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:05 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315338, "callback_query"=>{"id"=>"2650224934651250534", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>366, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411850, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_12_2"}, "telegram_webhook"=>{"update_id"=>165315338, "callback_query"=>{"id"=>"2650224934651250534", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>366, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411850, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_12_2"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=3, answer_option_id=12, test_result_id=2
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 2], ["question_id", 3], ["answer_option_id", 12], ["created_at", "2025-10-02 13:33:05.397988"], ["updated_at", "2025-10-02 13:33:05.397988"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 807ms (Views: 0.2ms | ActiveRecord: 8.5ms | Allocations: 38408)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:06 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315339, "callback_query"=>{"id"=>"2650224934727609124", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>366, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411850, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_12_2"}, "telegram_webhook"=>{"update_id"=>165315339, "callback_query"=>{"id"=>"2650224934727609124", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>366, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411850, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_12_2"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=3, answer_option_id=12, test_result_id=2
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 2], ["question_id", 3], ["answer_option_id", 12], ["created_at", "2025-10-02 13:33:06.389947"], ["updated_at", "2025-10-02 13:33:06.389947"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 626ms (Views: 0.2ms | ActiveRecord: 6.1ms | Allocations: 6392)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:07 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315340, "callback_query"=>{"id"=>"2650224934626418008", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>366, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411850, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_12_2"}, "telegram_webhook"=>{"update_id"=>165315340, "callback_query"=>{"id"=>"2650224934626418008", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>366, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411850, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_12_2"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=3, answer_option_id=12, test_result_id=2
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 2], ["question_id", 3], ["answer_option_id", 12], ["created_at", "2025-10-02 13:33:07.338629"], ["updated_at", "2025-10-02 13:33:07.338629"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 635ms (Views: 0.3ms | ActiveRecord: 5.6ms | Allocations: 6386)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:13 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315342, "message"=>{"message_id"=>372, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411992, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315342, "message"=>{"message_id"=>372, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411992, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 1066ms (Views: 0.2ms | ActiveRecord: 0.4ms | Allocations: 1738)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:37 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315343, "callback_query"=>{"id"=>"2650224933565047416", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>373, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411994, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315343, "callback_query"=>{"id"=>"2650224933565047416", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>373, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759411994, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:86:in `start_anxiety_test'
Test ID: 1
User ID: 1
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTestResult Create (2.9ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 1], ["test_id", 1], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-02 13:33:37.533274"], ["updated_at", "2025-10-02 13:33:37.533274"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
TestResult ID: 3
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:109:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_1_3
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_2_3
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_3_3
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_4_3
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_1_3"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_2_3"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_3_3"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_4_3"}]]}
Completed 200 OK in 958ms (Views: 1.2ms | ActiveRecord: 10.5ms | Allocations: 58391)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:41 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315344, "callback_query"=>{"id"=>"2650224933741262843", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>374, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412018, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_1_4_3"}, "telegram_webhook"=>{"update_id"=>165315344, "callback_query"=>{"id"=>"2650224933741262843", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>374, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412018, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_1_4_3"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=1, answer_option_id=4, test_result_id=3
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 1], ["answer_option_id", 4], ["created_at", "2025-10-02 13:33:41.319813"], ["updated_at", "2025-10-02 13:33:41.319813"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 1 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 2]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 750ms (Views: 0.1ms | ActiveRecord: 8.5ms | Allocations: 12823)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:43 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315345, "callback_query"=>{"id"=>"2650224935466830134", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>375, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412021, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_2_8_3"}, "telegram_webhook"=>{"update_id"=>165315345, "callback_query"=>{"id"=>"2650224935466830134", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>375, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412021, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_2_8_3"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=2, answer_option_id=8, test_result_id=3
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 2], ["answer_option_id", 8], ["created_at", "2025-10-02 13:33:43.054201"], ["updated_at", "2025-10-02 13:33:43.054201"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 2 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 654ms (Views: 0.2ms | ActiveRecord: 6.0ms | Allocations: 6352)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:44 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315346, "callback_query"=>{"id"=>"2650224934205565575", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>376, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412023, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_12_3"}, "telegram_webhook"=>{"update_id"=>165315346, "callback_query"=>{"id"=>"2650224934205565575", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>376, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412023, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_12_3"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=3, answer_option_id=12, test_result_id=3
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.1ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 3], ["answer_option_id", 12], ["created_at", "2025-10-02 13:33:44.702817"], ["updated_at", "2025-10-02 13:33:44.702817"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 728ms (Views: 0.3ms | ActiveRecord: 8.4ms | Allocations: 6383)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:46 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315347, "callback_query"=>{"id"=>"2650224935526073801", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>377, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412025, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_16_3"}, "telegram_webhook"=>{"update_id"=>165315347, "callback_query"=>{"id"=>"2650224935526073801", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>377, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412025, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_16_3"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=4, answer_option_id=16, test_result_id=3
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 4], ["answer_option_id", 16], ["created_at", "2025-10-02 13:33:46.464352"], ["updated_at", "2025-10-02 13:33:46.464352"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 4 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 5]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 981ms (Views: 0.2ms | ActiveRecord: 4.7ms | Allocations: 6340)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:48 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315348, "callback_query"=>{"id"=>"2650224934246093728", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>378, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412027, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_20_3"}, "telegram_webhook"=>{"update_id"=>165315348, "callback_query"=>{"id"=>"2650224934246093728", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>378, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412027, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_20_3"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=5, answer_option_id=20, test_result_id=3
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 5], ["answer_option_id", 20], ["created_at", "2025-10-02 13:33:48.574059"], ["updated_at", "2025-10-02 13:33:48.574059"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 5 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 6]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 640ms (Views: 0.2ms | ActiveRecord: 5.8ms | Allocations: 6268)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:50 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315349, "callback_query"=>{"id"=>"2650224934567977282", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>379, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412029, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_24_3"}, "telegram_webhook"=>{"update_id"=>165315349, "callback_query"=>{"id"=>"2650224934567977282", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>379, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412029, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_24_3"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=6, answer_option_id=24, test_result_id=3
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 6], ["answer_option_id", 24], ["created_at", "2025-10-02 13:33:50.314041"], ["updated_at", "2025-10-02 13:33:50.314041"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 6 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 7]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 863ms (Views: 0.3ms | ActiveRecord: 6.2ms | Allocations: 6258)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:52 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315350, "callback_query"=>{"id"=>"2650224937366975460", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>380, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412031, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_28_3"}, "telegram_webhook"=>{"update_id"=>165315350, "callback_query"=>{"id"=>"2650224937366975460", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>380, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412031, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_28_3"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=7, answer_option_id=28, test_result_id=3
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 7], ["answer_option_id", 28], ["created_at", "2025-10-02 13:33:52.325095"], ["updated_at", "2025-10-02 13:33:52.325095"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.9ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 7 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 8]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 726ms (Views: 0.2ms | ActiveRecord: 7.2ms | Allocations: 6290)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:54 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315351, "callback_query"=>{"id"=>"2650224937178486022", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>381, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412032, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_32_3"}, "telegram_webhook"=>{"update_id"=>165315351, "callback_query"=>{"id"=>"2650224937178486022", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>381, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412032, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_32_3"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=8, answer_option_id=32, test_result_id=3
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 8], ["answer_option_id", 32], ["created_at", "2025-10-02 13:33:54.304900"], ["updated_at", "2025-10-02 13:33:54.304900"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.8ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 8 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 9]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 846ms (Views: 0.2ms | ActiveRecord: 7.4ms | Allocations: 6340)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:56 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315352, "callback_query"=>{"id"=>"2650224934748249062", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>382, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412035, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_36_3"}, "telegram_webhook"=>{"update_id"=>165315352, "callback_query"=>{"id"=>"2650224934748249062", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>382, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412035, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_36_3"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=9, answer_option_id=36, test_result_id=3
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 9], ["answer_option_id", 36], ["created_at", "2025-10-02 13:33:56.301687"], ["updated_at", "2025-10-02 13:33:56.301687"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 9 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 10]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 755ms (Views: 0.1ms | ActiveRecord: 6.9ms | Allocations: 6269)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:33:58 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315353, "callback_query"=>{"id"=>"2650224934442693821", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>383, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412036, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_40_3"}, "telegram_webhook"=>{"update_id"=>165315353, "callback_query"=>{"id"=>"2650224934442693821", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>383, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412036, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_40_3"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=10, answer_option_id=40, test_result_id=3
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 10], ["answer_option_id", 40], ["created_at", "2025-10-02 13:33:58.164529"], ["updated_at", "2025-10-02 13:33:58.164529"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.9ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 10 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 11]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 797ms (Views: 0.2ms | ActiveRecord: 6.9ms | Allocations: 6287)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:34:00 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315354, "callback_query"=>{"id"=>"2650224936053329686", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>384, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412038, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_44_3"}, "telegram_webhook"=>{"update_id"=>165315354, "callback_query"=>{"id"=>"2650224936053329686", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>384, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412038, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_44_3"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=11, answer_option_id=44, test_result_id=3
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 44], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 11], ["answer_option_id", 44], ["created_at", "2025-10-02 13:34:00.056942"], ["updated_at", "2025-10-02 13:34:00.056942"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 11 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 12]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 949ms (Views: 0.4ms | ActiveRecord: 6.9ms | Allocations: 6246)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:34:02 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315355, "callback_query"=>{"id"=>"2650224933419243850", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>385, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412040, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_48_3"}, "telegram_webhook"=>{"update_id"=>165315355, "callback_query"=>{"id"=>"2650224933419243850", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>385, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412040, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_48_3"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=12, answer_option_id=48, test_result_id=3
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 12], ["answer_option_id", 48], ["created_at", "2025-10-02 13:34:02.111665"], ["updated_at", "2025-10-02 13:34:02.111665"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 12 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 13]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 852ms (Views: 0.1ms | ActiveRecord: 5.6ms | Allocations: 6298)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:34:03 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315356, "callback_query"=>{"id"=>"2650224935150954057", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>386, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412042, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_52_3"}, "telegram_webhook"=>{"update_id"=>165315356, "callback_query"=>{"id"=>"2650224935150954057", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>386, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412042, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_52_3"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=13, answer_option_id=52, test_result_id=3
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 52], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 13], ["answer_option_id", 52], ["created_at", "2025-10-02 13:34:04.011527"], ["updated_at", "2025-10-02 13:34:04.011527"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 13 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 14]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 786ms (Views: 0.2ms | ActiveRecord: 7.8ms | Allocations: 6255)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:34:05 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315357, "callback_query"=>{"id"=>"2650224936668548834", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>387, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412044, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_56_3"}, "telegram_webhook"=>{"update_id"=>165315357, "callback_query"=>{"id"=>"2650224936668548834", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>387, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412044, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_56_3"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=14, answer_option_id=56, test_result_id=3
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 14], ["answer_option_id", 56], ["created_at", "2025-10-02 13:34:05.904488"], ["updated_at", "2025-10-02 13:34:05.904488"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.9ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 14 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 15]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 893ms (Views: 0.2ms | ActiveRecord: 8.3ms | Allocations: 6259)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:34:07 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315358, "callback_query"=>{"id"=>"2650224936515825446", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>388, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412046, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_60_3"}, "telegram_webhook"=>{"update_id"=>165315358, "callback_query"=>{"id"=>"2650224936515825446", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>388, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412046, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_60_3"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=15, answer_option_id=60, test_result_id=3
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 15], ["answer_option_id", 60], ["created_at", "2025-10-02 13:34:07.918091"], ["updated_at", "2025-10-02 13:34:07.918091"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 15 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 16]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 649ms (Views: 0.3ms | ActiveRecord: 5.8ms | Allocations: 6269)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:34:09 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315359, "callback_query"=>{"id"=>"2650224935508704394", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>389, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412048, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_64_3"}, "telegram_webhook"=>{"update_id"=>165315359, "callback_query"=>{"id"=>"2650224935508704394", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>389, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412048, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_64_3"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=16, answer_option_id=64, test_result_id=3
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 16], ["answer_option_id", 64], ["created_at", "2025-10-02 13:34:09.693203"], ["updated_at", "2025-10-02 13:34:09.693203"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 16 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 17]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 645ms (Views: 0.2ms | ActiveRecord: 5.3ms | Allocations: 6340)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:34:11 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315360, "callback_query"=>{"id"=>"2650224937203099691", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>390, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412050, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_68_3"}, "telegram_webhook"=>{"update_id"=>165315360, "callback_query"=>{"id"=>"2650224937203099691", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>390, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412050, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_68_3"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=17, answer_option_id=68, test_result_id=3
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 68], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 17], ["answer_option_id", 68], ["created_at", "2025-10-02 13:34:11.396598"], ["updated_at", "2025-10-02 13:34:11.396598"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 17 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 18]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 593ms (Views: 0.2ms | ActiveRecord: 7.2ms | Allocations: 6237)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:34:14 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315361, "callback_query"=>{"id"=>"2650224933965488129", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>391, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412051, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_72_3"}, "telegram_webhook"=>{"update_id"=>165315361, "callback_query"=>{"id"=>"2650224933965488129", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>391, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412051, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_72_3"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=18, answer_option_id=72, test_result_id=3
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 72], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (12.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 18], ["answer_option_id", 72], ["created_at", "2025-10-02 13:34:14.178536"], ["updated_at", "2025-10-02 13:34:14.178536"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 18 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 19]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 1180ms (Views: 0.1ms | ActiveRecord: 14.9ms | Allocations: 6222)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:34:16 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315362, "callback_query"=>{"id"=>"2650224936146221112", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>392, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412055, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_76_3"}, "telegram_webhook"=>{"update_id"=>165315362, "callback_query"=>{"id"=>"2650224936146221112", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>392, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412055, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_76_3"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=19, answer_option_id=76, test_result_id=3
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 76], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 19], ["answer_option_id", 76], ["created_at", "2025-10-02 13:34:16.409764"], ["updated_at", "2025-10-02 13:34:16.409764"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 19 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 20]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 735ms (Views: 1.1ms | ActiveRecord: 7.2ms | Allocations: 6280)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:34:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315363, "callback_query"=>{"id"=>"2650224934024308820", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>393, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412057, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_80_3"}, "telegram_webhook"=>{"update_id"=>165315363, "callback_query"=>{"id"=>"2650224934024308820", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>393, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412057, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_80_3"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=20, answer_option_id=80, test_result_id=3
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 3], ["question_id", 20], ["answer_option_id", 80], ["created_at", "2025-10-02 13:34:18.458322"], ["updated_at", "2025-10-02 13:34:18.458322"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 20 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
Part 1 Answers:
  [1m[35mSQL (1.7ms)[0m  [1m[34mSELECT "answers"."id" AS t0_r0, "answers"."test_result_id" AS t0_r1, "answers"."question_id" AS t0_r2, "answers"."answer_option_id" AS t0_r3, "answers"."created_at" AS t0_r4, "answers"."updated_at" AS t0_r5, "questions"."id" AS t1_r0, "questions"."test_id" AS t1_r1, "questions"."text" AS t1_r2, "questions"."created_at" AS t1_r3, "questions"."updated_at" AS t1_r4, "questions"."part" AS t1_r5, "answer_options"."id" AS t2_r0, "answer_options"."question_id" AS t2_r1, "answer_options"."text" AS t2_r2, "answer_options"."value" AS t2_r3, "answer_options"."created_at" AS t2_r4, "answer_options"."updated_at" AS t2_r5 FROM "answers" LEFT OUTER JOIN "questions" ON "questions"."id" = "answers"."question_id" LEFT OUTER JOIN "answer_options" ON "answer_options"."question_id" = "questions"."id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 3], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `calculate_and_send_results'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `block in calculate_and_send_results'
  Question: Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾., Answer: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 4
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `block in calculate_and_send_results'
  Question: Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ., Answer: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 4
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `block in calculate_and_send_results'
  Question: ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼., Answer: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 4
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `block in calculate_and_send_results'
  Question: Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸., Answer: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 4
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `block in calculate_and_send_results'
  Question: Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸., Answer: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 4
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `block in calculate_and_send_results'
  Question: Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ., Answer: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 4
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `block in calculate_and_send_results'
  Question: ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ., Answer: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 4
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `block in calculate_and_send_results'
  Question: Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹)., Answer: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 4
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `block in calculate_and_send_results'
  Question: Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹., Answer: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 4
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `block in calculate_and_send_results'
  Question: ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ., Answer: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 4
Part 2 Answers:
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "answers"."id" AS t0_r0, "answers"."test_result_id" AS t0_r1, "answers"."question_id" AS t0_r2, "answers"."answer_option_id" AS t0_r3, "answers"."created_at" AS t0_r4, "answers"."updated_at" AS t0_r5, "questions"."id" AS t1_r0, "questions"."test_id" AS t1_r1, "questions"."text" AS t1_r2, "questions"."created_at" AS t1_r3, "questions"."updated_at" AS t1_r4, "questions"."part" AS t1_r5, "answer_options"."id" AS t2_r0, "answer_options"."question_id" AS t2_r1, "answer_options"."text" AS t2_r2, "answer_options"."value" AS t2_r3, "answer_options"."created_at" AS t2_r4, "answer_options"."updated_at" AS t2_r5 FROM "answers" LEFT OUTER JOIN "questions" ON "questions"."id" = "answers"."question_id" LEFT OUTER JOIN "answer_options" ON "answer_options"."question_id" = "questions"."id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 3], ["part", 2]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `calculate_and_send_results'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 44], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `block in calculate_and_send_results'
  Question: Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹., Answer: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°, Value: 4
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `block in calculate_and_send_results'
  Question: Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼., Answer: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°, Value: 4
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 52], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `block in calculate_and_send_results'
  Question: ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹., Answer: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°, Value: 4
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `block in calculate_and_send_results'
  Question: Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ., Answer: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°, Value: 4
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `block in calculate_and_send_results'
  Question: Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸., Answer: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°, Value: 4
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `block in calculate_and_send_results'
  Question: Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸., Answer: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°, Value: 4
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 68], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `block in calculate_and_send_results'
  Question: Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ., Answer: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°, Value: 4
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 72], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `block in calculate_and_send_results'
  Question: Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸., Answer: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°, Value: 4
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 76], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `block in calculate_and_send_results'
  Question: ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ., Answer: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°, Value: 4
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `block in calculate_and_send_results'
  Question: Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ., Answer: ÐžÑ‡ÐµÐ½ÑŒ Ñ‡Ð°ÑÑ‚Ð¾ Ð¸Ð»Ð¸ Ð²ÑÐµÐ³Ð´Ð°, Value: 4
  [1m[36mAnswer Sum (1.3ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" LEFT OUTER JOIN "questions" ON "questions"."id" = "answers"."question_id" LEFT OUTER JOIN "answer_options" ON "answer_options"."question_id" = "questions"."id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 3], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:179:in `calculate_and_send_results'
  [1m[36mAnswer Sum (0.3ms)[0m  [1m[34mSELECT SUM("answer_options"."value") FROM "answers" LEFT OUTER JOIN "questions" ON "questions"."id" = "answers"."question_id" LEFT OUTER JOIN "answer_options" ON "answer_options"."question_id" = "questions"."id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 3], ["part", 2]]
  â†³ app/controllers/telegram_webhooks_controller.rb:180:in `calculate_and_send_results'
Part 1 Score: 100
Part 2 Score: 100
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:202:in `calculate_and_send_results'
  [1m[36mTestResult Update (2.4ms)[0m  [1m[33mUPDATE "test_results" SET "score" = ?, "completed_at" = ?, "updated_at" = ? WHERE "test_results"."id" = ?[0m  [["score", 200], ["completed_at", "2025-10-02 13:34:18.650747"], ["updated_at", "2025-10-02 13:34:18.652366"], ["id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:202:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:202:in `calculate_and_send_results'
Completed 200 OK in 873ms (Views: 0.1ms | ActiveRecord: 19.2ms | Allocations: 27232)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:37:43 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315364, "message"=>{"message_id"=>395, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412262, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315364, "message"=>{"message_id"=>395, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412262, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 930ms (Views: 0.3ms | ActiveRecord: 2.9ms | Allocations: 28750)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:37:47 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315365, "callback_query"=>{"id"=>"2650224934107357180", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>396, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412264, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315365, "callback_query"=>{"id"=>"2650224934107357180", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>396, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412264, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:86:in `start_anxiety_test'
Test ID: 1
User ID: 1
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTestResult Create (5.0ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 1], ["test_id", 1], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-02 13:37:47.133917"], ["updated_at", "2025-10-02 13:37:47.133917"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
TestResult ID: 4
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:109:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_1_4
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_2_4
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_3_4
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_4_4
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_1_4"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_2_4"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_3_4"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_4_4"}]]}
Completed 200 OK in 744ms (Views: 0.2ms | ActiveRecord: 10.9ms | Allocations: 31385)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:37:49 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315366, "callback_query"=>{"id"=>"2650224933350065573", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>397, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412267, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_1_2_4"}, "telegram_webhook"=>{"update_id"=>165315366, "callback_query"=>{"id"=>"2650224933350065573", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>397, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412267, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_1_2_4"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=1, answer_option_id=2, test_result_id=4
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 1], ["answer_option_id", 2], ["created_at", "2025-10-02 13:37:49.911651"], ["updated_at", "2025-10-02 13:37:49.911651"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 1 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 2]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 631ms (Views: 0.1ms | ActiveRecord: 7.3ms | Allocations: 12815)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:37:51 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315367, "callback_query"=>{"id"=>"2650224936909840996", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>398, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412270, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_2_6_4"}, "telegram_webhook"=>{"update_id"=>165315367, "callback_query"=>{"id"=>"2650224936909840996", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>398, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412270, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_2_6_4"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=2, answer_option_id=6, test_result_id=4
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 2], ["answer_option_id", 6], ["created_at", "2025-10-02 13:37:51.516188"], ["updated_at", "2025-10-02 13:37:51.516188"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 2 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 575ms (Views: 0.2ms | ActiveRecord: 6.2ms | Allocations: 6355)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:37:53 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315368, "callback_query"=>{"id"=>"2650224933411586024", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>399, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412272, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_10_4"}, "telegram_webhook"=>{"update_id"=>165315368, "callback_query"=>{"id"=>"2650224933411586024", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>399, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412272, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_10_4"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=3, answer_option_id=10, test_result_id=4
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 3], ["answer_option_id", 10], ["created_at", "2025-10-02 13:37:53.107968"], ["updated_at", "2025-10-02 13:37:53.107968"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 575ms (Views: 0.3ms | ActiveRecord: 7.2ms | Allocations: 6366)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:37:54 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315369, "callback_query"=>{"id"=>"2650224933590036432", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>400, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412273, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_14_4"}, "telegram_webhook"=>{"update_id"=>165315369, "callback_query"=>{"id"=>"2650224933590036432", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>400, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412273, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_14_4"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=4, answer_option_id=14, test_result_id=4
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.8ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 4], ["answer_option_id", 14], ["created_at", "2025-10-02 13:37:54.666186"], ["updated_at", "2025-10-02 13:37:54.666186"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 4 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 5]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 760ms (Views: 0.2ms | ActiveRecord: 6.8ms | Allocations: 6340)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:37:56 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315370, "callback_query"=>{"id"=>"2650224934111917005", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>401, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412275, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_18_4"}, "telegram_webhook"=>{"update_id"=>165315370, "callback_query"=>{"id"=>"2650224934111917005", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>401, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412275, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_18_4"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=5, answer_option_id=18, test_result_id=4
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 5], ["answer_option_id", 18], ["created_at", "2025-10-02 13:37:56.334946"], ["updated_at", "2025-10-02 13:37:56.334946"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 5 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 6]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 760ms (Views: 0.3ms | ActiveRecord: 5.5ms | Allocations: 6269)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:37:58 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315371, "callback_query"=>{"id"=>"2650224936020176828", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>402, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412277, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_22_4"}, "telegram_webhook"=>{"update_id"=>165315371, "callback_query"=>{"id"=>"2650224936020176828", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>402, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412277, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_22_4"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=6, answer_option_id=22, test_result_id=4
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 6], ["answer_option_id", 22], ["created_at", "2025-10-02 13:37:58.026984"], ["updated_at", "2025-10-02 13:37:58.026984"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 6 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 7]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 625ms (Views: 0.1ms | ActiveRecord: 6.3ms | Allocations: 6257)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:37:59 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315372, "callback_query"=>{"id"=>"2650224934821400522", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>403, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412278, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_26_4"}, "telegram_webhook"=>{"update_id"=>165315372, "callback_query"=>{"id"=>"2650224934821400522", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>403, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412278, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_26_4"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=7, answer_option_id=26, test_result_id=4
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 7], ["answer_option_id", 26], ["created_at", "2025-10-02 13:37:59.530676"], ["updated_at", "2025-10-02 13:37:59.530676"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 7 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 8]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 634ms (Views: 0.5ms | ActiveRecord: 5.8ms | Allocations: 6297)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:38:01 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315373, "callback_query"=>{"id"=>"2650224935305053215", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>404, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412280, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_30_4"}, "telegram_webhook"=>{"update_id"=>165315373, "callback_query"=>{"id"=>"2650224935305053215", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>404, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412280, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_30_4"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=8, answer_option_id=30, test_result_id=4
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 8], ["answer_option_id", 30], ["created_at", "2025-10-02 13:38:01.226426"], ["updated_at", "2025-10-02 13:38:01.226426"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 8 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 9]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 789ms (Views: 0.3ms | ActiveRecord: 7.6ms | Allocations: 6343)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:38:03 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315374, "callback_query"=>{"id"=>"2650224935920282480", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>405, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412281, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_34_4"}, "telegram_webhook"=>{"update_id"=>165315374, "callback_query"=>{"id"=>"2650224935920282480", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>405, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412281, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_34_4"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=9, answer_option_id=34, test_result_id=4
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (7.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 9], ["answer_option_id", 34], ["created_at", "2025-10-02 13:38:03.098358"], ["updated_at", "2025-10-02 13:38:03.098358"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 9 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 10]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 749ms (Views: 0.4ms | ActiveRecord: 11.3ms | Allocations: 6269)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:38:04 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315375, "callback_query"=>{"id"=>"2650224934501744771", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>406, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412283, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_38_4"}, "telegram_webhook"=>{"update_id"=>165315375, "callback_query"=>{"id"=>"2650224934501744771", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>406, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412283, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_38_4"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=10, answer_option_id=38, test_result_id=4
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 10], ["answer_option_id", 38], ["created_at", "2025-10-02 13:38:04.992541"], ["updated_at", "2025-10-02 13:38:04.992541"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 10 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 11]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 619ms (Views: 0.3ms | ActiveRecord: 5.8ms | Allocations: 6287)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:38:07 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315376, "callback_query"=>{"id"=>"2650224933131796115", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>407, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412285, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_42_4"}, "telegram_webhook"=>{"update_id"=>165315376, "callback_query"=>{"id"=>"2650224933131796115", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>407, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412285, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_42_4"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=11, answer_option_id=42, test_result_id=4
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.9ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (8.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 11], ["answer_option_id", 42], ["created_at", "2025-10-02 13:38:07.500182"], ["updated_at", "2025-10-02 13:38:07.500182"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 11 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 12]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 606ms (Views: 0.2ms | ActiveRecord: 11.1ms | Allocations: 6243)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:38:09 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315377, "callback_query"=>{"id"=>"2650224935374084365", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>408, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412288, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_46_4"}, "telegram_webhook"=>{"update_id"=>165315377, "callback_query"=>{"id"=>"2650224935374084365", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>408, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412288, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_46_4"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=12, answer_option_id=46, test_result_id=4
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 12], ["answer_option_id", 46], ["created_at", "2025-10-02 13:38:09.180049"], ["updated_at", "2025-10-02 13:38:09.180049"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 12 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 13]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 606ms (Views: 0.1ms | ActiveRecord: 5.9ms | Allocations: 6295)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:38:15 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315378, "callback_query"=>{"id"=>"2650224934592343836", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>409, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412289, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_50_4"}, "telegram_webhook"=>{"update_id"=>165315378, "callback_query"=>{"id"=>"2650224934592343836", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>409, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412289, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_50_4"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=13, answer_option_id=50, test_result_id=4
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 13], ["answer_option_id", 50], ["created_at", "2025-10-02 13:38:15.523724"], ["updated_at", "2025-10-02 13:38:15.523724"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 13 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 14]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 703ms (Views: 0.2ms | ActiveRecord: 4.8ms | Allocations: 6255)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:38:17 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315379, "callback_query"=>{"id"=>"2650224936752515207", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>410, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412296, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_54_4"}, "telegram_webhook"=>{"update_id"=>165315379, "callback_query"=>{"id"=>"2650224936752515207", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>410, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412296, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_54_4"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=14, answer_option_id=54, test_result_id=4
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 14], ["answer_option_id", 54], ["created_at", "2025-10-02 13:38:17.320705"], ["updated_at", "2025-10-02 13:38:17.320705"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 14 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 15]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 644ms (Views: 0.4ms | ActiveRecord: 5.0ms | Allocations: 6259)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:38:19 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315380, "callback_query"=>{"id"=>"2650224933169809768", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>411, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412297, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_58_4"}, "telegram_webhook"=>{"update_id"=>165315380, "callback_query"=>{"id"=>"2650224933169809768", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>411, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412297, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_58_4"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=15, answer_option_id=58, test_result_id=4
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 15], ["answer_option_id", 58], ["created_at", "2025-10-02 13:38:19.316046"], ["updated_at", "2025-10-02 13:38:19.316046"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 15 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 16]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 575ms (Views: 0.2ms | ActiveRecord: 8.1ms | Allocations: 6266)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:38:21 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315381, "callback_query"=>{"id"=>"2650224936300384720", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>412, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412299, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_62_4"}, "telegram_webhook"=>{"update_id"=>165315381, "callback_query"=>{"id"=>"2650224936300384720", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>412, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412299, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_62_4"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=16, answer_option_id=62, test_result_id=4
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 16], ["answer_option_id", 62], ["created_at", "2025-10-02 13:38:21.138752"], ["updated_at", "2025-10-02 13:38:21.138752"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 16 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 17]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 552ms (Views: 0.1ms | ActiveRecord: 5.3ms | Allocations: 6336)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:38:22 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315382, "callback_query"=>{"id"=>"2650224934126813815", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>413, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412301, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_66_4"}, "telegram_webhook"=>{"update_id"=>165315382, "callback_query"=>{"id"=>"2650224934126813815", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>413, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412301, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_66_4"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=17, answer_option_id=66, test_result_id=4
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 66], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 17], ["answer_option_id", 66], ["created_at", "2025-10-02 13:38:22.716316"], ["updated_at", "2025-10-02 13:38:22.716316"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 17 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 18]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 610ms (Views: 0.1ms | ActiveRecord: 5.9ms | Allocations: 6238)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:38:24 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315383, "callback_query"=>{"id"=>"2650224934983144635", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>414, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412303, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_70_4"}, "telegram_webhook"=>{"update_id"=>165315383, "callback_query"=>{"id"=>"2650224934983144635", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>414, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412303, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_70_4"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=18, answer_option_id=70, test_result_id=4
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 18], ["answer_option_id", 70], ["created_at", "2025-10-02 13:38:24.355543"], ["updated_at", "2025-10-02 13:38:24.355543"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 18 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 19]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 612ms (Views: 0.2ms | ActiveRecord: 4.5ms | Allocations: 6222)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:38:26 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315384, "callback_query"=>{"id"=>"2650224936323835382", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>415, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412304, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_74_4"}, "telegram_webhook"=>{"update_id"=>165315384, "callback_query"=>{"id"=>"2650224936323835382", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>415, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412304, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_74_4"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=19, answer_option_id=74, test_result_id=4
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 19], ["answer_option_id", 74], ["created_at", "2025-10-02 13:38:26.259380"], ["updated_at", "2025-10-02 13:38:26.259380"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 19 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 20]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 635ms (Views: 0.5ms | ActiveRecord: 7.3ms | Allocations: 6283)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-02 18:38:28 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315385, "callback_query"=>{"id"=>"2650224933641549719", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>416, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412306, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_78_4"}, "telegram_webhook"=>{"update_id"=>165315385, "callback_query"=>{"id"=>"2650224933641549719", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>416, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759412306, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_78_4"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=20, answer_option_id=78, test_result_id=4
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (6.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 4], ["question_id", 20], ["answer_option_id", 78], ["created_at", "2025-10-02 13:38:28.243604"], ["updated_at", "2025-10-02 13:38:28.243604"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.0ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 20 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
Part 1 Answers:
  [1m[35mSQL (1.3ms)[0m  [1m[34mSELECT "answers"."id" AS t0_r0, "answers"."test_result_id" AS t0_r1, "answers"."question_id" AS t0_r2, "answers"."answer_option_id" AS t0_r3, "answers"."created_at" AS t0_r4, "answers"."updated_at" AS t0_r5, "questions"."id" AS t1_r0, "questions"."test_id" AS t1_r1, "questions"."text" AS t1_r2, "questions"."created_at" AS t1_r3, "questions"."updated_at" AS t1_r4, "questions"."part" AS t1_r5, "answer_options"."id" AS t2_r0, "answer_options"."question_id" AS t2_r1, "answer_options"."text" AS t2_r2, "answer_options"."value" AS t2_r3, "answer_options"."created_at" AS t2_r4, "answer_options"."updated_at" AS t2_r5 FROM "answers" LEFT OUTER JOIN "questions" ON "questions"."id" = "answers"."question_id" LEFT OUTER JOIN "answer_options" ON "answer_options"."id" = "answers"."answer_option_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 4], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `calculate_and_send_results'
  Question: Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹)., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
Part 2 Answers:
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "answers"."id" AS t0_r0, "answers"."test_result_id" AS t0_r1, "answers"."question_id" AS t0_r2, "answers"."answer_option_id" AS t0_r3, "answers"."created_at" AS t0_r4, "answers"."updated_at" AS t0_r5, "questions"."id" AS t1_r0, "questions"."test_id" AS t1_r1, "questions"."text" AS t1_r2, "questions"."created_at" AS t1_r3, "questions"."updated_at" AS t1_r4, "questions"."part" AS t1_r5, "answer_options"."id" AS t2_r0, "answer_options"."question_id" AS t2_r1, "answer_options"."text" AS t2_r2, "answer_options"."value" AS t2_r3, "answer_options"."created_at" AS t2_r4, "answer_options"."updated_at" AS t2_r5 FROM "answers" LEFT OUTER JOIN "questions" ON "questions"."id" = "answers"."question_id" LEFT OUTER JOIN "answer_options" ON "answer_options"."id" = "answers"."answer_option_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 4], ["part", 2]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `calculate_and_send_results'
  Question: Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
Part 1 Score: 20
Part 2 Score: 20
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:203:in `calculate_and_send_results'
  [1m[36mTestResult Update (5.3ms)[0m  [1m[33mUPDATE "test_results" SET "score" = ?, "completed_at" = ?, "updated_at" = ? WHERE "test_results"."id" = ?[0m  [["score", 40], ["completed_at", "2025-10-02 13:38:28.315726"], ["updated_at", "2025-10-02 13:38:28.316338"], ["id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:203:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:203:in `calculate_and_send_results'
Completed 200 OK in 739ms (Views: 1.0ms | ActiveRecord: 16.5ms | Allocations: 13377)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:15 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315386, "message"=>{"message_id"=>418, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501695, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315386, "message"=>{"message_id"=>418, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501695, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 531ms (Views: 1.1ms | ActiveRecord: 3.4ms | Allocations: 28747)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315387, "callback_query"=>{"id"=>"2650224933709969895", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>419, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501696, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315387, "callback_query"=>{"id"=>"2650224933709969895", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>419, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501696, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (23.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:86:in `start_anxiety_test'
Test ID: 1
User ID: 1
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTestResult Create (27.6ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 1], ["test_id", 1], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-03 14:28:19.114354"], ["updated_at", "2025-10-03 14:28:19.114354"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
TestResult ID: 5
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:109:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_1_5
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_2_5
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_3_5
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_4_5
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_1_5"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_2_5"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_3_5"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_4_5"}]]}
Completed 200 OK in 692ms (Views: 0.3ms | ActiveRecord: 56.7ms | Allocations: 31386)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:24 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315388, "callback_query"=>{"id"=>"2650224934805319488", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>420, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501699, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_1_2_5"}, "telegram_webhook"=>{"update_id"=>165315388, "callback_query"=>{"id"=>"2650224934805319488", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>420, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501699, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_1_2_5"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=1, answer_option_id=2, test_result_id=5
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.9ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (7.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 1], ["answer_option_id", 2], ["created_at", "2025-10-03 14:28:24.702686"], ["updated_at", "2025-10-03 14:28:24.702686"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 1 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 2]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 484ms (Views: 0.3ms | ActiveRecord: 12.8ms | Allocations: 12818)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:26 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315389, "callback_query"=>{"id"=>"2650224934032039490", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>421, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501705, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_2_6_5"}, "telegram_webhook"=>{"update_id"=>165315389, "callback_query"=>{"id"=>"2650224934032039490", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>421, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501705, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_2_6_5"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=2, answer_option_id=6, test_result_id=5
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.8ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 2], ["answer_option_id", 6], ["created_at", "2025-10-03 14:28:26.179019"], ["updated_at", "2025-10-03 14:28:26.179019"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 2 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 390ms (Views: 2.0ms | ActiveRecord: 6.8ms | Allocations: 6352)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:27 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315390, "callback_query"=>{"id"=>"2650224934236932712", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>422, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501706, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_10_5"}, "telegram_webhook"=>{"update_id"=>165315390, "callback_query"=>{"id"=>"2650224934236932712", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>422, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501706, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_10_5"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=3, answer_option_id=10, test_result_id=5
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 3], ["answer_option_id", 10], ["created_at", "2025-10-03 14:28:27.684904"], ["updated_at", "2025-10-03 14:28:27.684904"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 522ms (Views: 0.2ms | ActiveRecord: 5.9ms | Allocations: 6366)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:29 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315391, "callback_query"=>{"id"=>"2650224935984468543", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>423, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501708, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_14_5"}, "telegram_webhook"=>{"update_id"=>165315391, "callback_query"=>{"id"=>"2650224935984468543", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>423, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501708, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_14_5"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=4, answer_option_id=14, test_result_id=5
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 4], ["answer_option_id", 14], ["created_at", "2025-10-03 14:28:29.163838"], ["updated_at", "2025-10-03 14:28:29.163838"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.9ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 4 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 5]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 426ms (Views: 0.2ms | ActiveRecord: 6.6ms | Allocations: 6322)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:30 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315392, "callback_query"=>{"id"=>"2650224935989339963", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>424, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501709, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_18_5"}, "telegram_webhook"=>{"update_id"=>165315392, "callback_query"=>{"id"=>"2650224935989339963", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>424, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501709, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_18_5"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=5, answer_option_id=18, test_result_id=5
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 5], ["answer_option_id", 18], ["created_at", "2025-10-03 14:28:30.563762"], ["updated_at", "2025-10-03 14:28:30.563762"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.9ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 5 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 6]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 363ms (Views: 0.2ms | ActiveRecord: 7.1ms | Allocations: 6289)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:31 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315393, "callback_query"=>{"id"=>"2650224935878192968", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>425, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501710, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_22_5"}, "telegram_webhook"=>{"update_id"=>165315393, "callback_query"=>{"id"=>"2650224935878192968", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>425, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501710, "text"=>"Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_22_5"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=6, answer_option_id=22, test_result_id=5
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 6], ["answer_option_id", 22], ["created_at", "2025-10-03 14:28:31.854033"], ["updated_at", "2025-10-03 14:28:31.854033"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 6 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 7]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 420ms (Views: 0.2ms | ActiveRecord: 5.6ms | Allocations: 6260)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:33 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315394, "callback_query"=>{"id"=>"2650224934310076638", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>426, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501712, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_26_5"}, "telegram_webhook"=>{"update_id"=>165315394, "callback_query"=>{"id"=>"2650224934310076638", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>426, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501712, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_26_5"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=7, answer_option_id=26, test_result_id=5
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 7], ["answer_option_id", 26], ["created_at", "2025-10-03 14:28:33.206399"], ["updated_at", "2025-10-03 14:28:33.206399"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 7 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 8]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 354ms (Views: 0.2ms | ActiveRecord: 4.6ms | Allocations: 6291)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:34 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315395, "callback_query"=>{"id"=>"2650224934285343761", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>427, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501713, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_30_5"}, "telegram_webhook"=>{"update_id"=>165315395, "callback_query"=>{"id"=>"2650224934285343761", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>427, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501713, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_30_5"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=8, answer_option_id=30, test_result_id=5
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 8], ["answer_option_id", 30], ["created_at", "2025-10-03 14:28:34.322779"], ["updated_at", "2025-10-03 14:28:34.322779"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 8 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 9]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 416ms (Views: 0.2ms | ActiveRecord: 5.2ms | Allocations: 6343)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:35 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315396, "callback_query"=>{"id"=>"2650224937280047719", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>428, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501714, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_34_5"}, "telegram_webhook"=>{"update_id"=>165315396, "callback_query"=>{"id"=>"2650224937280047719", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>428, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501714, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_34_5"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=9, answer_option_id=34, test_result_id=5
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 9], ["answer_option_id", 34], ["created_at", "2025-10-03 14:28:35.684094"], ["updated_at", "2025-10-03 14:28:35.684094"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 9 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 10]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 345ms (Views: 0.1ms | ActiveRecord: 5.2ms | Allocations: 6269)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:36 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315397, "callback_query"=>{"id"=>"2650224934111553292", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>429, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501715, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_38_5"}, "telegram_webhook"=>{"update_id"=>165315397, "callback_query"=>{"id"=>"2650224934111553292", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>429, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501715, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_38_5"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=10, answer_option_id=38, test_result_id=5
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 10], ["answer_option_id", 38], ["created_at", "2025-10-03 14:28:36.830407"], ["updated_at", "2025-10-03 14:28:36.830407"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 10 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 11]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 527ms (Views: 0.2ms | ActiveRecord: 5.9ms | Allocations: 6287)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:38 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315398, "callback_query"=>{"id"=>"2650224935747908793", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>430, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501717, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_42_5"}, "telegram_webhook"=>{"update_id"=>165315398, "callback_query"=>{"id"=>"2650224935747908793", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>430, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501717, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_42_5"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=11, answer_option_id=42, test_result_id=5
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 11], ["answer_option_id", 42], ["created_at", "2025-10-03 14:28:38.204588"], ["updated_at", "2025-10-03 14:28:38.204588"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.9ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 11 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 12]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 355ms (Views: 0.2ms | ActiveRecord: 5.5ms | Allocations: 6240)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:39 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315399, "callback_query"=>{"id"=>"2650224937266805185", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>431, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501718, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_46_5"}, "telegram_webhook"=>{"update_id"=>165315399, "callback_query"=>{"id"=>"2650224937266805185", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>431, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501718, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_46_5"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=12, answer_option_id=46, test_result_id=5
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (6.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 12], ["answer_option_id", 46], ["created_at", "2025-10-03 14:28:39.480720"], ["updated_at", "2025-10-03 14:28:39.480720"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 12 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 13]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 370ms (Views: 0.2ms | ActiveRecord: 8.4ms | Allocations: 6295)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:40 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315400, "callback_query"=>{"id"=>"2650224934431664697", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>432, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501719, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_50_5"}, "telegram_webhook"=>{"update_id"=>165315400, "callback_query"=>{"id"=>"2650224934431664697", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>432, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501719, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_50_5"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=13, answer_option_id=50, test_result_id=5
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 13], ["answer_option_id", 50], ["created_at", "2025-10-03 14:28:40.833229"], ["updated_at", "2025-10-03 14:28:40.833229"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 13 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 14]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 361ms (Views: 0.2ms | ActiveRecord: 6.6ms | Allocations: 6251)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:42 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315401, "callback_query"=>{"id"=>"2650224936939701958", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>433, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501721, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_54_5"}, "telegram_webhook"=>{"update_id"=>165315401, "callback_query"=>{"id"=>"2650224936939701958", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>433, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501721, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_54_5"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=14, answer_option_id=54, test_result_id=5
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 14], ["answer_option_id", 54], ["created_at", "2025-10-03 14:28:42.201447"], ["updated_at", "2025-10-03 14:28:42.201447"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 14 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 15]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 344ms (Views: 0.1ms | ActiveRecord: 5.8ms | Allocations: 6256)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:43 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315402, "callback_query"=>{"id"=>"2650224935317080463", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>434, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501722, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_58_5"}, "telegram_webhook"=>{"update_id"=>165315402, "callback_query"=>{"id"=>"2650224935317080463", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>434, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501722, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_58_5"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=15, answer_option_id=58, test_result_id=5
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 15], ["answer_option_id", 58], ["created_at", "2025-10-03 14:28:43.341118"], ["updated_at", "2025-10-03 14:28:43.341118"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 15 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 16]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 354ms (Views: 0.1ms | ActiveRecord: 4.8ms | Allocations: 6228)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:44 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315403, "callback_query"=>{"id"=>"2650224935576648206", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>435, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501723, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_62_5"}, "telegram_webhook"=>{"update_id"=>165315403, "callback_query"=>{"id"=>"2650224935576648206", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>435, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501723, "text"=>"Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_62_5"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=16, answer_option_id=62, test_result_id=5
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 16], ["answer_option_id", 62], ["created_at", "2025-10-03 14:28:44.696065"], ["updated_at", "2025-10-03 14:28:44.696065"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 16 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 17]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 353ms (Views: 0.2ms | ActiveRecord: 6.0ms | Allocations: 6339)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:46 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315404, "callback_query"=>{"id"=>"2650224937194853682", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>436, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501724, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_66_5"}, "telegram_webhook"=>{"update_id"=>165315404, "callback_query"=>{"id"=>"2650224937194853682", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>436, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501724, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_66_5"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=17, answer_option_id=66, test_result_id=5
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 66], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 17], ["answer_option_id", 66], ["created_at", "2025-10-03 14:28:46.081567"], ["updated_at", "2025-10-03 14:28:46.081567"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 17 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 18]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 357ms (Views: 0.1ms | ActiveRecord: 5.9ms | Allocations: 6238)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:47 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315405, "callback_query"=>{"id"=>"2650224936385895421", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>437, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501726, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_70_5"}, "telegram_webhook"=>{"update_id"=>165315405, "callback_query"=>{"id"=>"2650224936385895421", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>437, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501726, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_70_5"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=18, answer_option_id=70, test_result_id=5
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 18], ["answer_option_id", 70], ["created_at", "2025-10-03 14:28:47.371260"], ["updated_at", "2025-10-03 14:28:47.371260"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 18 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 19]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 509ms (Views: 0.3ms | ActiveRecord: 6.4ms | Allocations: 6225)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:48 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315406, "callback_query"=>{"id"=>"2650224935919322532", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>438, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501727, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_74_5"}, "telegram_webhook"=>{"update_id"=>165315406, "callback_query"=>{"id"=>"2650224935919322532", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>438, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501727, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_74_5"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=19, answer_option_id=74, test_result_id=5
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 19], ["answer_option_id", 74], ["created_at", "2025-10-03 14:28:48.832256"], ["updated_at", "2025-10-03 14:28:48.832256"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 19 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 20]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 569ms (Views: 0.2ms | ActiveRecord: 4.7ms | Allocations: 6279)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 19:28:50 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315407, "callback_query"=>{"id"=>"2650224934670677777", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>439, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501729, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_78_5"}, "telegram_webhook"=>{"update_id"=>165315407, "callback_query"=>{"id"=>"2650224934670677777", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>439, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759501729, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_78_5"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=20, answer_option_id=78, test_result_id=5
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 5], ["question_id", 20], ["answer_option_id", 78], ["created_at", "2025-10-03 14:28:50.378551"], ["updated_at", "2025-10-03 14:28:50.378551"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (1.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 20 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
Part 1 Answers:
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "answers"."id" AS t0_r0, "answers"."test_result_id" AS t0_r1, "answers"."question_id" AS t0_r2, "answers"."answer_option_id" AS t0_r3, "answers"."created_at" AS t0_r4, "answers"."updated_at" AS t0_r5, "questions"."id" AS t1_r0, "questions"."test_id" AS t1_r1, "questions"."text" AS t1_r2, "questions"."created_at" AS t1_r3, "questions"."updated_at" AS t1_r4, "questions"."part" AS t1_r5, "answer_options"."id" AS t2_r0, "answer_options"."question_id" AS t2_r1, "answer_options"."text" AS t2_r2, "answer_options"."value" AS t2_r3, "answer_options"."created_at" AS t2_r4, "answer_options"."updated_at" AS t2_r5 FROM "answers" LEFT OUTER JOIN "questions" ON "questions"."id" = "answers"."question_id" LEFT OUTER JOIN "answer_options" ON "answer_options"."id" = "answers"."answer_option_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 5], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `calculate_and_send_results'
  Question: Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: Ð¯ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹)., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
Part 2 Answers:
  [1m[35mSQL (0.8ms)[0m  [1m[34mSELECT "answers"."id" AS t0_r0, "answers"."test_result_id" AS t0_r1, "answers"."question_id" AS t0_r2, "answers"."answer_option_id" AS t0_r3, "answers"."created_at" AS t0_r4, "answers"."updated_at" AS t0_r5, "questions"."id" AS t1_r0, "questions"."test_id" AS t1_r1, "questions"."text" AS t1_r2, "questions"."created_at" AS t1_r3, "questions"."updated_at" AS t1_r4, "questions"."part" AS t1_r5, "answer_options"."id" AS t2_r0, "answer_options"."question_id" AS t2_r1, "answer_options"."text" AS t2_r2, "answer_options"."value" AS t2_r3, "answer_options"."created_at" AS t2_r4, "answer_options"."updated_at" AS t2_r5 FROM "answers" LEFT OUTER JOIN "questions" ON "questions"."id" = "answers"."question_id" LEFT OUTER JOIN "answer_options" ON "answer_options"."id" = "answers"."answer_option_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 5], ["part", 2]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `calculate_and_send_results'
  Question: Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð¯ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
Part 1 Score: 20
Part 2 Score: 20
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:203:in `calculate_and_send_results'
  [1m[36mTestResult Update (3.4ms)[0m  [1m[33mUPDATE "test_results" SET "score" = ?, "completed_at" = ?, "updated_at" = ? WHERE "test_results"."id" = ?[0m  [["score", 40], ["completed_at", "2025-10-03 14:28:50.459095"], ["updated_at", "2025-10-03 14:28:50.459803"], ["id", 5]]
  â†³ app/controllers/telegram_webhooks_controller.rb:203:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:203:in `calculate_and_send_results'
Completed 200 OK in 455ms (Views: 0.2ms | ActiveRecord: 11.5ms | Allocations: 13385)


  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Update (1.4ms)[0m  [1m[33mUPDATE "questions" SET "text" = ?, "updated_at" = ? WHERE "questions"."id" = ?[0m  [["text", "Ð¯ Ð½Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾."], ["updated_at", "2025-10-03 14:54:40.545550"], ["id", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Update (1.1ms)[0m  [1m[33mUPDATE "questions" SET "text" = ?, "updated_at" = ? WHERE "questions"."id" = ?[0m  [["text", "Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð½Ðµ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸."], ["updated_at", "2025-10-03 14:56:14.911028"], ["id", 4]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Update (4.2ms)[0m  [1m[33mUPDATE "questions" SET "text" = ?, "updated_at" = ? WHERE "questions"."id" = ?[0m  [["text", "Ð¯ Ð½Ðµ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ."], ["updated_at", "2025-10-03 14:57:14.109459"], ["id", 6]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Update (1.1ms)[0m  [1m[33mUPDATE "questions" SET "text" = ?, "updated_at" = ? WHERE "questions"."id" = ?[0m  [["text", "Ð¯ Ð½Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹)."], ["updated_at", "2025-10-03 14:58:18.917475"], ["id", 8]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Update (1.2ms)[0m  [1m[33mUPDATE "questions" SET "text" = ?, "updated_at" = ? WHERE "questions"."id" = ?[0m  [["text", "ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ."], ["updated_at", "2025-10-03 14:59:11.942325"], ["id", 10]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Update (1.2ms)[0m  [1m[33mUPDATE "questions" SET "text" = ?, "updated_at" = ? WHERE "questions"."id" = ?[0m  [["text", "Ð¯ Ð½Ðµ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸."], ["updated_at", "2025-10-03 15:00:53.377329"], ["id", 16]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Update (1.7ms)[0m  [1m[33mUPDATE "questions" SET "text" = ?, "updated_at" = ? WHERE "questions"."id" = ?[0m  [["text", "Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¿ÐµÑÑÐ¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ."], ["updated_at", "2025-10-03 15:01:54.439104"], ["id", 20]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:05:24 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315408, "message"=>{"message_id"=>441, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759503923, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315408, "message"=>{"message_id"=>441, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759503923, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 1190ms (Views: 0.6ms | ActiveRecord: 4.9ms | Allocations: 28749)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:05:55 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315409, "callback_query"=>{"id"=>"2650224936990107013", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>442, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759503925, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315409, "callback_query"=>{"id"=>"2650224936990107013", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>442, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759503925, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:86:in `start_anxiety_test'
Test ID: 1
User ID: 1
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTestResult Create (3.4ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 1], ["test_id", 1], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-03 15:05:56.031084"], ["updated_at", "2025-10-03 15:05:56.031084"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:95:in `start_anxiety_test'
TestResult ID: 6
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:97:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:109:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_1_6
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_2_6
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_3_6
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_4_6
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_1_6"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_2_6"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_3_6"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_4_6"}]]}
Completed 200 OK in 636ms (Views: 0.3ms | ActiveRecord: 8.6ms | Allocations: 32274)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:06:23 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315410, "callback_query"=>{"id"=>"2650224933581574970", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>443, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759503956, "text"=>"Ð¯ Ð½Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_1_1_6"}, "telegram_webhook"=>{"update_id"=>165315410, "callback_query"=>{"id"=>"2650224933581574970", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>443, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759503956, "text"=>"Ð¯ Ð½Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_1_1_6"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=1, answer_option_id=1, test_result_id=6
  [1m[36mQuestion Load (1.0ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 1], ["answer_option_id", 1], ["created_at", "2025-10-03 15:06:23.317556"], ["updated_at", "2025-10-03 15:06:23.317556"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 1 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 2]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 446ms (Views: 0.2ms | ActiveRecord: 7.6ms | Allocations: 12817)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:06:30 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315411, "callback_query"=>{"id"=>"2650224933294296676", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>444, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759503983, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_2_5_6"}, "telegram_webhook"=>{"update_id"=>165315411, "callback_query"=>{"id"=>"2650224933294296676", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>444, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759503983, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_2_5_6"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=2, answer_option_id=5, test_result_id=6
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 2], ["answer_option_id", 5], ["created_at", "2025-10-03 15:06:30.587620"], ["updated_at", "2025-10-03 15:06:30.587620"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 2 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 488ms (Views: 0.2ms | ActiveRecord: 5.3ms | Allocations: 6335)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:06:34 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315412, "callback_query"=>{"id"=>"2650224933168946483", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>445, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759503990, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_9_6"}, "telegram_webhook"=>{"update_id"=>165315412, "callback_query"=>{"id"=>"2650224933168946483", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>445, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759503990, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_9_6"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=3, answer_option_id=9, test_result_id=6
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (6.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 3], ["answer_option_id", 9], ["created_at", "2025-10-03 15:06:34.384652"], ["updated_at", "2025-10-03 15:06:34.384652"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (2.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 383ms (Views: 0.2ms | ActiveRecord: 10.5ms | Allocations: 6399)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:06:41 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315413, "callback_query"=>{"id"=>"2650224934085218665", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>446, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759503994, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð½Ðµ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_13_6"}, "telegram_webhook"=>{"update_id"=>165315413, "callback_query"=>{"id"=>"2650224934085218665", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>446, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759503994, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð½Ðµ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_13_6"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=4, answer_option_id=13, test_result_id=6
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 4], ["answer_option_id", 13], ["created_at", "2025-10-03 15:06:41.108318"], ["updated_at", "2025-10-03 15:06:41.108318"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 4 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 5]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 369ms (Views: 0.1ms | ActiveRecord: 7.7ms | Allocations: 6343)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:06:45 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315414, "callback_query"=>{"id"=>"2650224936668477755", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>447, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504001, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_17_6"}, "telegram_webhook"=>{"update_id"=>165315414, "callback_query"=>{"id"=>"2650224936668477755", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>447, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504001, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_17_6"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=5, answer_option_id=17, test_result_id=6
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (6.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 5], ["answer_option_id", 17], ["created_at", "2025-10-03 15:06:45.508539"], ["updated_at", "2025-10-03 15:06:45.508539"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 5 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 6]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 391ms (Views: 0.2ms | ActiveRecord: 8.3ms | Allocations: 6285)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:06:49 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315415, "callback_query"=>{"id"=>"2650224934073680664", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>448, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504005, "text"=>"Ð¯ Ð½Ðµ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_21_6"}, "telegram_webhook"=>{"update_id"=>165315415, "callback_query"=>{"id"=>"2650224934073680664", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>448, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504005, "text"=>"Ð¯ Ð½Ðµ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_21_6"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=6, answer_option_id=21, test_result_id=6
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 6], ["answer_option_id", 21], ["created_at", "2025-10-03 15:06:49.201684"], ["updated_at", "2025-10-03 15:06:49.201684"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 6 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 7]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 371ms (Views: 0.2ms | ActiveRecord: 5.4ms | Allocations: 6260)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:06:52 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315416, "callback_query"=>{"id"=>"2650224933389871448", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>449, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504009, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_25_6"}, "telegram_webhook"=>{"update_id"=>165315416, "callback_query"=>{"id"=>"2650224933389871448", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>449, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504009, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_25_6"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=7, answer_option_id=25, test_result_id=6
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 7], ["answer_option_id", 25], ["created_at", "2025-10-03 15:06:52.676296"], ["updated_at", "2025-10-03 15:06:52.676296"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 7 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 8]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 368ms (Views: 0.1ms | ActiveRecord: 7.4ms | Allocations: 6308)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:06:57 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315417, "callback_query"=>{"id"=>"2650224935778334218", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>450, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504012, "text"=>"Ð¯ Ð½Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_29_6"}, "telegram_webhook"=>{"update_id"=>165315417, "callback_query"=>{"id"=>"2650224935778334218", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>450, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504012, "text"=>"Ð¯ Ð½Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_29_6"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=8, answer_option_id=29, test_result_id=6
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 8], ["answer_option_id", 29], ["created_at", "2025-10-03 15:06:57.529503"], ["updated_at", "2025-10-03 15:06:57.529503"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 8 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 9]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 368ms (Views: 0.2ms | ActiveRecord: 6.5ms | Allocations: 6340)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:07:19 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315418, "callback_query"=>{"id"=>"2650224936767806172", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>451, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504017, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_34_6"}, "telegram_webhook"=>{"update_id"=>165315418, "callback_query"=>{"id"=>"2650224936767806172", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>451, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504017, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_34_6"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=9, answer_option_id=34, test_result_id=6
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 9], ["answer_option_id", 34], ["created_at", "2025-10-03 15:07:19.798114"], ["updated_at", "2025-10-03 15:07:19.798114"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 9 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 10]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 520ms (Views: 0.3ms | ActiveRecord: 6.1ms | Allocations: 6272)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:07:58 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315419, "callback_query"=>{"id"=>"2650224935038549521", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>452, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504040, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_39_6"}, "telegram_webhook"=>{"update_id"=>165315419, "callback_query"=>{"id"=>"2650224935038549521", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>452, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504040, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_39_6"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=10, answer_option_id=39, test_result_id=6
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 10], ["answer_option_id", 39], ["created_at", "2025-10-03 15:07:58.905911"], ["updated_at", "2025-10-03 15:07:58.905911"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 10 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 11]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 428ms (Views: 0.2ms | ActiveRecord: 5.4ms | Allocations: 6291)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:08:09 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315420, "callback_query"=>{"id"=>"2650224934505449373", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>453, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504079, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_42_6"}, "telegram_webhook"=>{"update_id"=>165315420, "callback_query"=>{"id"=>"2650224934505449373", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>453, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504079, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_42_6"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=11, answer_option_id=42, test_result_id=6
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 11], ["answer_option_id", 42], ["created_at", "2025-10-03 15:08:09.815108"], ["updated_at", "2025-10-03 15:08:09.815108"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (1.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 11 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 12]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 416ms (Views: 0.2ms | ActiveRecord: 7.6ms | Allocations: 6243)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:08:14 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315421, "callback_query"=>{"id"=>"2650224933911888201", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>454, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504090, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_47_6"}, "telegram_webhook"=>{"update_id"=>165315421, "callback_query"=>{"id"=>"2650224933911888201", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>454, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504090, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_47_6"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=12, answer_option_id=47, test_result_id=6
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (8.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 12], ["answer_option_id", 47], ["created_at", "2025-10-03 15:08:14.362488"], ["updated_at", "2025-10-03 15:08:14.362488"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 12 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 13]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 478ms (Views: 0.3ms | ActiveRecord: 10.7ms | Allocations: 6295)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:08:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315422, "callback_query"=>{"id"=>"2650224937262215835", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>455, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504094, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_50_6"}, "telegram_webhook"=>{"update_id"=>165315422, "callback_query"=>{"id"=>"2650224937262215835", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>455, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504094, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_50_6"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=13, answer_option_id=50, test_result_id=6
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.7ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 13], ["answer_option_id", 50], ["created_at", "2025-10-03 15:08:18.195826"], ["updated_at", "2025-10-03 15:08:18.195826"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 13 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 14]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 429ms (Views: 0.1ms | ActiveRecord: 6.4ms | Allocations: 6251)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:08:21 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315423, "callback_query"=>{"id"=>"2650224934586645779", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>456, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504098, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_54_6"}, "telegram_webhook"=>{"update_id"=>165315423, "callback_query"=>{"id"=>"2650224934586645779", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>456, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504098, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_54_6"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=14, answer_option_id=54, test_result_id=6
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 14], ["answer_option_id", 54], ["created_at", "2025-10-03 15:08:21.796116"], ["updated_at", "2025-10-03 15:08:21.796116"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 14 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 15]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 406ms (Views: 0.3ms | ActiveRecord: 7.6ms | Allocations: 6256)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:08:27 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315424, "callback_query"=>{"id"=>"2650224934780537356", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>457, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504102, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_57_6"}, "telegram_webhook"=>{"update_id"=>165315424, "callback_query"=>{"id"=>"2650224934780537356", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>457, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504102, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_57_6"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=15, answer_option_id=57, test_result_id=6
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (6.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 15], ["answer_option_id", 57], ["created_at", "2025-10-03 15:08:27.805309"], ["updated_at", "2025-10-03 15:08:27.805309"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 15 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 16]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 383ms (Views: 0.2ms | ActiveRecord: 8.8ms | Allocations: 6283)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:08:43 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315425, "callback_query"=>{"id"=>"2650224934660697364", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>458, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504108, "text"=>"Ð¯ Ð½Ðµ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_62_6"}, "telegram_webhook"=>{"update_id"=>165315425, "callback_query"=>{"id"=>"2650224934660697364", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>458, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504108, "text"=>"Ð¯ Ð½Ðµ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_62_6"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=16, answer_option_id=62, test_result_id=6
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (4.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 16], ["answer_option_id", 62], ["created_at", "2025-10-03 15:08:43.256556"], ["updated_at", "2025-10-03 15:08:43.256556"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.9ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 16 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 17]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 416ms (Views: 0.2ms | ActiveRecord: 7.1ms | Allocations: 6339)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:09:03 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315426, "callback_query"=>{"id"=>"2650224936799051459", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>459, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504123, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_65_6"}, "telegram_webhook"=>{"update_id"=>165315426, "callback_query"=>{"id"=>"2650224936799051459", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>459, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504123, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_65_6"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=17, answer_option_id=65, test_result_id=6
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (3.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 17], ["answer_option_id", 65], ["created_at", "2025-10-03 15:09:03.839234"], ["updated_at", "2025-10-03 15:09:03.839234"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 17 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 18]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 372ms (Views: 0.2ms | ActiveRecord: 6.6ms | Allocations: 6238)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:09:06 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315427, "callback_query"=>{"id"=>"2650224933401884462", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>460, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504144, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_69_6"}, "telegram_webhook"=>{"update_id"=>165315427, "callback_query"=>{"id"=>"2650224933401884462", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>460, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504144, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_69_6"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=18, answer_option_id=69, test_result_id=6
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 69], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.7ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (2.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 18], ["answer_option_id", 69], ["created_at", "2025-10-03 15:09:06.740700"], ["updated_at", "2025-10-03 15:09:06.740700"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 18 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 19]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 376ms (Views: 0.2ms | ActiveRecord: 4.8ms | Allocations: 6221)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:09:09 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315428, "callback_query"=>{"id"=>"2650224935305258153", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>461, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504147, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_73_6"}, "telegram_webhook"=>{"update_id"=>165315428, "callback_query"=>{"id"=>"2650224935305258153", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>461, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504147, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_73_6"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=19, answer_option_id=73, test_result_id=6
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.8ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 73], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (5.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 19], ["answer_option_id", 73], ["created_at", "2025-10-03 15:09:09.717542"], ["updated_at", "2025-10-03 15:09:09.717542"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 19 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 20]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `map'
Completed 200 OK in 394ms (Views: 0.2ms | ActiveRecord: 8.2ms | Allocations: 6304)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-03 20:09:12 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315429, "callback_query"=>{"id"=>"2650224933872214439", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>462, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504150, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¿ÐµÑÑÐ¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_77_6"}, "telegram_webhook"=>{"update_id"=>165315429, "callback_query"=>{"id"=>"2650224933872214439", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>462, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759504150, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¿ÐµÑÑÐ¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_77_6"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:49:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=20, answer_option_id=77, test_result_id=6
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:126:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:127:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:128:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mAnswer Create (6.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 6], ["question_id", 20], ["answer_option_id", 77], ["created_at", "2025-10-03 15:09:12.813830"], ["updated_at", "2025-10-03 15:09:12.813830"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 20 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:133:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:163:in `calculate_and_send_results'
Part 1 Answers:
  [1m[35mSQL (0.7ms)[0m  [1m[34mSELECT "answers"."id" AS t0_r0, "answers"."test_result_id" AS t0_r1, "answers"."question_id" AS t0_r2, "answers"."answer_option_id" AS t0_r3, "answers"."created_at" AS t0_r4, "answers"."updated_at" AS t0_r5, "questions"."id" AS t1_r0, "questions"."test_id" AS t1_r1, "questions"."text" AS t1_r2, "questions"."created_at" AS t1_r3, "questions"."updated_at" AS t1_r4, "questions"."part" AS t1_r5, "answer_options"."id" AS t2_r0, "answer_options"."question_id" AS t2_r1, "answer_options"."text" AS t2_r2, "answer_options"."value" AS t2_r3, "answer_options"."created_at" AS t2_r4, "answer_options"."updated_at" AS t2_r5 FROM "answers" LEFT OUTER JOIN "questions" ON "questions"."id" = "answers"."question_id" LEFT OUTER JOIN "answer_options" ON "answer_options"."id" = "answers"."answer_option_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 6], ["part", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `calculate_and_send_results'
  Question: Ð¯ Ð½Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾., Answer: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 1
  Question: Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ., Answer: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 1
  Question: ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼., Answer: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 1
  Question: Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð½Ðµ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸., Answer: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 1
  Question: Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸., Answer: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 1
  Question: Ð¯ Ð½Ðµ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ., Answer: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 1
  Question: ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ., Answer: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 1
  Question: Ð¯ Ð½Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹)., Answer: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 1
  Question: Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 2
  Question: ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ., Answer: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚, Value: 3
Part 2 Answers:
  [1m[35mSQL (0.4ms)[0m  [1m[34mSELECT "answers"."id" AS t0_r0, "answers"."test_result_id" AS t0_r1, "answers"."question_id" AS t0_r2, "answers"."answer_option_id" AS t0_r3, "answers"."created_at" AS t0_r4, "answers"."updated_at" AS t0_r5, "questions"."id" AS t1_r0, "questions"."test_id" AS t1_r1, "questions"."text" AS t1_r2, "questions"."created_at" AS t1_r3, "questions"."updated_at" AS t1_r4, "questions"."part" AS t1_r5, "answer_options"."id" AS t2_r0, "answer_options"."question_id" AS t2_r1, "answer_options"."text" AS t2_r2, "answer_options"."value" AS t2_r3, "answer_options"."created_at" AS t2_r4, "answer_options"."updated_at" AS t2_r5 FROM "answers" LEFT OUTER JOIN "questions" ON "questions"."id" = "answers"."question_id" LEFT OUTER JOIN "answer_options" ON "answer_options"."id" = "answers"."answer_option_id" WHERE "answers"."test_result_id" = ? AND "questions"."part" = ?[0m  [["test_result_id", 6], ["part", 2]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `calculate_and_send_results'
  Question: Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼., Answer: Ð§Ð°ÑÑ‚Ð¾, Value: 3
  Question: ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸., Answer: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°, Value: 1
  Question: Ð¯ Ð½Ðµ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸., Answer: Ð˜Ð½Ð¾Ð³Ð´Ð°, Value: 2
  Question: Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ., Answer: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°, Value: 1
  Question: Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸., Answer: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°, Value: 1
  Question: ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ., Answer: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°, Value: 1
  Question: Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¿ÐµÑÑÐ¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ., Answer: ÐžÑ‡ÐµÐ½ÑŒ Ñ€ÐµÐ´ÐºÐ¾ Ð¸Ð»Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð°, Value: 1
Part 1 Score: 13
Part 2 Score: 16
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:203:in `calculate_and_send_results'
  [1m[36mTestResult Update (2.5ms)[0m  [1m[33mUPDATE "test_results" SET "score" = ?, "completed_at" = ?, "updated_at" = ? WHERE "test_results"."id" = ?[0m  [["score", 29], ["completed_at", "2025-10-03 15:09:12.889236"], ["updated_at", "2025-10-03 15:09:12.891152"], ["id", 6]]
  â†³ app/controllers/telegram_webhooks_controller.rb:203:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:203:in `calculate_and_send_results'
Completed 200 OK in 474ms (Views: 0.2ms | ActiveRecord: 12.5ms | Allocations: 13373)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? AND "tests"."description" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð”ÐµÐ¿Ñ€ÐµÑÑÐ¸Ð¸ (PHQ-9)"], ["description", "ÐžÐ¿Ñ€Ð¾ÑÐ½Ð¸Ðº Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚Ð° (PHQ-9) Ð´Ð»Ñ Ð¾Ñ†ÐµÐ½ÐºÐ¸ ÑƒÑ€Ð¾Ð²Ð½Ñ Ð´ÐµÐ¿Ñ€ÐµÑÑÐ¸Ð¸"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTest Create (0.5ms)[0m  [1m[32mINSERT INTO "tests" ("name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "Ð¢ÐµÑÑ‚ Ð”ÐµÐ¿Ñ€ÐµÑÑÐ¸Ð¸ (PHQ-9)"], ["description", "ÐžÐ¿Ñ€Ð¾ÑÐ½Ð¸Ðº Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚Ð° (PHQ-9) Ð´Ð»Ñ Ð¾Ñ†ÐµÐ½ÐºÐ¸ ÑƒÑ€Ð¾Ð²Ð½Ñ Ð´ÐµÐ¿Ñ€ÐµÑÑÐ¸Ð¸"], ["created_at", "2025-10-04 11:50:38.109722"], ["updated_at", "2025-10-04 11:50:38.109722"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.4ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼, ÑƒÐ³Ð½ÐµÑ‚ÐµÐ½Ð½Ñ‹Ð¼ Ð¸Ð»Ð¸ Ð±ÐµÐ·Ð½Ð°Ð´ÐµÐ¶Ð½Ñ‹Ð¼?"], ["created_at", "2025-10-04 11:50:38.201073"], ["updated_at", "2025-10-04 11:50:38.201073"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 21], ["text", "Ð¡Ð¾Ð²ÑÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°Ð»Ð¾"], ["value", 0], ["created_at", "2025-10-04 11:50:38.222973"], ["updated_at", "2025-10-04 11:50:38.222973"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 21], ["text", "ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð½ÐµÐ¹"], ["value", 1], ["created_at", "2025-10-04 11:50:38.230584"], ["updated_at", "2025-10-04 11:50:38.230584"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 21], ["text", "Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñ‹ Ð´Ð½ÐµÐ¹"], ["value", 2], ["created_at", "2025-10-04 11:50:38.238862"], ["updated_at", "2025-10-04 11:50:38.238862"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 21], ["text", "ÐŸÐ¾Ñ‡Ñ‚Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ"], ["value", 3], ["created_at", "2025-10-04 11:50:38.247284"], ["updated_at", "2025-10-04 11:50:38.247284"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.9ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð¢ÐµÑ€ÑÐ»Ð¸ Ð»Ð¸ Ð²Ñ‹ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑ Ð¸Ð»Ð¸ ÑƒÐ´Ð¾Ð²Ð¾Ð»ÑŒÑÑ‚Ð²Ð¸Ðµ Ð¾Ñ‚ Ð´ÐµÐ», ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð²Ð°Ð¼ Ð½Ñ€Ð°Ð²Ð¸Ð»Ð¸ÑÑŒ?"], ["created_at", "2025-10-04 11:50:38.255548"], ["updated_at", "2025-10-04 11:50:38.255548"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 22], ["text", "Ð¡Ð¾Ð²ÑÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°Ð»Ð¾"], ["value", 0], ["created_at", "2025-10-04 11:50:38.265234"], ["updated_at", "2025-10-04 11:50:38.265234"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 22], ["text", "ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð½ÐµÐ¹"], ["value", 1], ["created_at", "2025-10-04 11:50:38.328556"], ["updated_at", "2025-10-04 11:50:38.328556"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 22], ["text", "Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñ‹ Ð´Ð½ÐµÐ¹"], ["value", 2], ["created_at", "2025-10-04 11:50:38.336527"], ["updated_at", "2025-10-04 11:50:38.336527"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 22], ["text", "ÐŸÐ¾Ñ‡Ñ‚Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ"], ["value", 3], ["created_at", "2025-10-04 11:50:38.343732"], ["updated_at", "2025-10-04 11:50:38.343732"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.4ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð‘Ñ‹Ð»Ð¸ Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ ÑÐ¾ ÑÐ½Ð¾Ð¼, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð·Ð°ÑÑ‹Ð¿Ð°Ð½Ð¸ÐµÐ¼, ÑÐ½Ð¾Ð¼ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð½Ð¾Ñ‡Ð¸ Ð¸Ð»Ð¸ ÑÐ½Ð¾Ð¼ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð½Ð¾Ð³Ð¾?"], ["created_at", "2025-10-04 11:50:38.351222"], ["updated_at", "2025-10-04 11:50:38.351222"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 23], ["text", "Ð¡Ð¾Ð²ÑÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°Ð»Ð¾"], ["value", 0], ["created_at", "2025-10-04 11:50:38.358885"], ["updated_at", "2025-10-04 11:50:38.358885"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 23], ["text", "ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð½ÐµÐ¹"], ["value", 1], ["created_at", "2025-10-04 11:50:38.366372"], ["updated_at", "2025-10-04 11:50:38.366372"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 23], ["text", "Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñ‹ Ð´Ð½ÐµÐ¹"], ["value", 2], ["created_at", "2025-10-04 11:50:38.373579"], ["updated_at", "2025-10-04 11:50:38.373579"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 23], ["text", "ÐŸÐ¾Ñ‡Ñ‚Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ"], ["value", 3], ["created_at", "2025-10-04 11:50:38.381852"], ["updated_at", "2025-10-04 11:50:38.381852"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (4.0ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ ÑƒÑÑ‚Ð°Ð²ÑˆÐ¸Ð¼ Ð¸Ð»Ð¸ Ð¸Ð·Ð¼Ð¾Ñ‚Ð°Ð½Ð½Ñ‹Ð¼?"], ["created_at", "2025-10-04 11:50:38.390081"], ["updated_at", "2025-10-04 11:50:38.390081"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 24], ["text", "Ð¡Ð¾Ð²ÑÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°Ð»Ð¾"], ["value", 0], ["created_at", "2025-10-04 11:50:38.400273"], ["updated_at", "2025-10-04 11:50:38.400273"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 24], ["text", "ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð½ÐµÐ¹"], ["value", 1], ["created_at", "2025-10-04 11:50:38.408008"], ["updated_at", "2025-10-04 11:50:38.408008"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (8.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 24], ["text", "Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñ‹ Ð´Ð½ÐµÐ¹"], ["value", 2], ["created_at", "2025-10-04 11:50:38.415578"], ["updated_at", "2025-10-04 11:50:38.415578"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 24], ["text", "ÐŸÐ¾Ñ‡Ñ‚Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ"], ["value", 3], ["created_at", "2025-10-04 11:50:38.429502"], ["updated_at", "2025-10-04 11:50:38.429502"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.4ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð‘Ñ‹Ð» Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ð¿Ð»Ð¾Ñ…Ð¾Ð¹ Ð°Ð¿Ð¿ÐµÑ‚Ð¸Ñ‚ Ð¸Ð»Ð¸ Ð²Ñ‹ Ð¿ÐµÑ€ÐµÐµÐ´Ð°Ð»Ð¸?"], ["created_at", "2025-10-04 11:50:38.437020"], ["updated_at", "2025-10-04 11:50:38.437020"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 25], ["text", "Ð¡Ð¾Ð²ÑÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°Ð»Ð¾"], ["value", 0], ["created_at", "2025-10-04 11:50:38.444608"], ["updated_at", "2025-10-04 11:50:38.444608"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 25], ["text", "ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð½ÐµÐ¹"], ["value", 1], ["created_at", "2025-10-04 11:50:38.452048"], ["updated_at", "2025-10-04 11:50:38.452048"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 25], ["text", "Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñ‹ Ð´Ð½ÐµÐ¹"], ["value", 2], ["created_at", "2025-10-04 11:50:38.459378"], ["updated_at", "2025-10-04 11:50:38.459378"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 25], ["text", "ÐŸÐ¾Ñ‡Ñ‚Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ"], ["value", 3], ["created_at", "2025-10-04 11:50:38.466590"], ["updated_at", "2025-10-04 11:50:38.466590"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (5.9ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ Ð¿Ð»Ð¾Ñ…Ð¾ Ð¿Ð¾ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸ÑŽ Ðº ÑÐµÐ±Ðµ - Ð¸Ð»Ð¸ Ð´ÑƒÐ¼Ð°Ð»Ð¸, Ñ‡Ñ‚Ð¾ Ð²Ñ‹ Ð½ÐµÑƒÐ´Ð°Ñ‡Ð½Ð¸Ðº Ð¸Ð»Ð¸ Ð¿Ð¾Ð´Ð²ÐµÐ»Ð¸ ÑÐµÐ±Ñ Ð¸Ð»Ð¸ ÑÐ²Ð¾ÑŽ ÑÐµÐ¼ÑŒÑŽ?"], ["created_at", "2025-10-04 11:50:38.474180"], ["updated_at", "2025-10-04 11:50:38.474180"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 26], ["text", "Ð¡Ð¾Ð²ÑÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°Ð»Ð¾"], ["value", 0], ["created_at", "2025-10-04 11:50:38.485221"], ["updated_at", "2025-10-04 11:50:38.485221"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 26], ["text", "ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð½ÐµÐ¹"], ["value", 1], ["created_at", "2025-10-04 11:50:38.493819"], ["updated_at", "2025-10-04 11:50:38.493819"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 26], ["text", "Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñ‹ Ð´Ð½ÐµÐ¹"], ["value", 2], ["created_at", "2025-10-04 11:50:38.501888"], ["updated_at", "2025-10-04 11:50:38.501888"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 26], ["text", "ÐŸÐ¾Ñ‡Ñ‚Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ"], ["value", 3], ["created_at", "2025-10-04 11:50:38.509292"], ["updated_at", "2025-10-04 11:50:38.509292"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.3ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð‘Ñ‹Ð»Ð¸ Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸ Ñ ÐºÐ¾Ð½Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ñ†Ð¸ÐµÐ¹, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¿Ñ€Ð¸ Ñ‡Ñ‚ÐµÐ½Ð¸Ð¸ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ðµ Ñ‚ÐµÐ»ÐµÐ²Ð¸Ð·Ð¾Ñ€Ð°?"], ["created_at", "2025-10-04 11:50:38.517560"], ["updated_at", "2025-10-04 11:50:38.517560"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 27], ["text", "Ð¡Ð¾Ð²ÑÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°Ð»Ð¾"], ["value", 0], ["created_at", "2025-10-04 11:50:38.525177"], ["updated_at", "2025-10-04 11:50:38.525177"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 27], ["text", "ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð½ÐµÐ¹"], ["value", 1], ["created_at", "2025-10-04 11:50:38.532349"], ["updated_at", "2025-10-04 11:50:38.532349"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.7ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 27], ["text", "Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñ‹ Ð´Ð½ÐµÐ¹"], ["value", 2], ["created_at", "2025-10-04 11:50:38.545730"], ["updated_at", "2025-10-04 11:50:38.545730"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 27], ["text", "ÐŸÐ¾Ñ‡Ñ‚Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ"], ["value", 3], ["created_at", "2025-10-04 11:50:38.553136"], ["updated_at", "2025-10-04 11:50:38.553136"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.3ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð’Ñ‹ Ð´Ð²Ð¸Ð³Ð°Ð»Ð¸ÑÑŒ Ð¸Ð»Ð¸ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ð»Ð¸ Ñ‚Ð°Ðº Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾ Ð·Ð°Ð¼ÐµÑ‚Ð¸Ð»Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð»ÑŽÐ´Ð¸? Ð˜Ð»Ð¸, Ð½Ð°Ð¾Ð±Ð¾Ñ€Ð¾Ñ‚, Ð²Ñ‹ Ð±Ñ‹Ð»Ð¸ Ð½Ð°ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½Ñ‹, Ñ‡Ñ‚Ð¾ Ð²Ð°Ð¼ Ð±Ñ‹Ð»Ð¾ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑƒÑÐ¸Ð´ÐµÑ‚ÑŒ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ?"], ["created_at", "2025-10-04 11:50:38.560424"], ["updated_at", "2025-10-04 11:50:38.560424"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 28], ["text", "Ð¡Ð¾Ð²ÑÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°Ð»Ð¾"], ["value", 0], ["created_at", "2025-10-04 11:50:38.567813"], ["updated_at", "2025-10-04 11:50:38.567813"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 28], ["text", "ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð½ÐµÐ¹"], ["value", 1], ["created_at", "2025-10-04 11:50:38.574815"], ["updated_at", "2025-10-04 11:50:38.574815"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 28], ["text", "Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñ‹ Ð´Ð½ÐµÐ¹"], ["value", 2], ["created_at", "2025-10-04 11:50:38.581842"], ["updated_at", "2025-10-04 11:50:38.581842"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.7ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 28], ["text", "ÐŸÐ¾Ñ‡Ñ‚Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ"], ["value", 3], ["created_at", "2025-10-04 11:50:38.588925"], ["updated_at", "2025-10-04 11:50:38.588925"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.2ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 2], ["text", "Ð”ÑƒÐ¼Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹, Ñ‡Ñ‚Ð¾ Ð²Ð°Ð¼ Ð»ÑƒÑ‡ÑˆÐµ Ð±Ñ‹Ñ‚ÑŒ Ð¼ÐµÑ€Ñ‚Ð²Ñ‹Ð¼, Ð¸Ð»Ð¸ Ð¾ Ñ‚Ð¾Ð¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð¸Ñ‚ÑŒ ÑÐµÐ±Ðµ Ð²Ñ€ÐµÐ´?"], ["created_at", "2025-10-04 11:50:38.596528"], ["updated_at", "2025-10-04 11:50:38.596528"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 29], ["text", "Ð¡Ð¾Ð²ÑÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°Ð»Ð¾"], ["value", 0], ["created_at", "2025-10-04 11:50:38.604090"], ["updated_at", "2025-10-04 11:50:38.604090"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (5.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 29], ["text", "ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð½ÐµÐ¹"], ["value", 1], ["created_at", "2025-10-04 11:50:38.611523"], ["updated_at", "2025-10-04 11:50:38.611523"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 29], ["text", "Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñ‹ Ð´Ð½ÐµÐ¹"], ["value", 2], ["created_at", "2025-10-04 11:50:38.621612"], ["updated_at", "2025-10-04 11:50:38.621612"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 29], ["text", "ÐŸÐ¾Ñ‡Ñ‚Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ"], ["value", 3], ["created_at", "2025-10-04 11:50:38.628587"], ["updated_at", "2025-10-04 11:50:38.628587"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:05 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315430, "message"=>{"message_id"=>464, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578904, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315430, "message"=>{"message_id"=>464, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578904, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 552ms (Views: 0.3ms | ActiveRecord: 5.7ms | Allocations: 28884)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:13 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315431, "callback_query"=>{"id"=>"2650224933456019014", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>465, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578905, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}, "telegram_webhook"=>{"update_id"=>165315431, "callback_query"=>{"id"=>"2650224933456019014", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>465, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578905, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_anxiety_test"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð¢Ñ€ÐµÐ²Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:90:in `start_anxiety_test'
Test ID: 1
User ID: 1
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:99:in `start_anxiety_test'
  [1m[36mTestResult Create (3.4ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 1], ["test_id", 1], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-04 11:55:13.351127"], ["updated_at", "2025-10-04 11:55:13.351127"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:99:in `start_anxiety_test'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:99:in `start_anxiety_test'
TestResult ID: 7
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:101:in `start_anxiety_test'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_1_7
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_2_7
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_3_7
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ - answer_1_4_7
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_1_7"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_2_7"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_3_7"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚","callback_data":"answer_1_4_7"}]]}
Completed 200 OK in 674ms (Views: 0.3ms | ActiveRecord: 11.6ms | Allocations: 31430)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:16 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315432, "callback_query"=>{"id"=>"2650224933570504702", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>466, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578913, "text"=>"Ð¯ Ð½Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_1_3_7"}, "telegram_webhook"=>{"update_id"=>165315432, "callback_query"=>{"id"=>"2650224933570504702", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>466, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578913, "text"=>"Ð¯ Ð½Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_1_3_7"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=1, answer_option_id=3, test_result_id=7
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (3.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 1], ["answer_option_id", 3], ["created_at", "2025-10-04 11:55:16.707931"], ["updated_at", "2025-10-04 11:55:16.707931"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 1 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 2]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 408ms (Views: 0.1ms | ActiveRecord: 7.3ms | Allocations: 12820)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315433, "callback_query"=>{"id"=>"2650224935143653861", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>467, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578916, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_2_7_7"}, "telegram_webhook"=>{"update_id"=>165315433, "callback_query"=>{"id"=>"2650224935143653861", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>467, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578916, "text"=>"Ð¯ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¾ Ð² Ñ‚ÐµÐ»Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_2_7_7"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=2, answer_option_id=7, test_result_id=7
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 2], ["answer_option_id", 7], ["created_at", "2025-10-04 11:55:18.025649"], ["updated_at", "2025-10-04 11:55:18.025649"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 2 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 3]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 412ms (Views: 0.1ms | ActiveRecord: 6.4ms | Allocations: 6355)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:19 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315434, "callback_query"=>{"id"=>"2650224933898687753", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>468, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578918, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_11_7"}, "telegram_webhook"=>{"update_id"=>165315434, "callback_query"=>{"id"=>"2650224933898687753", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>468, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578918, "text"=>"ÐœÐ½Ðµ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´ÑÑ‰ÐµÐ¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_3_11_7"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=3, answer_option_id=11, test_result_id=7
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (6.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 3], ["answer_option_id", 11], ["created_at", "2025-10-04 11:55:19.417149"], ["updated_at", "2025-10-04 11:55:19.417149"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 3 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 4]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 520ms (Views: 0.1ms | ActiveRecord: 9.6ms | Allocations: 6384)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:21 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315435, "callback_query"=>{"id"=>"2650224934833064651", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>469, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578919, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð½Ðµ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_15_7"}, "telegram_webhook"=>{"update_id"=>165315435, "callback_query"=>{"id"=>"2650224934833064651", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>469, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578919, "text"=>"Ð¯ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, Ñ‡Ñ‚Ð¾ Ð½Ðµ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ ÑÐ¼Ð¾Ñ†Ð¸Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_4_15_7"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=4, answer_option_id=15, test_result_id=7
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.8ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 4], ["answer_option_id", 15], ["created_at", "2025-10-04 11:55:21.517359"], ["updated_at", "2025-10-04 11:55:21.517359"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 4 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 5]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 406ms (Views: 0.3ms | ActiveRecord: 7.0ms | Allocations: 6339)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:22 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315436, "callback_query"=>{"id"=>"2650224934109486743", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>470, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578921, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_19_7"}, "telegram_webhook"=>{"update_id"=>165315436, "callback_query"=>{"id"=>"2650224934109486743", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>470, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578921, "text"=>"Ð¯ Ð²Ð·Ð²Ð¾Ð»Ð½Ð¾Ð²Ð°Ð½(Ð°) Ð¸Ð·-Ð·Ð° Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_5_19_7"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=5, answer_option_id=19, test_result_id=7
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 5], ["answer_option_id", 19], ["created_at", "2025-10-04 11:55:22.858036"], ["updated_at", "2025-10-04 11:55:22.858036"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 5 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 6]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 386ms (Views: 0.2ms | ActiveRecord: 7.1ms | Allocations: 6287)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:25 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315437, "callback_query"=>{"id"=>"2650224937086186661", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>471, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578922, "text"=>"Ð¯ Ð½Ðµ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_23_7"}, "telegram_webhook"=>{"update_id"=>165315437, "callback_query"=>{"id"=>"2650224937086186661", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>471, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578922, "text"=>"Ð¯ Ð½Ðµ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°) Ð² ÑÐµÐ±Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_6_23_7"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=6, answer_option_id=23, test_result_id=7
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (5.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 6], ["answer_option_id", 23], ["created_at", "2025-10-04 11:55:25.113971"], ["updated_at", "2025-10-04 11:55:25.113971"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 6 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 7]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 388ms (Views: 0.1ms | ActiveRecord: 10.4ms | Allocations: 6257)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:26 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315438, "callback_query"=>{"id"=>"2650224936047614589", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>472, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578925, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_27_7"}, "telegram_webhook"=>{"update_id"=>165315438, "callback_query"=>{"id"=>"2650224936047614589", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>472, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578925, "text"=>"ÐœÐ¾Ð¸ Ð¼Ñ‹ÑÐ»Ð¸ Ð¿ÑƒÑ‚Ð°ÑŽÑ‚ÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_7_27_7"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=7, answer_option_id=27, test_result_id=7
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 7], ["answer_option_id", 27], ["created_at", "2025-10-04 11:55:26.398589"], ["updated_at", "2025-10-04 11:55:26.398589"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 7 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 8]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 554ms (Views: 0.2ms | ActiveRecord: 7.5ms | Allocations: 6308)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:27 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315439, "callback_query"=>{"id"=>"2650224937165186988", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>473, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578926, "text"=>"Ð¯ Ð½Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_31_7"}, "telegram_webhook"=>{"update_id"=>165315439, "callback_query"=>{"id"=>"2650224937165186988", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>473, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578926, "text"=>"Ð¯ Ð½Ðµ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¼(Ð¾Ð¹).", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_8_31_7"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=8, answer_option_id=31, test_result_id=7
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (5.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 8], ["answer_option_id", 31], ["created_at", "2025-10-04 11:55:27.792388"], ["updated_at", "2025-10-04 11:55:27.792388"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 8 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 9]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 496ms (Views: 0.1ms | ActiveRecord: 8.0ms | Allocations: 6340)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:29 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315440, "callback_query"=>{"id"=>"2650224935135076509", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>474, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578927, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_35_7"}, "telegram_webhook"=>{"update_id"=>165315440, "callback_query"=>{"id"=>"2650224935135076509", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>474, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578927, "text"=>"Ð¯ Ð¸ÑÐ¿Ñ‹Ñ‚Ñ‹Ð²Ð°ÑŽ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð±ÐµÐ· Ð²Ð¸Ð´Ð¸Ð¼Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_9_35_7"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=9, answer_option_id=35, test_result_id=7
  [1m[36mQuestion Load (14.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.8ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (2.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 9], ["answer_option_id", 35], ["created_at", "2025-10-04 11:55:29.260660"], ["updated_at", "2025-10-04 11:55:29.260660"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 9 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 10]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 573ms (Views: 0.2ms | ActiveRecord: 20.4ms | Allocations: 6274)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:31 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315441, "callback_query"=>{"id"=>"2650224936173744574", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>475, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578929, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_39_7"}, "telegram_webhook"=>{"update_id"=>165315441, "callback_query"=>{"id"=>"2650224936173744574", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>475, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578929, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð¸Ñ‚ÑŒÑÑ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_10_39_7"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=10, answer_option_id=39, test_result_id=7
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (5.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 10], ["answer_option_id", 39], ["created_at", "2025-10-04 11:55:31.362093"], ["updated_at", "2025-10-04 11:55:31.362093"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (1.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 10 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 11]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 482ms (Views: 0.1ms | ActiveRecord: 8.2ms | Allocations: 6287)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:33 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315442, "callback_query"=>{"id"=>"2650224935250666778", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>476, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578931, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_43_7"}, "telegram_webhook"=>{"update_id"=>165315442, "callback_query"=>{"id"=>"2650224935250666778", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>476, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578931, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ðº Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ñƒ Ð´Ð°Ð¶Ðµ Ð±ÐµÐ· Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_11_43_7"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=11, answer_option_id=43, test_result_id=7
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 43], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 11], ["answer_option_id", 43], ["created_at", "2025-10-04 11:55:33.178858"], ["updated_at", "2025-10-04 11:55:33.178858"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 11 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 12]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 569ms (Views: 0.1ms | ActiveRecord: 7.4ms | Allocations: 6242)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:34 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315443, "callback_query"=>{"id"=>"2650224936003992122", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>477, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578933, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_47_7"}, "telegram_webhook"=>{"update_id"=>165315443, "callback_query"=>{"id"=>"2650224936003992122", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>477, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578933, "text"=>"Ð¯ Ð»ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð°ÑŽÑÑŒ Ð¿Ð¾ Ð¿ÑƒÑÑ‚ÑÐºÐ°Ð¼.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_12_47_7"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=12, answer_option_id=47, test_result_id=7
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 12], ["answer_option_id", 47], ["created_at", "2025-10-04 11:55:34.806876"], ["updated_at", "2025-10-04 11:55:34.806876"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 12 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 13]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 607ms (Views: 0.3ms | ActiveRecord: 8.0ms | Allocations: 6296)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:36 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315444, "callback_query"=>{"id"=>"2650224934056307405", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>478, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578935, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_51_7"}, "telegram_webhook"=>{"update_id"=>165315444, "callback_query"=>{"id"=>"2650224934056307405", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>478, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578935, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ð¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_13_51_7"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=13, answer_option_id=51, test_result_id=7
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 13], ["answer_option_id", 51], ["created_at", "2025-10-04 11:55:36.317056"], ["updated_at", "2025-10-04 11:55:36.317056"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 13 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 14]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 416ms (Views: 1.9ms | ActiveRecord: 8.8ms | Allocations: 6254)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:37 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315445, "callback_query"=>{"id"=>"2650224936604281460", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>479, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578936, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_55_7"}, "telegram_webhook"=>{"update_id"=>165315445, "callback_query"=>{"id"=>"2650224936604281460", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>479, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578936, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°ÑŽ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÐµÐµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_14_55_7"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=14, answer_option_id=55, test_result_id=7
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (7.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 14], ["answer_option_id", 55], ["created_at", "2025-10-04 11:55:37.667987"], ["updated_at", "2025-10-04 11:55:37.667987"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (7.0ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 14 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 15]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 486ms (Views: 0.1ms | ActiveRecord: 17.5ms | Allocations: 6259)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:39 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315446, "callback_query"=>{"id"=>"2650224933131382940", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>480, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578937, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_59_7"}, "telegram_webhook"=>{"update_id"=>165315446, "callback_query"=>{"id"=>"2650224933131382940", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>480, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578937, "text"=>"Ð£ Ð¼ÐµÐ½Ñ Ñ‡Ð°ÑÑ‚Ð¾ Ð±Ñ‹Ð²Ð°ÑŽÑ‚ Ð¼Ñ€Ð°Ñ‡Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_15_59_7"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=15, answer_option_id=59, test_result_id=7
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 15], ["answer_option_id", 59], ["created_at", "2025-10-04 11:55:39.119646"], ["updated_at", "2025-10-04 11:55:39.119646"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 15 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 16]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 411ms (Views: 0.1ms | ActiveRecord: 7.9ms | Allocations: 6283)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:40 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315447, "callback_query"=>{"id"=>"2650224933683963738", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>481, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578939, "text"=>"Ð¯ Ð½Ðµ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_63_7"}, "telegram_webhook"=>{"update_id"=>165315447, "callback_query"=>{"id"=>"2650224933683963738", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>481, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578939, "text"=>"Ð¯ Ð½Ðµ Ð²ÐµÑ€ÑŽ Ð² ÑÐ²Ð¾Ð¸ ÑÐ¸Ð»Ñ‹ Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_16_63_7"}}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=16, answer_option_id=63, test_result_id=7
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (6.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 16], ["answer_option_id", 63], ["created_at", "2025-10-04 11:55:40.461779"], ["updated_at", "2025-10-04 11:55:40.461779"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 16 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 17]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 452ms (Views: 0.3ms | ActiveRecord: 9.3ms | Allocations: 6336)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:41 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315448, "callback_query"=>{"id"=>"2650224937210578438", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>482, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578940, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_67_7"}, "telegram_webhook"=>{"update_id"=>165315448, "callback_query"=>{"id"=>"2650224937210578438", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>482, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578940, "text"=>"Ð¯ Ð¸Ð·Ð±ÐµÐ³Ð°ÑŽ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ Ñƒ Ð¼ÐµÐ½Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_17_67_7"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=17, answer_option_id=67, test_result_id=7
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 67], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (3.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 17], ["answer_option_id", 67], ["created_at", "2025-10-04 11:55:41.872076"], ["updated_at", "2025-10-04 11:55:41.872076"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 17 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 18]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 427ms (Views: 0.2ms | ActiveRecord: 6.1ms | Allocations: 6241)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:43 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315449, "callback_query"=>{"id"=>"2650224935969064325", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>483, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578941, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_71_7"}, "telegram_webhook"=>{"update_id"=>165315449, "callback_query"=>{"id"=>"2650224935969064325", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>483, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578941, "text"=>"Ð¯ ÑÐºÐ»Ð¾Ð½ÐµÐ½(Ð°) Ð¿Ñ€ÐµÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_18_71_7"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=18, answer_option_id=71, test_result_id=7
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 71], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (5.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 18], ["answer_option_id", 71], ["created_at", "2025-10-04 11:55:43.356676"], ["updated_at", "2025-10-04 11:55:43.356676"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 18 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 19]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 417ms (Views: 0.2ms | ActiveRecord: 8.4ms | Allocations: 6221)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:44 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315450, "callback_query"=>{"id"=>"2650224936436532083", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>484, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578943, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_75_7"}, "telegram_webhook"=>{"update_id"=>165315450, "callback_query"=>{"id"=>"2650224936436532083", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>484, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578943, "text"=>"ÐœÐ½Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°Ñ‚ÑŒ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_19_75_7"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=19, answer_option_id=75, test_result_id=7
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (7.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 19], ["answer_option_id", 75], ["created_at", "2025-10-04 11:55:44.720680"], ["updated_at", "2025-10-04 11:55:44.720680"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 19 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 20]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 363ms (Views: 0.2ms | ActiveRecord: 10.0ms | Allocations: 6281)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:46 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315451, "callback_query"=>{"id"=>"2650224933579935176", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>485, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578944, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¿ÐµÑÑÐ¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_79_7"}, "telegram_webhook"=>{"update_id"=>165315451, "callback_query"=>{"id"=>"2650224933579935176", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>485, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578944, "text"=>"Ð¯ Ð² Ñ†ÐµÐ»Ð¾Ð¼ Ð¿ÐµÑÑÐ¸Ð¼Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ Ð² Ð±ÑƒÐ´ÑƒÑ‰ÐµÐµ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_20_79_7"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=20, answer_option_id=79, test_result_id=7
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 7], ["question_id", 20], ["answer_option_id", 79], ["created_at", "2025-10-04 11:55:46.128052"], ["updated_at", "2025-10-04 11:55:46.128052"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 20 AND test_id = 1) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:184:in `calculate_and_send_results'
  [1m[36mCACHE Test Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:185:in `calculate_and_send_results'
  [1m[36mAnswer Load (0.6ms)[0m  [1m[34mSELECT "answers".* FROM "answers" WHERE "answers"."test_result_id" = ?[0m  [["test_result_id", 7]]
  â†³ app/controllers/telegram_webhooks_controller.rb:189:in `calculate_and_send_results'
  [1m[36mQuestion Load (1.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13], ["id", 14], ["id", 15], ["id", 16], ["id", 17], ["id", 18], ["id", 19], ["id", 20]]
  â†³ app/controllers/telegram_webhooks_controller.rb:189:in `calculate_and_send_results'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 3], ["id", 7], ["id", 11], ["id", 15], ["id", 19], ["id", 23], ["id", 27], ["id", 31], ["id", 35], ["id", 39], ["id", 43], ["id", 47], ["id", 51], ["id", 55], ["id", 59], ["id", 63], ["id", 67], ["id", 71], ["id", 75], ["id", 79]]
  â†³ app/controllers/telegram_webhooks_controller.rb:189:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:226:in `calculate_and_send_results'
  [1m[36mTestResult Update (8.7ms)[0m  [1m[33mUPDATE "test_results" SET "score" = ?, "completed_at" = ?, "updated_at" = ? WHERE "test_results"."id" = ?[0m  [["score", 60], ["completed_at", "2025-10-04 11:55:46.278713"], ["updated_at", "2025-10-04 11:55:46.280166"], ["id", 7]]
  â†³ app/controllers/telegram_webhooks_controller.rb:226:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:226:in `calculate_and_send_results'
Completed 200 OK in 607ms (Views: 0.2ms | ActiveRecord: 18.8ms | Allocations: 15650)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:55:57 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315452, "message"=>{"message_id"=>487, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578956, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315452, "message"=>{"message_id"=>487, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578956, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 370ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 1854)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:05 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315453, "callback_query"=>{"id"=>"2650224935298117462", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>488, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578957, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_depression_test"}, "telegram_webhook"=>{"update_id"=>165315453, "callback_query"=>{"id"=>"2650224935298117462", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>488, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578957, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_depression_test"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð”ÐµÐ¿Ñ€ÐµÑÑÐ¸Ð¸ (PHQ-9)"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:110:in `start_depression_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:118:in `start_depression_test'
  [1m[36mTestResult Create (5.1ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 1], ["test_id", 2], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-04 11:56:05.392511"], ["updated_at", "2025-10-04 11:56:05.392511"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:118:in `start_depression_test'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:118:in `start_depression_test'
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:119:in `start_depression_test'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 21]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `map'
Callback data for option: Ð¡Ð¾Ð²ÑÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°Ð»Ð¾ - answer_21_81_8
Callback data for option: ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð½ÐµÐ¹ - answer_21_82_8
Callback data for option: Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñ‹ Ð´Ð½ÐµÐ¹ - answer_21_83_8
Callback data for option: ÐŸÐ¾Ñ‡Ñ‚Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ - answer_21_84_8
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÑÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°Ð»Ð¾","callback_data":"answer_21_81_8"}],[{"text":"ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð½ÐµÐ¹","callback_data":"answer_21_82_8"}],[{"text":"Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñ‹ Ð´Ð½ÐµÐ¹","callback_data":"answer_21_83_8"}],[{"text":"ÐŸÐ¾Ñ‡Ñ‚Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ","callback_data":"answer_21_84_8"}]]}
Completed 200 OK in 392ms (Views: 0.2ms | ActiveRecord: 6.7ms | Allocations: 5193)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:08 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315454, "callback_query"=>{"id"=>"2650224933401658146", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>489, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578965, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼, ÑƒÐ³Ð½ÐµÑ‚ÐµÐ½Ð½Ñ‹Ð¼ Ð¸Ð»Ð¸ Ð±ÐµÐ·Ð½Ð°Ð´ÐµÐ¶Ð½Ñ‹Ð¼?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_81_8"}, "telegram_webhook"=>{"update_id"=>165315454, "callback_query"=>{"id"=>"2650224933401658146", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>489, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578965, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼, ÑƒÐ³Ð½ÐµÑ‚ÐµÐ½Ð½Ñ‹Ð¼ Ð¸Ð»Ð¸ Ð±ÐµÐ·Ð½Ð°Ð´ÐµÐ¶Ð½Ñ‹Ð¼?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_81_8"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=21, answer_option_id=81, test_result_id=8
  [1m[36mQuestion Load (0.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 8], ["question_id", 21], ["answer_option_id", 81], ["created_at", "2025-10-04 11:56:08.644252"], ["updated_at", "2025-10-04 11:56:08.644252"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 21 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 22]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 661ms (Views: 0.2ms | ActiveRecord: 8.7ms | Allocations: 6444)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:10 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315455, "callback_query"=>{"id"=>"2650224937321212882", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>490, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578968, "text"=>"Ð¢ÐµÑ€ÑÐ»Ð¸ Ð»Ð¸ Ð²Ñ‹ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑ Ð¸Ð»Ð¸ ÑƒÐ´Ð¾Ð²Ð¾Ð»ÑŒÑÑ‚Ð²Ð¸Ðµ Ð¾Ñ‚ Ð´ÐµÐ», ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð²Ð°Ð¼ Ð½Ñ€Ð°Ð²Ð¸Ð»Ð¸ÑÑŒ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_85_8"}, "telegram_webhook"=>{"update_id"=>165315455, "callback_query"=>{"id"=>"2650224937321212882", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>490, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578968, "text"=>"Ð¢ÐµÑ€ÑÐ»Ð¸ Ð»Ð¸ Ð²Ñ‹ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑ Ð¸Ð»Ð¸ ÑƒÐ´Ð¾Ð²Ð¾Ð»ÑŒÑÑ‚Ð²Ð¸Ðµ Ð¾Ñ‚ Ð´ÐµÐ», ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð²Ð°Ð¼ Ð½Ñ€Ð°Ð²Ð¸Ð»Ð¸ÑÑŒ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_85_8"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=22, answer_option_id=85, test_result_id=8
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (14.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 8], ["question_id", 22], ["answer_option_id", 85], ["created_at", "2025-10-04 11:56:10.343449"], ["updated_at", "2025-10-04 11:56:10.343449"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.6ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (1.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 23]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 450ms (Views: 0.1ms | ActiveRecord: 20.8ms | Allocations: 6548)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:11 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315456, "callback_query"=>{"id"=>"2650224934030968033", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>491, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578970, "text"=>"Ð‘Ñ‹Ð»Ð¸ Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ ÑÐ¾ ÑÐ½Ð¾Ð¼, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð·Ð°ÑÑ‹Ð¿Ð°Ð½Ð¸ÐµÐ¼, ÑÐ½Ð¾Ð¼ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð½Ð¾Ñ‡Ð¸ Ð¸Ð»Ð¸ ÑÐ½Ð¾Ð¼ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð½Ð¾Ð³Ð¾?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_23_89_8"}, "telegram_webhook"=>{"update_id"=>165315456, "callback_query"=>{"id"=>"2650224934030968033", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>491, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578970, "text"=>"Ð‘Ñ‹Ð»Ð¸ Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ ÑÐ¾ ÑÐ½Ð¾Ð¼, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð·Ð°ÑÑ‹Ð¿Ð°Ð½Ð¸ÐµÐ¼, ÑÐ½Ð¾Ð¼ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð½Ð¾Ñ‡Ð¸ Ð¸Ð»Ð¸ ÑÐ½Ð¾Ð¼ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð½Ð¾Ð³Ð¾?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_23_89_8"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=23, answer_option_id=89, test_result_id=8
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 89], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (3.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 8], ["question_id", 23], ["answer_option_id", 89], ["created_at", "2025-10-04 11:56:11.654869"], ["updated_at", "2025-10-04 11:56:11.654869"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 23 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 24]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 421ms (Views: 0.2ms | ActiveRecord: 6.2ms | Allocations: 6348)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:13 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315457, "callback_query"=>{"id"=>"2650224937082149804", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>492, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578971, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ ÑƒÑÑ‚Ð°Ð²ÑˆÐ¸Ð¼ Ð¸Ð»Ð¸ Ð¸Ð·Ð¼Ð¾Ñ‚Ð°Ð½Ð½Ñ‹Ð¼?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_24_93_8"}, "telegram_webhook"=>{"update_id"=>165315457, "callback_query"=>{"id"=>"2650224937082149804", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>492, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578971, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ ÑƒÑÑ‚Ð°Ð²ÑˆÐ¸Ð¼ Ð¸Ð»Ð¸ Ð¸Ð·Ð¼Ð¾Ñ‚Ð°Ð½Ð½Ñ‹Ð¼?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_24_93_8"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=24, answer_option_id=93, test_result_id=8
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 93], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (5.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 8], ["question_id", 24], ["answer_option_id", 93], ["created_at", "2025-10-04 11:56:13.050658"], ["updated_at", "2025-10-04 11:56:13.050658"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (1.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 24 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 25]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 426ms (Views: 0.2ms | ActiveRecord: 8.2ms | Allocations: 6349)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:14 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315458, "callback_query"=>{"id"=>"2650224933951912294", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>493, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578973, "text"=>"Ð‘Ñ‹Ð» Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ð¿Ð»Ð¾Ñ…Ð¾Ð¹ Ð°Ð¿Ð¿ÐµÑ‚Ð¸Ñ‚ Ð¸Ð»Ð¸ Ð²Ñ‹ Ð¿ÐµÑ€ÐµÐµÐ´Ð°Ð»Ð¸?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_25_97_8"}, "telegram_webhook"=>{"update_id"=>165315458, "callback_query"=>{"id"=>"2650224933951912294", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>493, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578973, "text"=>"Ð‘Ñ‹Ð» Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ð¿Ð»Ð¾Ñ…Ð¾Ð¹ Ð°Ð¿Ð¿ÐµÑ‚Ð¸Ñ‚ Ð¸Ð»Ð¸ Ð²Ñ‹ Ð¿ÐµÑ€ÐµÐµÐ´Ð°Ð»Ð¸?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_25_97_8"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=25, answer_option_id=97, test_result_id=8
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 97], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (1.0ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (3.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 8], ["question_id", 25], ["answer_option_id", 97], ["created_at", "2025-10-04 11:56:14.290782"], ["updated_at", "2025-10-04 11:56:14.290782"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 25 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 26]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 411ms (Views: 0.3ms | ActiveRecord: 7.1ms | Allocations: 6609)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:15 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315459, "callback_query"=>{"id"=>"2650224933940567124", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>494, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578974, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ Ð¿Ð»Ð¾Ñ…Ð¾ Ð¿Ð¾ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸ÑŽ Ðº ÑÐµÐ±Ðµ - Ð¸Ð»Ð¸ Ð´ÑƒÐ¼Ð°Ð»Ð¸, Ñ‡Ñ‚Ð¾ Ð²Ñ‹ Ð½ÐµÑƒÐ´Ð°Ñ‡Ð½Ð¸Ðº Ð¸Ð»Ð¸ Ð¿Ð¾Ð´Ð²ÐµÐ»Ð¸ ÑÐµÐ±Ñ Ð¸Ð»Ð¸ ÑÐ²Ð¾ÑŽ ÑÐµÐ¼ÑŒÑŽ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_26_101_8"}, "telegram_webhook"=>{"update_id"=>165315459, "callback_query"=>{"id"=>"2650224933940567124", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>494, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578974, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ Ð¿Ð»Ð¾Ñ…Ð¾ Ð¿Ð¾ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸ÑŽ Ðº ÑÐµÐ±Ðµ - Ð¸Ð»Ð¸ Ð´ÑƒÐ¼Ð°Ð»Ð¸, Ñ‡Ñ‚Ð¾ Ð²Ñ‹ Ð½ÐµÑƒÐ´Ð°Ñ‡Ð½Ð¸Ðº Ð¸Ð»Ð¸ Ð¿Ð¾Ð´Ð²ÐµÐ»Ð¸ ÑÐµÐ±Ñ Ð¸Ð»Ð¸ ÑÐ²Ð¾ÑŽ ÑÐµÐ¼ÑŒÑŽ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_26_101_8"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=26, answer_option_id=101, test_result_id=8
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (8.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 8], ["question_id", 26], ["answer_option_id", 101], ["created_at", "2025-10-04 11:56:15.615704"], ["updated_at", "2025-10-04 11:56:15.615704"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 26 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 27]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 453ms (Views: 0.2ms | ActiveRecord: 11.5ms | Allocations: 6478)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:16 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315460, "callback_query"=>{"id"=>"2650224935358008755", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>495, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578975, "text"=>"Ð‘Ñ‹Ð»Ð¸ Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸ Ñ ÐºÐ¾Ð½Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ñ†Ð¸ÐµÐ¹, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¿Ñ€Ð¸ Ñ‡Ñ‚ÐµÐ½Ð¸Ð¸ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ðµ Ñ‚ÐµÐ»ÐµÐ²Ð¸Ð·Ð¾Ñ€Ð°?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_27_105_8"}, "telegram_webhook"=>{"update_id"=>165315460, "callback_query"=>{"id"=>"2650224935358008755", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>495, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578975, "text"=>"Ð‘Ñ‹Ð»Ð¸ Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸ Ñ ÐºÐ¾Ð½Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ñ†Ð¸ÐµÐ¹, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¿Ñ€Ð¸ Ñ‡Ñ‚ÐµÐ½Ð¸Ð¸ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ðµ Ñ‚ÐµÐ»ÐµÐ²Ð¸Ð·Ð¾Ñ€Ð°?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_27_105_8"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=27, answer_option_id=105, test_result_id=8
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 105], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 8], ["question_id", 27], ["answer_option_id", 105], ["created_at", "2025-10-04 11:56:16.962232"], ["updated_at", "2025-10-04 11:56:16.962232"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 27 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 28]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 441ms (Views: 0.4ms | ActiveRecord: 7.1ms | Allocations: 6738)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315461, "callback_query"=>{"id"=>"2650224937322295697", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>496, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578977, "text"=>"Ð’Ñ‹ Ð´Ð²Ð¸Ð³Ð°Ð»Ð¸ÑÑŒ Ð¸Ð»Ð¸ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ð»Ð¸ Ñ‚Ð°Ðº Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾ Ð·Ð°Ð¼ÐµÑ‚Ð¸Ð»Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð»ÑŽÐ´Ð¸? Ð˜Ð»Ð¸, Ð½Ð°Ð¾Ð±Ð¾Ñ€Ð¾Ñ‚, Ð²Ñ‹ Ð±Ñ‹Ð»Ð¸ Ð½Ð°ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½Ñ‹, Ñ‡Ñ‚Ð¾ Ð²Ð°Ð¼ Ð±Ñ‹Ð»Ð¾ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑƒÑÐ¸Ð´ÐµÑ‚ÑŒ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_28_109_8"}, "telegram_webhook"=>{"update_id"=>165315461, "callback_query"=>{"id"=>"2650224937322295697", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>496, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578977, "text"=>"Ð’Ñ‹ Ð´Ð²Ð¸Ð³Ð°Ð»Ð¸ÑÑŒ Ð¸Ð»Ð¸ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ð»Ð¸ Ñ‚Ð°Ðº Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾ Ð·Ð°Ð¼ÐµÑ‚Ð¸Ð»Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð»ÑŽÐ´Ð¸? Ð˜Ð»Ð¸, Ð½Ð°Ð¾Ð±Ð¾Ñ€Ð¾Ñ‚, Ð²Ñ‹ Ð±Ñ‹Ð»Ð¸ Ð½Ð°ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½Ñ‹, Ñ‡Ñ‚Ð¾ Ð²Ð°Ð¼ Ð±Ñ‹Ð»Ð¾ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑƒÑÐ¸Ð´ÐµÑ‚ÑŒ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_28_109_8"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=28, answer_option_id=109, test_result_id=8
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 109], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (7.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 8], ["question_id", 28], ["answer_option_id", 109], ["created_at", "2025-10-04 11:56:18.394069"], ["updated_at", "2025-10-04 11:56:18.394069"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 28 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 29]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 416ms (Views: 0.2ms | ActiveRecord: 9.9ms | Allocations: 6485)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:19 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315462, "callback_query"=>{"id"=>"2650224934353046298", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>497, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578978, "text"=>"Ð”ÑƒÐ¼Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹, Ñ‡Ñ‚Ð¾ Ð²Ð°Ð¼ Ð»ÑƒÑ‡ÑˆÐµ Ð±Ñ‹Ñ‚ÑŒ Ð¼ÐµÑ€Ñ‚Ð²Ñ‹Ð¼, Ð¸Ð»Ð¸ Ð¾ Ñ‚Ð¾Ð¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð¸Ñ‚ÑŒ ÑÐµÐ±Ðµ Ð²Ñ€ÐµÐ´?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_29_113_8"}, "telegram_webhook"=>{"update_id"=>165315462, "callback_query"=>{"id"=>"2650224934353046298", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>497, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578978, "text"=>"Ð”ÑƒÐ¼Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹, Ñ‡Ñ‚Ð¾ Ð²Ð°Ð¼ Ð»ÑƒÑ‡ÑˆÐµ Ð±Ñ‹Ñ‚ÑŒ Ð¼ÐµÑ€Ñ‚Ð²Ñ‹Ð¼, Ð¸Ð»Ð¸ Ð¾ Ñ‚Ð¾Ð¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð¸Ñ‚ÑŒ ÑÐµÐ±Ðµ Ð²Ñ€ÐµÐ´?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_29_113_8"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=29, answer_option_id=113, test_result_id=8
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 113], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (3.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 8], ["question_id", 29], ["answer_option_id", 113], ["created_at", "2025-10-04 11:56:19.785237"], ["updated_at", "2025-10-04 11:56:19.785237"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 29 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:184:in `calculate_and_send_results'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:185:in `calculate_and_send_results'
  [1m[36mAnswer Load (0.2ms)[0m  [1m[34mSELECT "answers".* FROM "answers" WHERE "answers"."test_result_id" = ?[0m  [["test_result_id", 8]]
  â†³ app/controllers/telegram_webhooks_controller.rb:189:in `calculate_and_send_results'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 21], ["id", 22], ["id", 23], ["id", 24], ["id", 25], ["id", 26], ["id", 27], ["id", 28], ["id", 29]]
  â†³ app/controllers/telegram_webhooks_controller.rb:189:in `calculate_and_send_results'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 81], ["id", 85], ["id", 89], ["id", 93], ["id", 97], ["id", 101], ["id", 105], ["id", 109], ["id", 113]]
  â†³ app/controllers/telegram_webhooks_controller.rb:189:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:226:in `calculate_and_send_results'
  [1m[36mTestResult Update (3.4ms)[0m  [1m[33mUPDATE "test_results" SET "score" = ?, "completed_at" = ?, "updated_at" = ? WHERE "test_results"."id" = ?[0m  [["score", 0], ["completed_at", "2025-10-04 11:56:19.827785"], ["updated_at", "2025-10-04 11:56:19.829642"], ["id", 8]]
  â†³ app/controllers/telegram_webhooks_controller.rb:226:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:226:in `calculate_and_send_results'
Completed 200 OK in 432ms (Views: 0.2ms | ActiveRecord: 10.4ms | Allocations: 10442)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:28 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315463, "message"=>{"message_id"=>499, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578988, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315463, "message"=>{"message_id"=>499, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578988, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 338ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1854)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:31 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315464, "callback_query"=>{"id"=>"2650224933379380762", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>500, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578988, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_depression_test"}, "telegram_webhook"=>{"update_id"=>165315464, "callback_query"=>{"id"=>"2650224933379380762", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>500, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578988, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_depression_test"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð”ÐµÐ¿Ñ€ÐµÑÑÐ¸Ð¸ (PHQ-9)"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:110:in `start_depression_test'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:118:in `start_depression_test'
  [1m[36mTestResult Create (5.0ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 1], ["test_id", 2], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-04 11:56:31.295857"], ["updated_at", "2025-10-04 11:56:31.295857"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:118:in `start_depression_test'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:118:in `start_depression_test'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:119:in `start_depression_test'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 21]]
  â†³ app/controllers/telegram_webhooks_controller.rb:130:in `map'
Callback data for option: Ð¡Ð¾Ð²ÑÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°Ð»Ð¾ - answer_21_81_9
Callback data for option: ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð½ÐµÐ¹ - answer_21_82_9
Callback data for option: Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñ‹ Ð´Ð½ÐµÐ¹ - answer_21_83_9
Callback data for option: ÐŸÐ¾Ñ‡Ñ‚Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ - answer_21_84_9
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÑÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°Ð»Ð¾","callback_data":"answer_21_81_9"}],[{"text":"ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð½ÐµÐ¹","callback_data":"answer_21_82_9"}],[{"text":"Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñ‹ Ð´Ð½ÐµÐ¹","callback_data":"answer_21_83_9"}],[{"text":"ÐŸÐ¾Ñ‡Ñ‚Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ","callback_data":"answer_21_84_9"}]]}
Completed 200 OK in 397ms (Views: 0.1ms | ActiveRecord: 6.4ms | Allocations: 5188)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:32 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315465, "callback_query"=>{"id"=>"2650224934673161123", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>501, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578991, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼, ÑƒÐ³Ð½ÐµÑ‚ÐµÐ½Ð½Ñ‹Ð¼ Ð¸Ð»Ð¸ Ð±ÐµÐ·Ð½Ð°Ð´ÐµÐ¶Ð½Ñ‹Ð¼?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_83_9"}, "telegram_webhook"=>{"update_id"=>165315465, "callback_query"=>{"id"=>"2650224934673161123", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>501, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578991, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼, ÑƒÐ³Ð½ÐµÑ‚ÐµÐ½Ð½Ñ‹Ð¼ Ð¸Ð»Ð¸ Ð±ÐµÐ·Ð½Ð°Ð´ÐµÐ¶Ð½Ñ‹Ð¼?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_83_9"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=21, answer_option_id=83, test_result_id=9
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 83], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (5.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 9], ["question_id", 21], ["answer_option_id", 83], ["created_at", "2025-10-04 11:56:32.791139"], ["updated_at", "2025-10-04 11:56:32.791139"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 21 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 22]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 405ms (Views: 0.2ms | ActiveRecord: 8.1ms | Allocations: 6447)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:33 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315466, "callback_query"=>{"id"=>"2650224936268982568", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>502, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578992, "text"=>"Ð¢ÐµÑ€ÑÐ»Ð¸ Ð»Ð¸ Ð²Ñ‹ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑ Ð¸Ð»Ð¸ ÑƒÐ´Ð¾Ð²Ð¾Ð»ÑŒÑÑ‚Ð²Ð¸Ðµ Ð¾Ñ‚ Ð´ÐµÐ», ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð²Ð°Ð¼ Ð½Ñ€Ð°Ð²Ð¸Ð»Ð¸ÑÑŒ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_87_9"}, "telegram_webhook"=>{"update_id"=>165315466, "callback_query"=>{"id"=>"2650224936268982568", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>502, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578992, "text"=>"Ð¢ÐµÑ€ÑÐ»Ð¸ Ð»Ð¸ Ð²Ñ‹ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑ Ð¸Ð»Ð¸ ÑƒÐ´Ð¾Ð²Ð¾Ð»ÑŒÑÑ‚Ð²Ð¸Ðµ Ð¾Ñ‚ Ð´ÐµÐ», ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð²Ð°Ð¼ Ð½Ñ€Ð°Ð²Ð¸Ð»Ð¸ÑÑŒ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_87_9"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=22, answer_option_id=87, test_result_id=9
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 87], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 9], ["question_id", 22], ["answer_option_id", 87], ["created_at", "2025-10-04 11:56:33.932038"], ["updated_at", "2025-10-04 11:56:33.932038"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 23]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 392ms (Views: 0.2ms | ActiveRecord: 7.0ms | Allocations: 6549)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:34 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315467, "callback_query"=>{"id"=>"2650224933957478424", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>503, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578993, "text"=>"Ð‘Ñ‹Ð»Ð¸ Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ ÑÐ¾ ÑÐ½Ð¾Ð¼, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð·Ð°ÑÑ‹Ð¿Ð°Ð½Ð¸ÐµÐ¼, ÑÐ½Ð¾Ð¼ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð½Ð¾Ñ‡Ð¸ Ð¸Ð»Ð¸ ÑÐ½Ð¾Ð¼ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð½Ð¾Ð³Ð¾?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_23_91_9"}, "telegram_webhook"=>{"update_id"=>165315467, "callback_query"=>{"id"=>"2650224933957478424", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>503, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578993, "text"=>"Ð‘Ñ‹Ð»Ð¸ Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ ÑÐ¾ ÑÐ½Ð¾Ð¼, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð·Ð°ÑÑ‹Ð¿Ð°Ð½Ð¸ÐµÐ¼, ÑÐ½Ð¾Ð¼ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð½Ð¾Ñ‡Ð¸ Ð¸Ð»Ð¸ ÑÐ½Ð¾Ð¼ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð½Ð¾Ð³Ð¾?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_23_91_9"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=23, answer_option_id=91, test_result_id=9
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 91], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 9], ["question_id", 23], ["answer_option_id", 91], ["created_at", "2025-10-04 11:56:35.018156"], ["updated_at", "2025-10-04 11:56:35.018156"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 23 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 24]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 419ms (Views: 0.1ms | ActiveRecord: 7.5ms | Allocations: 6332)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:36 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315468, "callback_query"=>{"id"=>"2650224936890728916", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>504, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578995, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ ÑƒÑÑ‚Ð°Ð²ÑˆÐ¸Ð¼ Ð¸Ð»Ð¸ Ð¸Ð·Ð¼Ð¾Ñ‚Ð°Ð½Ð½Ñ‹Ð¼?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_24_95_9"}, "telegram_webhook"=>{"update_id"=>165315468, "callback_query"=>{"id"=>"2650224936890728916", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>504, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578995, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ ÑƒÑÑ‚Ð°Ð²ÑˆÐ¸Ð¼ Ð¸Ð»Ð¸ Ð¸Ð·Ð¼Ð¾Ñ‚Ð°Ð½Ð½Ñ‹Ð¼?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_24_95_9"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=24, answer_option_id=95, test_result_id=9
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 95], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (6.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 9], ["question_id", 24], ["answer_option_id", 95], ["created_at", "2025-10-04 11:56:36.326219"], ["updated_at", "2025-10-04 11:56:36.326219"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 24 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 25]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 434ms (Views: 0.1ms | ActiveRecord: 9.3ms | Allocations: 6348)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:37 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315469, "callback_query"=>{"id"=>"2650224933949611859", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>505, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578996, "text"=>"Ð‘Ñ‹Ð» Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ð¿Ð»Ð¾Ñ…Ð¾Ð¹ Ð°Ð¿Ð¿ÐµÑ‚Ð¸Ñ‚ Ð¸Ð»Ð¸ Ð²Ñ‹ Ð¿ÐµÑ€ÐµÐµÐ´Ð°Ð»Ð¸?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_25_99_9"}, "telegram_webhook"=>{"update_id"=>165315469, "callback_query"=>{"id"=>"2650224933949611859", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>505, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578996, "text"=>"Ð‘Ñ‹Ð» Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ð¿Ð»Ð¾Ñ…Ð¾Ð¹ Ð°Ð¿Ð¿ÐµÑ‚Ð¸Ñ‚ Ð¸Ð»Ð¸ Ð²Ñ‹ Ð¿ÐµÑ€ÐµÐµÐ´Ð°Ð»Ð¸?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_25_99_9"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=25, answer_option_id=99, test_result_id=9
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 9], ["question_id", 25], ["answer_option_id", 99], ["created_at", "2025-10-04 11:56:37.420576"], ["updated_at", "2025-10-04 11:56:37.420576"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 25 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 26]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 504ms (Views: 0.2ms | ActiveRecord: 8.5ms | Allocations: 6609)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:38 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315470, "callback_query"=>{"id"=>"2650224935175445030", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>506, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578997, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ Ð¿Ð»Ð¾Ñ…Ð¾ Ð¿Ð¾ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸ÑŽ Ðº ÑÐµÐ±Ðµ - Ð¸Ð»Ð¸ Ð´ÑƒÐ¼Ð°Ð»Ð¸, Ñ‡Ñ‚Ð¾ Ð²Ñ‹ Ð½ÐµÑƒÐ´Ð°Ñ‡Ð½Ð¸Ðº Ð¸Ð»Ð¸ Ð¿Ð¾Ð´Ð²ÐµÐ»Ð¸ ÑÐµÐ±Ñ Ð¸Ð»Ð¸ ÑÐ²Ð¾ÑŽ ÑÐµÐ¼ÑŒÑŽ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_26_103_9"}, "telegram_webhook"=>{"update_id"=>165315470, "callback_query"=>{"id"=>"2650224935175445030", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>506, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578997, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ Ð¿Ð»Ð¾Ñ…Ð¾ Ð¿Ð¾ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸ÑŽ Ðº ÑÐµÐ±Ðµ - Ð¸Ð»Ð¸ Ð´ÑƒÐ¼Ð°Ð»Ð¸, Ñ‡Ñ‚Ð¾ Ð²Ñ‹ Ð½ÐµÑƒÐ´Ð°Ñ‡Ð½Ð¸Ðº Ð¸Ð»Ð¸ Ð¿Ð¾Ð´Ð²ÐµÐ»Ð¸ ÑÐµÐ±Ñ Ð¸Ð»Ð¸ ÑÐ²Ð¾ÑŽ ÑÐµÐ¼ÑŒÑŽ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_26_103_9"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=26, answer_option_id=103, test_result_id=9
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 103], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 9], ["question_id", 26], ["answer_option_id", 103], ["created_at", "2025-10-04 11:56:38.647205"], ["updated_at", "2025-10-04 11:56:38.647205"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 26 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 27]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 436ms (Views: 0.1ms | ActiveRecord: 7.0ms | Allocations: 6478)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:39 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315471, "callback_query"=>{"id"=>"2650224936835923253", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>507, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578998, "text"=>"Ð‘Ñ‹Ð»Ð¸ Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸ Ñ ÐºÐ¾Ð½Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ñ†Ð¸ÐµÐ¹, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¿Ñ€Ð¸ Ñ‡Ñ‚ÐµÐ½Ð¸Ð¸ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ðµ Ñ‚ÐµÐ»ÐµÐ²Ð¸Ð·Ð¾Ñ€Ð°?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_27_107_9"}, "telegram_webhook"=>{"update_id"=>165315471, "callback_query"=>{"id"=>"2650224936835923253", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>507, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578998, "text"=>"Ð‘Ñ‹Ð»Ð¸ Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸ Ñ ÐºÐ¾Ð½Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ñ†Ð¸ÐµÐ¹, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¿Ñ€Ð¸ Ñ‡Ñ‚ÐµÐ½Ð¸Ð¸ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ðµ Ñ‚ÐµÐ»ÐµÐ²Ð¸Ð·Ð¾Ñ€Ð°?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_27_107_9"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=27, answer_option_id=107, test_result_id=9
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 107], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 9], ["question_id", 27], ["answer_option_id", 107], ["created_at", "2025-10-04 11:56:39.803964"], ["updated_at", "2025-10-04 11:56:39.803964"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 27 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 28]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 416ms (Views: 0.1ms | ActiveRecord: 9.5ms | Allocations: 6741)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:41 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315472, "callback_query"=>{"id"=>"2650224933897657803", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>508, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578999, "text"=>"Ð’Ñ‹ Ð´Ð²Ð¸Ð³Ð°Ð»Ð¸ÑÑŒ Ð¸Ð»Ð¸ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ð»Ð¸ Ñ‚Ð°Ðº Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾ Ð·Ð°Ð¼ÐµÑ‚Ð¸Ð»Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð»ÑŽÐ´Ð¸? Ð˜Ð»Ð¸, Ð½Ð°Ð¾Ð±Ð¾Ñ€Ð¾Ñ‚, Ð²Ñ‹ Ð±Ñ‹Ð»Ð¸ Ð½Ð°ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½Ñ‹, Ñ‡Ñ‚Ð¾ Ð²Ð°Ð¼ Ð±Ñ‹Ð»Ð¾ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑƒÑÐ¸Ð´ÐµÑ‚ÑŒ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_28_111_9"}, "telegram_webhook"=>{"update_id"=>165315472, "callback_query"=>{"id"=>"2650224933897657803", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>508, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759578999, "text"=>"Ð’Ñ‹ Ð´Ð²Ð¸Ð³Ð°Ð»Ð¸ÑÑŒ Ð¸Ð»Ð¸ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ð»Ð¸ Ñ‚Ð°Ðº Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾ Ð·Ð°Ð¼ÐµÑ‚Ð¸Ð»Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð»ÑŽÐ´Ð¸? Ð˜Ð»Ð¸, Ð½Ð°Ð¾Ð±Ð¾Ñ€Ð¾Ñ‚, Ð²Ñ‹ Ð±Ñ‹Ð»Ð¸ Ð½Ð°ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½Ñ‹, Ñ‡Ñ‚Ð¾ Ð²Ð°Ð¼ Ð±Ñ‹Ð»Ð¾ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑƒÑÐ¸Ð´ÐµÑ‚ÑŒ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_28_111_9"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=28, answer_option_id=111, test_result_id=9
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 111], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (4.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 9], ["question_id", 28], ["answer_option_id", 111], ["created_at", "2025-10-04 11:56:41.029219"], ["updated_at", "2025-10-04 11:56:41.029219"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 28 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 29]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `map'
Completed 200 OK in 391ms (Views: 0.2ms | ActiveRecord: 8.5ms | Allocations: 6486)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-04 16:56:42 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315473, "callback_query"=>{"id"=>"2650224937050079077", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>509, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759579001, "text"=>"Ð”ÑƒÐ¼Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹, Ñ‡Ñ‚Ð¾ Ð²Ð°Ð¼ Ð»ÑƒÑ‡ÑˆÐµ Ð±Ñ‹Ñ‚ÑŒ Ð¼ÐµÑ€Ñ‚Ð²Ñ‹Ð¼, Ð¸Ð»Ð¸ Ð¾ Ñ‚Ð¾Ð¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð¸Ñ‚ÑŒ ÑÐµÐ±Ðµ Ð²Ñ€ÐµÐ´?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_29_115_9"}, "telegram_webhook"=>{"update_id"=>165315473, "callback_query"=>{"id"=>"2650224937050079077", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>509, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759579001, "text"=>"Ð”ÑƒÐ¼Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹, Ñ‡Ñ‚Ð¾ Ð²Ð°Ð¼ Ð»ÑƒÑ‡ÑˆÐµ Ð±Ñ‹Ñ‚ÑŒ Ð¼ÐµÑ€Ñ‚Ð²Ñ‹Ð¼, Ð¸Ð»Ð¸ Ð¾ Ñ‚Ð¾Ð¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð¸Ñ‚ÑŒ ÑÐµÐ±Ðµ Ð²Ñ€ÐµÐ´?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_29_115_9"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:50:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=29, answer_option_id=115, test_result_id=9
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:147:in `process_answer'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 115], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:148:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:149:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mAnswer Create (3.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 9], ["question_id", 29], ["answer_option_id", 115], ["created_at", "2025-10-04 11:56:42.227324"], ["updated_at", "2025-10-04 11:56:42.227324"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:151:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:153:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 29 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:154:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:184:in `calculate_and_send_results'
  [1m[36mCACHE Test Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:185:in `calculate_and_send_results'
  [1m[36mAnswer Load (0.3ms)[0m  [1m[34mSELECT "answers".* FROM "answers" WHERE "answers"."test_result_id" = ?[0m  [["test_result_id", 9]]
  â†³ app/controllers/telegram_webhooks_controller.rb:189:in `calculate_and_send_results'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 21], ["id", 22], ["id", 23], ["id", 24], ["id", 25], ["id", 26], ["id", 27], ["id", 28], ["id", 29]]
  â†³ app/controllers/telegram_webhooks_controller.rb:189:in `calculate_and_send_results'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 83], ["id", 87], ["id", 91], ["id", 95], ["id", 99], ["id", 103], ["id", 107], ["id", 111], ["id", 115]]
  â†³ app/controllers/telegram_webhooks_controller.rb:189:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:226:in `calculate_and_send_results'
  [1m[36mTestResult Update (3.7ms)[0m  [1m[33mUPDATE "test_results" SET "score" = ?, "completed_at" = ?, "updated_at" = ? WHERE "test_results"."id" = ?[0m  [["score", 18], ["completed_at", "2025-10-04 11:56:42.268084"], ["updated_at", "2025-10-04 11:56:42.268928"], ["id", 9]]
  â†³ app/controllers/telegram_webhooks_controller.rb:226:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:226:in `calculate_and_send_results'
Completed 200 OK in 382ms (Views: 0.2ms | ActiveRecord: 11.6ms | Allocations: 10616)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? AND "tests"."description" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ EQ (Ð­Ð¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð˜Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚)"], ["description", "Ð¢ÐµÑÑ‚ Ð´Ð»Ñ Ð¾Ñ†ÐµÐ½ÐºÐ¸ ÑƒÑ€Ð¾Ð²Ð½Ñ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¸Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚Ð°."], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTest Create (15.9ms)[0m  [1m[32mINSERT INTO "tests" ("name", "description", "created_at", "updated_at") VALUES (?, ?, ?, ?) RETURNING "id"[0m  [["name", "Ð¢ÐµÑÑ‚ EQ (Ð­Ð¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð˜Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚)"], ["description", "Ð¢ÐµÑÑ‚ Ð´Ð»Ñ Ð¾Ñ†ÐµÐ½ÐºÐ¸ ÑƒÑ€Ð¾Ð²Ð½Ñ ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¸Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚Ð°."], ["created_at", "2025-10-08 05:34:02.747768"], ["updated_at", "2025-10-08 05:34:02.747768"]]
  [1m[36mTRANSACTION (54.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (4.6ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 3], ["text", "ÐšÐ¾Ð³Ð´Ð° Ñ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼, Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð·Ð½Ð°ÑŽ, Ñ‡Ñ‚Ð¾ Ð²Ñ‹Ð·Ð²Ð°Ð»Ð¾ ÑÑ‚Ð¾ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¾."], ["created_at", "2025-10-08 05:34:02.900528"], ["updated_at", "2025-10-08 05:34:02.900528"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 30], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 1], ["created_at", "2025-10-08 05:34:02.939222"], ["updated_at", "2025-10-08 05:34:02.939222"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 30], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 2], ["created_at", "2025-10-08 05:34:02.961599"], ["updated_at", "2025-10-08 05:34:02.961599"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 30], ["text", "ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾"], ["value", 3], ["created_at", "2025-10-08 05:34:02.969263"], ["updated_at", "2025-10-08 05:34:02.969263"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 30], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 4], ["created_at", "2025-10-08 05:34:02.976074"], ["updated_at", "2025-10-08 05:34:02.976074"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 30], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 5], ["created_at", "2025-10-08 05:34:02.983469"], ["updated_at", "2025-10-08 05:34:02.983469"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.1ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 3], ["text", "Ð¯ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÑŽ ÑÐ¼Ð¾Ñ†Ð¸Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð»ÑŽÐ´ÐµÐ¹, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ð¾Ð½Ð¸ Ð¸Ñ… Ð½Ðµ Ð²Ñ‹Ñ€Ð°Ð¶Ð°ÑŽÑ‚ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾."], ["created_at", "2025-10-08 05:34:02.990440"], ["updated_at", "2025-10-08 05:34:02.990440"], ["part", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 31], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 1], ["created_at", "2025-10-08 05:34:02.997695"], ["updated_at", "2025-10-08 05:34:02.997695"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 31], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 2], ["created_at", "2025-10-08 05:34:03.006410"], ["updated_at", "2025-10-08 05:34:03.006410"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 31], ["text", "ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾"], ["value", 3], ["created_at", "2025-10-08 05:34:03.015548"], ["updated_at", "2025-10-08 05:34:03.015548"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 31], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 4], ["created_at", "2025-10-08 05:34:03.024467"], ["updated_at", "2025-10-08 05:34:03.024467"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 31], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 5], ["created_at", "2025-10-08 05:34:03.033099"], ["updated_at", "2025-10-08 05:34:03.033099"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.9ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 3], ["text", "Ð’ ÑÑ‚Ñ€ÐµÑÑÐ¾Ð²Ñ‹Ñ… ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸ÑÑ… Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽ ÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¸Ðµ Ð¸ ÑÑÐ½Ð¾ Ð¼Ñ‹ÑÐ»ÑŽ."], ["created_at", "2025-10-08 05:34:03.041373"], ["updated_at", "2025-10-08 05:34:03.041373"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 32], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 1], ["created_at", "2025-10-08 05:34:03.096441"], ["updated_at", "2025-10-08 05:34:03.096441"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 32], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 2], ["created_at", "2025-10-08 05:34:03.103790"], ["updated_at", "2025-10-08 05:34:03.103790"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 32], ["text", "ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾"], ["value", 3], ["created_at", "2025-10-08 05:34:03.111904"], ["updated_at", "2025-10-08 05:34:03.111904"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 32], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 4], ["created_at", "2025-10-08 05:34:03.119721"], ["updated_at", "2025-10-08 05:34:03.119721"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 32], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 5], ["created_at", "2025-10-08 05:34:03.135121"], ["updated_at", "2025-10-08 05:34:03.135121"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (2.6ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 3], ["text", "ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ ÑÐ¾Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¸Ð¼ Ð»ÑŽÐ´ÑÐ¼, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ñ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ Ñ Ð¸Ñ… Ñ‚Ð¾Ñ‡ÐºÐ¾Ð¹ Ð·Ñ€ÐµÐ½Ð¸Ñ."], ["created_at", "2025-10-08 05:34:03.146431"], ["updated_at", "2025-10-08 05:34:03.146431"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.4ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 33], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 1], ["created_at", "2025-10-08 05:34:03.155784"], ["updated_at", "2025-10-08 05:34:03.155784"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 33], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 2], ["created_at", "2025-10-08 05:34:03.166401"], ["updated_at", "2025-10-08 05:34:03.166401"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 33], ["text", "ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾"], ["value", 3], ["created_at", "2025-10-08 05:34:03.174564"], ["updated_at", "2025-10-08 05:34:03.174564"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 33], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 4], ["created_at", "2025-10-08 05:34:03.183040"], ["updated_at", "2025-10-08 05:34:03.183040"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (7.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 33], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 5], ["created_at", "2025-10-08 05:34:03.195602"], ["updated_at", "2025-10-08 05:34:03.195602"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (6.0ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 3], ["text", "Ð¯ Ð·Ð½Ð°ÑŽ, ÐºÐ°Ðº ÑƒÑÐ¿Ð¾ÐºÐ¾Ð¸Ñ‚ÑŒ ÑÐµÐ±Ñ, ÐºÐ¾Ð³Ð´Ð° Ñ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾ÐµÐ½."], ["created_at", "2025-10-08 05:34:03.215675"], ["updated_at", "2025-10-08 05:34:03.215675"], ["part", nil]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (5.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 34], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 1], ["created_at", "2025-10-08 05:34:03.233933"], ["updated_at", "2025-10-08 05:34:03.233933"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 34], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 2], ["created_at", "2025-10-08 05:34:03.249847"], ["updated_at", "2025-10-08 05:34:03.249847"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 34], ["text", "ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾"], ["value", 3], ["created_at", "2025-10-08 05:34:03.258990"], ["updated_at", "2025-10-08 05:34:03.258990"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 34], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 4], ["created_at", "2025-10-08 05:34:03.266304"], ["updated_at", "2025-10-08 05:34:03.266304"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 34], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 5], ["created_at", "2025-10-08 05:34:03.274095"], ["updated_at", "2025-10-08 05:34:03.274095"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (4.1ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 3], ["text", "ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ð¼Ð¾Ñ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐµÐ±Ñ, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ñ ÑÑ‚Ð°Ð»ÐºÐ¸Ð²Ð°ÑŽÑÑŒ Ñ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚ÑÐ¼Ð¸."], ["created_at", "2025-10-08 05:34:03.282870"], ["updated_at", "2025-10-08 05:34:03.282870"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 35], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 1], ["created_at", "2025-10-08 05:34:03.295339"], ["updated_at", "2025-10-08 05:34:03.295339"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 35], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 2], ["created_at", "2025-10-08 05:34:03.310747"], ["updated_at", "2025-10-08 05:34:03.310747"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.3ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 35], ["text", "ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾"], ["value", 3], ["created_at", "2025-10-08 05:34:03.324305"], ["updated_at", "2025-10-08 05:34:03.324305"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (5.7ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 35], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 4], ["created_at", "2025-10-08 05:34:03.337143"], ["updated_at", "2025-10-08 05:34:03.337143"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 35], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 5], ["created_at", "2025-10-08 05:34:03.350633"], ["updated_at", "2025-10-08 05:34:03.350633"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.8ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 3], ["text", "Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð·Ð°Ð¼ÐµÑ‡Ð°ÑŽ, ÐºÐ¾Ð³Ð´Ð° Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð»ÑŽÐ´Ð¸ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽÑ‚ ÑÐµÐ±Ñ Ð½ÐµÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚Ð½Ð¾ Ð¸Ð»Ð¸ Ð½ÑƒÐ¶Ð´Ð°ÑŽÑ‚ÑÑ Ð² Ð¿Ð¾Ð¼Ð¾Ñ‰Ð¸."], ["created_at", "2025-10-08 05:34:03.364340"], ["updated_at", "2025-10-08 05:34:03.364340"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 36], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 1], ["created_at", "2025-10-08 05:34:03.377368"], ["updated_at", "2025-10-08 05:34:03.377368"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.7ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 36], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 2], ["created_at", "2025-10-08 05:34:03.389401"], ["updated_at", "2025-10-08 05:34:03.389401"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 36], ["text", "ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾"], ["value", 3], ["created_at", "2025-10-08 05:34:03.401971"], ["updated_at", "2025-10-08 05:34:03.401971"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 36], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 4], ["created_at", "2025-10-08 05:34:03.414357"], ["updated_at", "2025-10-08 05:34:03.414357"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 36], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 5], ["created_at", "2025-10-08 05:34:03.426183"], ["updated_at", "2025-10-08 05:34:03.426183"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.8ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 3], ["text", "Ð¯ ÑÑ‡Ð¸Ñ‚Ð°ÑŽ, Ñ‡Ñ‚Ð¾ ÑƒÐ¼ÐµÑŽ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ Ñ€Ð°Ð·Ñ€ÐµÑˆÐ°Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ñ‹."], ["created_at", "2025-10-08 05:34:03.438503"], ["updated_at", "2025-10-08 05:34:03.438503"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 37], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 1], ["created_at", "2025-10-08 05:34:03.450393"], ["updated_at", "2025-10-08 05:34:03.450393"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 37], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 2], ["created_at", "2025-10-08 05:34:03.462236"], ["updated_at", "2025-10-08 05:34:03.462236"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 37], ["text", "ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾"], ["value", 3], ["created_at", "2025-10-08 05:34:03.473912"], ["updated_at", "2025-10-08 05:34:03.473912"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 37], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 4], ["created_at", "2025-10-08 05:34:03.485411"], ["updated_at", "2025-10-08 05:34:03.485411"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.9ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 37], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 5], ["created_at", "2025-10-08 05:34:03.496903"], ["updated_at", "2025-10-08 05:34:03.496903"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (7.9ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 3], ["text", "Ð¯ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÑŽ, ÐºÐ°Ðº Ð¼Ð¾Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð²Ð»Ð¸ÑÑŽÑ‚ Ð½Ð° Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð° Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð»ÑŽÐ´ÐµÐ¹."], ["created_at", "2025-10-08 05:34:03.508666"], ["updated_at", "2025-10-08 05:34:03.508666"], ["part", nil]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.1ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 38], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 1], ["created_at", "2025-10-08 05:34:03.524899"], ["updated_at", "2025-10-08 05:34:03.524899"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (7.0ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 38], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 2], ["created_at", "2025-10-08 05:34:03.536730"], ["updated_at", "2025-10-08 05:34:03.536730"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 38], ["text", "ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾"], ["value", 3], ["created_at", "2025-10-08 05:34:03.551332"], ["updated_at", "2025-10-08 05:34:03.551332"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 38], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 4], ["created_at", "2025-10-08 05:34:03.564249"], ["updated_at", "2025-10-08 05:34:03.564249"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.7ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 38], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 5], ["created_at", "2025-10-08 05:34:03.577154"], ["updated_at", "2025-10-08 05:34:03.577154"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mQuestion Create (3.5ms)[0m  [1m[32mINSERT INTO "questions" ("test_id", "text", "created_at", "updated_at", "part") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_id", 3], ["text", "Ð¯ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑÐ¸Ð²Ð½Ñ‹Ðµ Ñ€ÐµÐ°ÐºÑ†Ð¸Ð¸, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ñ Ð¾Ñ‡ÐµÐ½ÑŒ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾ÐµÐ½."], ["created_at", "2025-10-08 05:34:03.588265"], ["updated_at", "2025-10-08 05:34:03.588265"], ["part", nil]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (2.8ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 39], ["text", "Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 1], ["created_at", "2025-10-08 05:34:03.598686"], ["updated_at", "2025-10-08 05:34:03.598686"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.5ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 39], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 2], ["created_at", "2025-10-08 05:34:03.609701"], ["updated_at", "2025-10-08 05:34:03.609701"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.2ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 39], ["text", "ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾"], ["value", 3], ["created_at", "2025-10-08 05:34:03.621057"], ["updated_at", "2025-10-08 05:34:03.621057"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (4.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 39], ["text", "Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 4], ["created_at", "2025-10-08 05:34:03.633692"], ["updated_at", "2025-10-08 05:34:03.633692"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mAnswerOption Create (3.6ms)[0m  [1m[32mINSERT INTO "answer_options" ("question_id", "text", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["question_id", 39], ["text", "ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½"], ["value", 5], ["created_at", "2025-10-08 05:34:03.645510"], ["updated_at", "2025-10-08 05:34:03.645510"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:05 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315474, "message"=>{"message_id"=>511, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901884, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315474, "message"=>{"message_id"=>511, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901884, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 393ms (Views: 1.8ms | ActiveRecord: 3.2ms | Allocations: 28993)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:08 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315475, "callback_query"=>{"id"=>"2650224936768321064", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>512, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901885, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_eq_test"}, "telegram_webhook"=>{"update_id"=>165315475, "callback_query"=>{"id"=>"2650224936768321064", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>512, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901885, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_eq_test"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ EQ (Ð­Ð¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð˜Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚)"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `start_eq_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:140:in `start_eq_test'
  [1m[36mTestResult Create (4.0ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 1], ["test_id", 3], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-08 05:38:09.058550"], ["updated_at", "2025-10-08 05:38:09.058550"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:140:in `start_eq_test'
  [1m[36mTRANSACTION (41.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:140:in `start_eq_test'
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:141:in `start_eq_test'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 30]]
  â†³ app/controllers/telegram_webhooks_controller.rb:152:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ - answer_30_117_10
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ - answer_30_118_10
Callback data for option: ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾ - answer_30_119_10
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ - answer_30_120_10
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ - answer_30_121_10
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½","callback_data":"answer_30_117_10"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½","callback_data":"answer_30_118_10"}],[{"text":"ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾","callback_data":"answer_30_119_10"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½","callback_data":"answer_30_120_10"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½","callback_data":"answer_30_121_10"}]]}
Completed 200 OK in 647ms (Views: 0.1ms | ActiveRecord: 49.1ms | Allocations: 31648)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:15 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315476, "callback_query"=>{"id"=>"2650224934343594523", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>513, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901888, "text"=>"ÐšÐ¾Ð³Ð´Ð° Ñ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼, Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð·Ð½Ð°ÑŽ, Ñ‡Ñ‚Ð¾ Ð²Ñ‹Ð·Ð²Ð°Ð»Ð¾ ÑÑ‚Ð¾ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_30_121_10"}, "telegram_webhook"=>{"update_id"=>165315476, "callback_query"=>{"id"=>"2650224934343594523", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>513, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901888, "text"=>"ÐšÐ¾Ð³Ð´Ð° Ñ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼, Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð·Ð½Ð°ÑŽ, Ñ‡Ñ‚Ð¾ Ð²Ñ‹Ð·Ð²Ð°Ð»Ð¾ ÑÑ‚Ð¾ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_30_121_10"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=30, answer_option_id=121, test_result_id=10
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 121], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (6.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 10], ["question_id", 30], ["answer_option_id", 121], ["created_at", "2025-10-08 05:38:15.084248"], ["updated_at", "2025-10-08 05:38:15.084248"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 30 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 31]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 423ms (Views: 0.4ms | ActiveRecord: 9.4ms | Allocations: 13095)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:16 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315477, "callback_query"=>{"id"=>"2650224936387181178", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>514, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901894, "text"=>"Ð¯ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÑŽ ÑÐ¼Ð¾Ñ†Ð¸Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð»ÑŽÐ´ÐµÐ¹, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ð¾Ð½Ð¸ Ð¸Ñ… Ð½Ðµ Ð²Ñ‹Ñ€Ð°Ð¶Ð°ÑŽÑ‚ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_31_126_10"}, "telegram_webhook"=>{"update_id"=>165315477, "callback_query"=>{"id"=>"2650224936387181178", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>514, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901894, "text"=>"Ð¯ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÑŽ ÑÐ¼Ð¾Ñ†Ð¸Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð»ÑŽÐ´ÐµÐ¹, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ð¾Ð½Ð¸ Ð¸Ñ… Ð½Ðµ Ð²Ñ‹Ñ€Ð°Ð¶Ð°ÑŽÑ‚ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_31_126_10"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=31, answer_option_id=126, test_result_id=10
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 126], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (6.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 10], ["question_id", 31], ["answer_option_id", 126], ["created_at", "2025-10-08 05:38:16.311223"], ["updated_at", "2025-10-08 05:38:16.311223"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 31 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 32]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 471ms (Views: 0.4ms | ActiveRecord: 9.0ms | Allocations: 6540)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:17 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315478, "callback_query"=>{"id"=>"2650224933232201707", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>515, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901896, "text"=>"Ð’ ÑÑ‚Ñ€ÐµÑÑÐ¾Ð²Ñ‹Ñ… ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸ÑÑ… Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽ ÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¸Ðµ Ð¸ ÑÑÐ½Ð¾ Ð¼Ñ‹ÑÐ»ÑŽ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_32_131_10"}, "telegram_webhook"=>{"update_id"=>165315478, "callback_query"=>{"id"=>"2650224933232201707", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>515, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901896, "text"=>"Ð’ ÑÑ‚Ñ€ÐµÑÑÐ¾Ð²Ñ‹Ñ… ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸ÑÑ… Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽ ÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¸Ðµ Ð¸ ÑÑÐ½Ð¾ Ð¼Ñ‹ÑÐ»ÑŽ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_32_131_10"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=32, answer_option_id=131, test_result_id=10
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 131], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (8.0ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 10], ["question_id", 32], ["answer_option_id", 131], ["created_at", "2025-10-08 05:38:17.508232"], ["updated_at", "2025-10-08 05:38:17.508232"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 32 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 33]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 494ms (Views: 0.2ms | ActiveRecord: 11.2ms | Allocations: 6612)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:18 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315479, "callback_query"=>{"id"=>"2650224936131419459", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>516, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901897, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ ÑÐ¾Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¸Ð¼ Ð»ÑŽÐ´ÑÐ¼, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ñ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ Ñ Ð¸Ñ… Ñ‚Ð¾Ñ‡ÐºÐ¾Ð¹ Ð·Ñ€ÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_33_136_10"}, "telegram_webhook"=>{"update_id"=>165315479, "callback_query"=>{"id"=>"2650224936131419459", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>516, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901897, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ ÑÐ¾Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¸Ð¼ Ð»ÑŽÐ´ÑÐ¼, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ñ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ Ñ Ð¸Ñ… Ñ‚Ð¾Ñ‡ÐºÐ¾Ð¹ Ð·Ñ€ÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_33_136_10"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=33, answer_option_id=136, test_result_id=10
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 136], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (4.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 10], ["question_id", 33], ["answer_option_id", 136], ["created_at", "2025-10-08 05:38:18.687584"], ["updated_at", "2025-10-08 05:38:18.687584"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 33 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 34]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 385ms (Views: 0.1ms | ActiveRecord: 7.0ms | Allocations: 6458)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:20 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315480, "callback_query"=>{"id"=>"2650224935852189901", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>517, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901898, "text"=>"Ð¯ Ð·Ð½Ð°ÑŽ, ÐºÐ°Ðº ÑƒÑÐ¿Ð¾ÐºÐ¾Ð¸Ñ‚ÑŒ ÑÐµÐ±Ñ, ÐºÐ¾Ð³Ð´Ð° Ñ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾ÐµÐ½.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_34_141_10"}, "telegram_webhook"=>{"update_id"=>165315480, "callback_query"=>{"id"=>"2650224935852189901", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>517, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901898, "text"=>"Ð¯ Ð·Ð½Ð°ÑŽ, ÐºÐ°Ðº ÑƒÑÐ¿Ð¾ÐºÐ¾Ð¸Ñ‚ÑŒ ÑÐµÐ±Ñ, ÐºÐ¾Ð³Ð´Ð° Ñ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾ÐµÐ½.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_34_141_10"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=34, answer_option_id=141, test_result_id=10
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 141], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (3.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 10], ["question_id", 34], ["answer_option_id", 141], ["created_at", "2025-10-08 05:38:20.060888"], ["updated_at", "2025-10-08 05:38:20.060888"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 34 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 35]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 375ms (Views: 0.2ms | ActiveRecord: 7.7ms | Allocations: 6521)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:21 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315481, "callback_query"=>{"id"=>"2650224933175260070", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>518, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901899, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ð¼Ð¾Ñ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐµÐ±Ñ, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ñ ÑÑ‚Ð°Ð»ÐºÐ¸Ð²Ð°ÑŽÑÑŒ Ñ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚ÑÐ¼Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_35_146_10"}, "telegram_webhook"=>{"update_id"=>165315481, "callback_query"=>{"id"=>"2650224933175260070", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>518, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901899, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ð¼Ð¾Ñ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐµÐ±Ñ, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ñ ÑÑ‚Ð°Ð»ÐºÐ¸Ð²Ð°ÑŽÑÑŒ Ñ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚ÑÐ¼Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_35_146_10"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=35, answer_option_id=146, test_result_id=10
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 146], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (6.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 10], ["question_id", 35], ["answer_option_id", 146], ["created_at", "2025-10-08 05:38:21.199073"], ["updated_at", "2025-10-08 05:38:21.199073"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (1.0ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 35 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 36]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 362ms (Views: 0.1ms | ActiveRecord: 10.7ms | Allocations: 6592)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:22 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315482, "callback_query"=>{"id"=>"2650224936042466976", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>519, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901900, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð·Ð°Ð¼ÐµÑ‡Ð°ÑŽ, ÐºÐ¾Ð³Ð´Ð° Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð»ÑŽÐ´Ð¸ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽÑ‚ ÑÐµÐ±Ñ Ð½ÐµÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚Ð½Ð¾ Ð¸Ð»Ð¸ Ð½ÑƒÐ¶Ð´Ð°ÑŽÑ‚ÑÑ Ð² Ð¿Ð¾Ð¼Ð¾Ñ‰Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_36_151_10"}, "telegram_webhook"=>{"update_id"=>165315482, "callback_query"=>{"id"=>"2650224936042466976", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>519, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901900, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð·Ð°Ð¼ÐµÑ‡Ð°ÑŽ, ÐºÐ¾Ð³Ð´Ð° Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð»ÑŽÐ´Ð¸ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽÑ‚ ÑÐµÐ±Ñ Ð½ÐµÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚Ð½Ð¾ Ð¸Ð»Ð¸ Ð½ÑƒÐ¶Ð´Ð°ÑŽÑ‚ÑÑ Ð² Ð¿Ð¾Ð¼Ð¾Ñ‰Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_36_151_10"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=36, answer_option_id=151, test_result_id=10
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 151], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (2.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 10], ["question_id", 36], ["answer_option_id", 151], ["created_at", "2025-10-08 05:38:22.265206"], ["updated_at", "2025-10-08 05:38:22.265206"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 36 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 37]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 453ms (Views: 0.2ms | ActiveRecord: 4.7ms | Allocations: 6448)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:23 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315483, "callback_query"=>{"id"=>"2650224935647018381", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>520, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901902, "text"=>"Ð¯ ÑÑ‡Ð¸Ñ‚Ð°ÑŽ, Ñ‡Ñ‚Ð¾ ÑƒÐ¼ÐµÑŽ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ Ñ€Ð°Ð·Ñ€ÐµÑˆÐ°Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_37_156_10"}, "telegram_webhook"=>{"update_id"=>165315483, "callback_query"=>{"id"=>"2650224935647018381", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>520, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901902, "text"=>"Ð¯ ÑÑ‡Ð¸Ñ‚Ð°ÑŽ, Ñ‡Ñ‚Ð¾ ÑƒÐ¼ÐµÑŽ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ Ñ€Ð°Ð·Ñ€ÐµÑˆÐ°Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_37_156_10"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=37, answer_option_id=156, test_result_id=10
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 156], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (3.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 10], ["question_id", 37], ["answer_option_id", 156], ["created_at", "2025-10-08 05:38:23.542055"], ["updated_at", "2025-10-08 05:38:23.542055"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 37 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 38]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 467ms (Views: 0.2ms | ActiveRecord: 6.9ms | Allocations: 6529)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:24 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315484, "callback_query"=>{"id"=>"2650224934556011818", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>521, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901903, "text"=>"Ð¯ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÑŽ, ÐºÐ°Ðº Ð¼Ð¾Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð²Ð»Ð¸ÑÑŽÑ‚ Ð½Ð° Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð° Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð»ÑŽÐ´ÐµÐ¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_38_161_10"}, "telegram_webhook"=>{"update_id"=>165315484, "callback_query"=>{"id"=>"2650224934556011818", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>521, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901903, "text"=>"Ð¯ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÑŽ, ÐºÐ°Ðº Ð¼Ð¾Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð²Ð»Ð¸ÑÑŽÑ‚ Ð½Ð° Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð° Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð»ÑŽÐ´ÐµÐ¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_38_161_10"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=38, answer_option_id=161, test_result_id=10
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 161], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.1ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (1.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 10], ["question_id", 38], ["answer_option_id", 161], ["created_at", "2025-10-08 05:38:24.852264"], ["updated_at", "2025-10-08 05:38:24.852264"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.9ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 38 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 39]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 350ms (Views: 0.2ms | ActiveRecord: 4.3ms | Allocations: 6559)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:25 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315485, "callback_query"=>{"id"=>"2650224934739670327", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>522, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901904, "text"=>"Ð¯ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑÐ¸Ð²Ð½Ñ‹Ðµ Ñ€ÐµÐ°ÐºÑ†Ð¸Ð¸, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ñ Ð¾Ñ‡ÐµÐ½ÑŒ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾ÐµÐ½.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_39_166_10"}, "telegram_webhook"=>{"update_id"=>165315485, "callback_query"=>{"id"=>"2650224934739670327", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>522, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901904, "text"=>"Ð¯ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑÐ¸Ð²Ð½Ñ‹Ðµ Ñ€ÐµÐ°ÐºÑ†Ð¸Ð¸, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ñ Ð¾Ñ‡ÐµÐ½ÑŒ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾ÐµÐ½.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_39_166_10"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=39, answer_option_id=166, test_result_id=10
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 166], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (8.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 10], ["question_id", 39], ["answer_option_id", 166], ["created_at", "2025-10-08 05:38:25.873988"], ["updated_at", "2025-10-08 05:38:25.873988"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 39 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `calculate_and_send_results'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:207:in `calculate_and_send_results'
  [1m[36mAnswer Load (0.5ms)[0m  [1m[34mSELECT "answers".* FROM "answers" WHERE "answers"."test_result_id" = ?[0m  [["test_result_id", 10]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `calculate_and_send_results'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 30], ["id", 31], ["id", 32], ["id", 33], ["id", 34], ["id", 35], ["id", 36], ["id", 37], ["id", 38], ["id", 39]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `calculate_and_send_results'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 121], ["id", 126], ["id", 131], ["id", 136], ["id", 141], ["id", 146], ["id", 151], ["id", 156], ["id", 161], ["id", 166]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:260:in `calculate_and_send_results'
  [1m[36mTestResult Update (2.2ms)[0m  [1m[33mUPDATE "test_results" SET "score" = ?, "completed_at" = ?, "updated_at" = ? WHERE "test_results"."id" = ?[0m  [["score", 50], ["completed_at", "2025-10-08 05:38:25.959581"], ["updated_at", "2025-10-08 05:38:25.960819"], ["id", 10]]
  â†³ app/controllers/telegram_webhooks_controller.rb:260:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:260:in `calculate_and_send_results'
Completed 200 OK in 462ms (Views: 0.2ms | ActiveRecord: 14.6ms | Allocations: 12415)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:34 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315486, "message"=>{"message_id"=>524, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901913, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315486, "message"=>{"message_id"=>524, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901913, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 423ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1973)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:37 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315487, "callback_query"=>{"id"=>"2650224935715931767", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>525, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901914, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_eq_test"}, "telegram_webhook"=>{"update_id"=>165315487, "callback_query"=>{"id"=>"2650224935715931767", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>525, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901914, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_eq_test"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ EQ (Ð­Ð¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð˜Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚)"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:132:in `start_eq_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:140:in `start_eq_test'
  [1m[36mTestResult Create (6.0ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 1], ["test_id", 3], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-08 05:38:37.084106"], ["updated_at", "2025-10-08 05:38:37.084106"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:140:in `start_eq_test'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:140:in `start_eq_test'
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:141:in `start_eq_test'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 30]]
  â†³ app/controllers/telegram_webhooks_controller.rb:152:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ - answer_30_117_11
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ - answer_30_118_11
Callback data for option: ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾ - answer_30_119_11
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ - answer_30_120_11
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ - answer_30_121_11
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½","callback_data":"answer_30_117_11"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½","callback_data":"answer_30_118_11"}],[{"text":"ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾","callback_data":"answer_30_119_11"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½","callback_data":"answer_30_120_11"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½","callback_data":"answer_30_121_11"}]]}
Completed 200 OK in 361ms (Views: 0.2ms | ActiveRecord: 6.8ms | Allocations: 5379)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:40 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315488, "callback_query"=>{"id"=>"2650224935927383398", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>526, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901916, "text"=>"ÐšÐ¾Ð³Ð´Ð° Ñ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼, Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð·Ð½Ð°ÑŽ, Ñ‡Ñ‚Ð¾ Ð²Ñ‹Ð·Ð²Ð°Ð»Ð¾ ÑÑ‚Ð¾ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_30_117_11"}, "telegram_webhook"=>{"update_id"=>165315488, "callback_query"=>{"id"=>"2650224935927383398", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>526, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901916, "text"=>"ÐšÐ¾Ð³Ð´Ð° Ñ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼, Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð·Ð½Ð°ÑŽ, Ñ‡Ñ‚Ð¾ Ð²Ñ‹Ð·Ð²Ð°Ð»Ð¾ ÑÑ‚Ð¾ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_30_117_11"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=30, answer_option_id=117, test_result_id=11
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 117], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (5.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 11], ["question_id", 30], ["answer_option_id", 117], ["created_at", "2025-10-08 05:38:40.867196"], ["updated_at", "2025-10-08 05:38:40.867196"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 30 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 31]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 390ms (Views: 0.2ms | ActiveRecord: 8.9ms | Allocations: 6574)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:42 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315489, "callback_query"=>{"id"=>"2650224935368317291", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>527, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901920, "text"=>"Ð¯ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÑŽ ÑÐ¼Ð¾Ñ†Ð¸Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð»ÑŽÐ´ÐµÐ¹, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ð¾Ð½Ð¸ Ð¸Ñ… Ð½Ðµ Ð²Ñ‹Ñ€Ð°Ð¶Ð°ÑŽÑ‚ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_31_122_11"}, "telegram_webhook"=>{"update_id"=>165315489, "callback_query"=>{"id"=>"2650224935368317291", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>527, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901920, "text"=>"Ð¯ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÑŽ ÑÐ¼Ð¾Ñ†Ð¸Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð»ÑŽÐ´ÐµÐ¹, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ð¾Ð½Ð¸ Ð¸Ñ… Ð½Ðµ Ð²Ñ‹Ñ€Ð°Ð¶Ð°ÑŽÑ‚ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_31_122_11"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=31, answer_option_id=122, test_result_id=11
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 122], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (4.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 11], ["question_id", 31], ["answer_option_id", 122], ["created_at", "2025-10-08 05:38:42.086570"], ["updated_at", "2025-10-08 05:38:42.086570"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 31 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 32]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 367ms (Views: 0.2ms | ActiveRecord: 6.7ms | Allocations: 6517)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:44 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315490, "callback_query"=>{"id"=>"2650224934936180500", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>528, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901921, "text"=>"Ð’ ÑÑ‚Ñ€ÐµÑÑÐ¾Ð²Ñ‹Ñ… ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸ÑÑ… Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽ ÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¸Ðµ Ð¸ ÑÑÐ½Ð¾ Ð¼Ñ‹ÑÐ»ÑŽ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_32_127_11"}, "telegram_webhook"=>{"update_id"=>165315490, "callback_query"=>{"id"=>"2650224934936180500", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>528, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901921, "text"=>"Ð’ ÑÑ‚Ñ€ÐµÑÑÐ¾Ð²Ñ‹Ñ… ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸ÑÑ… Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽ ÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¸Ðµ Ð¸ ÑÑÐ½Ð¾ Ð¼Ñ‹ÑÐ»ÑŽ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_32_127_11"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=32, answer_option_id=127, test_result_id=11
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 127], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (2.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 11], ["question_id", 32], ["answer_option_id", 127], ["created_at", "2025-10-08 05:38:44.269580"], ["updated_at", "2025-10-08 05:38:44.269580"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 32 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 33]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 369ms (Views: 0.2ms | ActiveRecord: 4.8ms | Allocations: 6592)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:45 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315491, "callback_query"=>{"id"=>"2650224933198710718", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>529, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901924, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ ÑÐ¾Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¸Ð¼ Ð»ÑŽÐ´ÑÐ¼, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ñ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ Ñ Ð¸Ñ… Ñ‚Ð¾Ñ‡ÐºÐ¾Ð¹ Ð·Ñ€ÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_33_132_11"}, "telegram_webhook"=>{"update_id"=>165315491, "callback_query"=>{"id"=>"2650224933198710718", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>529, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901924, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ ÑÐ¾Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¸Ð¼ Ð»ÑŽÐ´ÑÐ¼, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ñ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ Ñ Ð¸Ñ… Ñ‚Ð¾Ñ‡ÐºÐ¾Ð¹ Ð·Ñ€ÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_33_132_11"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=33, answer_option_id=132, test_result_id=11
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 132], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (6.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 11], ["question_id", 33], ["answer_option_id", 132], ["created_at", "2025-10-08 05:38:45.763900"], ["updated_at", "2025-10-08 05:38:45.763900"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (1.0ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 33 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 34]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 445ms (Views: 0.2ms | ActiveRecord: 9.2ms | Allocations: 6452)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:46 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315492, "callback_query"=>{"id"=>"2650224936971441380", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>530, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901925, "text"=>"Ð¯ Ð·Ð½Ð°ÑŽ, ÐºÐ°Ðº ÑƒÑÐ¿Ð¾ÐºÐ¾Ð¸Ñ‚ÑŒ ÑÐµÐ±Ñ, ÐºÐ¾Ð³Ð´Ð° Ñ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾ÐµÐ½.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_34_137_11"}, "telegram_webhook"=>{"update_id"=>165315492, "callback_query"=>{"id"=>"2650224936971441380", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>530, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901925, "text"=>"Ð¯ Ð·Ð½Ð°ÑŽ, ÐºÐ°Ðº ÑƒÑÐ¿Ð¾ÐºÐ¾Ð¸Ñ‚ÑŒ ÑÐµÐ±Ñ, ÐºÐ¾Ð³Ð´Ð° Ñ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾ÐµÐ½.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_34_137_11"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=34, answer_option_id=137, test_result_id=11
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 137], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (5.9ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 11], ["question_id", 34], ["answer_option_id", 137], ["created_at", "2025-10-08 05:38:47.016174"], ["updated_at", "2025-10-08 05:38:47.016174"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 34 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 35]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 473ms (Views: 0.1ms | ActiveRecord: 8.3ms | Allocations: 6520)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:48 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315493, "callback_query"=>{"id"=>"2650224935075785537", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>531, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901926, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ð¼Ð¾Ñ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐµÐ±Ñ, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ñ ÑÑ‚Ð°Ð»ÐºÐ¸Ð²Ð°ÑŽÑÑŒ Ñ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚ÑÐ¼Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_35_142_11"}, "telegram_webhook"=>{"update_id"=>165315493, "callback_query"=>{"id"=>"2650224935075785537", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>531, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901926, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ð¼Ð¾Ñ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐµÐ±Ñ, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ñ ÑÑ‚Ð°Ð»ÐºÐ¸Ð²Ð°ÑŽÑÑŒ Ñ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚ÑÐ¼Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_35_142_11"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=35, answer_option_id=142, test_result_id=11
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 142], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (6.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 11], ["question_id", 35], ["answer_option_id", 142], ["created_at", "2025-10-08 05:38:48.352980"], ["updated_at", "2025-10-08 05:38:48.352980"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.8ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 35 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 36]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 415ms (Views: 0.1ms | ActiveRecord: 9.1ms | Allocations: 6592)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:49 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315494, "callback_query"=>{"id"=>"2650224933476764849", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>532, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901928, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð·Ð°Ð¼ÐµÑ‡Ð°ÑŽ, ÐºÐ¾Ð³Ð´Ð° Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð»ÑŽÐ´Ð¸ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽÑ‚ ÑÐµÐ±Ñ Ð½ÐµÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚Ð½Ð¾ Ð¸Ð»Ð¸ Ð½ÑƒÐ¶Ð´Ð°ÑŽÑ‚ÑÑ Ð² Ð¿Ð¾Ð¼Ð¾Ñ‰Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_36_147_11"}, "telegram_webhook"=>{"update_id"=>165315494, "callback_query"=>{"id"=>"2650224933476764849", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>532, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901928, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð·Ð°Ð¼ÐµÑ‡Ð°ÑŽ, ÐºÐ¾Ð³Ð´Ð° Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð»ÑŽÐ´Ð¸ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽÑ‚ ÑÐµÐ±Ñ Ð½ÐµÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚Ð½Ð¾ Ð¸Ð»Ð¸ Ð½ÑƒÐ¶Ð´Ð°ÑŽÑ‚ÑÑ Ð² Ð¿Ð¾Ð¼Ð¾Ñ‰Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_36_147_11"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=36, answer_option_id=147, test_result_id=11
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 147], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (5.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 11], ["question_id", 36], ["answer_option_id", 147], ["created_at", "2025-10-08 05:38:49.553910"], ["updated_at", "2025-10-08 05:38:49.553910"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 36 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 37]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 517ms (Views: 0.2ms | ActiveRecord: 7.9ms | Allocations: 6449)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:50 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315495, "callback_query"=>{"id"=>"2650224933393293978", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>533, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901929, "text"=>"Ð¯ ÑÑ‡Ð¸Ñ‚Ð°ÑŽ, Ñ‡Ñ‚Ð¾ ÑƒÐ¼ÐµÑŽ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ Ñ€Ð°Ð·Ñ€ÐµÑˆÐ°Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_37_152_11"}, "telegram_webhook"=>{"update_id"=>165315495, "callback_query"=>{"id"=>"2650224933393293978", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>533, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901929, "text"=>"Ð¯ ÑÑ‡Ð¸Ñ‚Ð°ÑŽ, Ñ‡Ñ‚Ð¾ ÑƒÐ¼ÐµÑŽ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ Ñ€Ð°Ð·Ñ€ÐµÑˆÐ°Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_37_152_11"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=37, answer_option_id=152, test_result_id=11
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 152], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (4.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 11], ["question_id", 37], ["answer_option_id", 152], ["created_at", "2025-10-08 05:38:50.944684"], ["updated_at", "2025-10-08 05:38:50.944684"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (1.0ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 37 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 38]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 408ms (Views: 0.2ms | ActiveRecord: 8.5ms | Allocations: 6531)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:52 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315496, "callback_query"=>{"id"=>"2650224935989884088", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>534, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901930, "text"=>"Ð¯ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÑŽ, ÐºÐ°Ðº Ð¼Ð¾Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð²Ð»Ð¸ÑÑŽÑ‚ Ð½Ð° Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð° Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð»ÑŽÐ´ÐµÐ¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_38_157_11"}, "telegram_webhook"=>{"update_id"=>165315496, "callback_query"=>{"id"=>"2650224935989884088", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>534, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901930, "text"=>"Ð¯ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÑŽ, ÐºÐ°Ðº Ð¼Ð¾Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð²Ð»Ð¸ÑÑŽÑ‚ Ð½Ð° Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð° Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð»ÑŽÐ´ÐµÐ¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_38_157_11"}}}
  [1m[36mUser Load (3.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=38, answer_option_id=157, test_result_id=11
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 157], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (3.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 11], ["question_id", 38], ["answer_option_id", 157], ["created_at", "2025-10-08 05:38:52.187473"], ["updated_at", "2025-10-08 05:38:52.187473"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 38 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 39]]
  â†³ app/controllers/telegram_webhooks_controller.rb:192:in `map'
Completed 200 OK in 366ms (Views: 0.2ms | ActiveRecord: 8.8ms | Allocations: 6555)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:38:53 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315497, "callback_query"=>{"id"=>"2650224937012130272", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>535, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901931, "text"=>"Ð¯ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑÐ¸Ð²Ð½Ñ‹Ðµ Ñ€ÐµÐ°ÐºÑ†Ð¸Ð¸, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ñ Ð¾Ñ‡ÐµÐ½ÑŒ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾ÐµÐ½.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_39_162_11"}, "telegram_webhook"=>{"update_id"=>165315497, "callback_query"=>{"id"=>"2650224937012130272", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>535, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759901931, "text"=>"Ð¯ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑÐ¸Ð²Ð½Ñ‹Ðµ Ñ€ÐµÐ°ÐºÑ†Ð¸Ð¸, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ñ Ð¾Ñ‡ÐµÐ½ÑŒ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾ÐµÐ½.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_39_162_11"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:51:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=39, answer_option_id=162, test_result_id=11
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:169:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 162], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:170:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:171:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mAnswer Create (3.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 11], ["question_id", 39], ["answer_option_id", 162], ["created_at", "2025-10-08 05:38:53.285014"], ["updated_at", "2025-10-08 05:38:53.285014"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:173:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 39 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `calculate_and_send_results'
  [1m[36mCACHE Test Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:207:in `calculate_and_send_results'
  [1m[36mAnswer Load (0.3ms)[0m  [1m[34mSELECT "answers".* FROM "answers" WHERE "answers"."test_result_id" = ?[0m  [["test_result_id", 11]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `calculate_and_send_results'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 30], ["id", 31], ["id", 32], ["id", 33], ["id", 34], ["id", 35], ["id", 36], ["id", 37], ["id", 38], ["id", 39]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `calculate_and_send_results'
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 117], ["id", 122], ["id", 127], ["id", 132], ["id", 137], ["id", 142], ["id", 147], ["id", 152], ["id", 157], ["id", 162]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:260:in `calculate_and_send_results'
  [1m[36mTestResult Update (11.5ms)[0m  [1m[33mUPDATE "test_results" SET "score" = ?, "completed_at" = ?, "updated_at" = ? WHERE "test_results"."id" = ?[0m  [["score", 10], ["completed_at", "2025-10-08 05:38:53.335744"], ["updated_at", "2025-10-08 05:38:53.336418"], ["id", 11]]
  â†³ app/controllers/telegram_webhooks_controller.rb:260:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:260:in `calculate_and_send_results'
Completed 200 OK in 437ms (Views: 0.1ms | ActiveRecord: 19.6ms | Allocations: 10936)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:48:22 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315498, "message"=>{"message_id"=>537, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902501, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315498, "message"=>{"message_id"=>537, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902501, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 518ms (Views: 8.9ms | ActiveRecord: 5.9ms | Allocations: 28607)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:48:25 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315499, "callback_query"=>{"id"=>"2650224935471058221", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>538, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902502, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}, "telegram_webhook"=>{"update_id"=>165315499, "callback_query"=>{"id"=>"2650224935471058221", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>538, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902502, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"help"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:58:in `message'
Completed 200 OK in 312ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1591)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:48:30 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315500, "callback_query"=>{"id"=>"2650224936203625340", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>538, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902502, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"show_test_categories"}, "telegram_webhook"=>{"update_id"=>165315500, "callback_query"=>{"id"=>"2650224936203625340", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>538, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902502, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"show_test_categories"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:58:in `message'
  [1m[36mTest Load (1.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests"[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:106:in `show_test_categories'
Completed 200 OK in 410ms (Views: 0.3ms | ActiveRecord: 2.2ms | Allocations: 8191)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:48:33 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315501, "callback_query"=>{"id"=>"2650224936734757007", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>540, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902510, "text"=>"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ‚ÐµÑÑ‚:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"back_to_main_menu"}, "telegram_webhook"=>{"update_id"=>165315501, "callback_query"=>{"id"=>"2650224936734757007", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>540, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902510, "text"=>"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ‚ÐµÑÑ‚:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"back_to_main_menu"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:58:in `message'
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 557)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:48:43 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315502, "callback_query"=>{"id"=>"2650224933580236524", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>540, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902510, "text"=>"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ‚ÐµÑÑ‚:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_eq_test"}, "telegram_webhook"=>{"update_id"=>165315502, "callback_query"=>{"id"=>"2650224933580236524", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>540, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902510, "text"=>"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ‚ÐµÑÑ‚:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_eq_test"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:58:in `message'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ EQ (Ð­Ð¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð˜Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚)"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:167:in `start_eq_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `start_eq_test'
  [1m[36mTestResult Create (4.4ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 1], ["test_id", 3], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-08 05:48:43.624497"], ["updated_at", "2025-10-08 05:48:43.624497"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `start_eq_test'
  [1m[36mTRANSACTION (28.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:175:in `start_eq_test'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:176:in `start_eq_test'
  [1m[36mAnswerOption Load (0.7ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 30]]
  â†³ app/controllers/telegram_webhooks_controller.rb:187:in `map'
Callback data for option: Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ - answer_30_117_12
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ - answer_30_118_12
Callback data for option: ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾ - answer_30_119_12
Callback data for option: Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ - answer_30_120_12
Callback data for option: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ - answer_30_121_12
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ð¾ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½","callback_data":"answer_30_117_12"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½","callback_data":"answer_30_118_12"}],[{"text":"ÐÐµÐ¹Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾","callback_data":"answer_30_119_12"}],[{"text":"Ð¡ÐºÐ¾Ñ€ÐµÐµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½","callback_data":"answer_30_120_12"}],[{"text":"ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½","callback_data":"answer_30_121_12"}]]}
Completed 200 OK in 524ms (Views: 0.5ms | ActiveRecord: 36.3ms | Allocations: 26312)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:48:46 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315503, "callback_query"=>{"id"=>"2650224934403317243", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>541, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902524, "text"=>"ÐšÐ¾Ð³Ð´Ð° Ñ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼, Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð·Ð½Ð°ÑŽ, Ñ‡Ñ‚Ð¾ Ð²Ñ‹Ð·Ð²Ð°Ð»Ð¾ ÑÑ‚Ð¾ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_30_119_12"}, "telegram_webhook"=>{"update_id"=>165315503, "callback_query"=>{"id"=>"2650224934403317243", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>541, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902524, "text"=>"ÐšÐ¾Ð³Ð´Ð° Ñ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ ÑÐµÐ±Ñ Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼, Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð·Ð½Ð°ÑŽ, Ñ‡Ñ‚Ð¾ Ð²Ñ‹Ð·Ð²Ð°Ð»Ð¾ ÑÑ‚Ð¾ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_30_119_12"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:58:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=30, answer_option_id=119, test_result_id=12
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:204:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 119], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mAnswer Create (4.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 12], ["question_id", 30], ["answer_option_id", 119], ["created_at", "2025-10-08 05:48:46.849401"], ["updated_at", "2025-10-08 05:48:46.849401"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:210:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 30 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 31]]
  â†³ app/controllers/telegram_webhooks_controller.rb:227:in `map'
Completed 200 OK in 410ms (Views: 0.2ms | ActiveRecord: 8.7ms | Allocations: 13076)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:48:48 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315504, "callback_query"=>{"id"=>"2650224934952287062", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>542, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902527, "text"=>"Ð¯ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÑŽ ÑÐ¼Ð¾Ñ†Ð¸Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð»ÑŽÐ´ÐµÐ¹, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ð¾Ð½Ð¸ Ð¸Ñ… Ð½Ðµ Ð²Ñ‹Ñ€Ð°Ð¶Ð°ÑŽÑ‚ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_31_124_12"}, "telegram_webhook"=>{"update_id"=>165315504, "callback_query"=>{"id"=>"2650224934952287062", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>542, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902527, "text"=>"Ð¯ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÑŽ ÑÐ¼Ð¾Ñ†Ð¸Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð»ÑŽÐ´ÐµÐ¹, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ð¾Ð½Ð¸ Ð¸Ñ… Ð½Ðµ Ð²Ñ‹Ñ€Ð°Ð¶Ð°ÑŽÑ‚ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¾.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_31_124_12"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:58:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=31, answer_option_id=124, test_result_id=12
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:204:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 124], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mTestResult Load (0.6ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mAnswer Create (5.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 12], ["question_id", 31], ["answer_option_id", 124], ["created_at", "2025-10-08 05:48:48.157930"], ["updated_at", "2025-10-08 05:48:48.157930"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:210:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 31 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 32]]
  â†³ app/controllers/telegram_webhooks_controller.rb:227:in `map'
Completed 200 OK in 354ms (Views: 0.3ms | ActiveRecord: 8.4ms | Allocations: 6540)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:48:49 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315505, "callback_query"=>{"id"=>"2650224937116978940", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>543, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902528, "text"=>"Ð’ ÑÑ‚Ñ€ÐµÑÑÐ¾Ð²Ñ‹Ñ… ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸ÑÑ… Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽ ÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¸Ðµ Ð¸ ÑÑÐ½Ð¾ Ð¼Ñ‹ÑÐ»ÑŽ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_32_129_12"}, "telegram_webhook"=>{"update_id"=>165315505, "callback_query"=>{"id"=>"2650224937116978940", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>543, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902528, "text"=>"Ð’ ÑÑ‚Ñ€ÐµÑÑÐ¾Ð²Ñ‹Ñ… ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸ÑÑ… Ñ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽ ÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¸Ðµ Ð¸ ÑÑÐ½Ð¾ Ð¼Ñ‹ÑÐ»ÑŽ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_32_129_12"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:58:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=32, answer_option_id=129, test_result_id=12
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:204:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 129], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mAnswer Create (3.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 12], ["question_id", 32], ["answer_option_id", 129], ["created_at", "2025-10-08 05:48:49.241562"], ["updated_at", "2025-10-08 05:48:49.241562"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:210:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 32 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 33]]
  â†³ app/controllers/telegram_webhooks_controller.rb:227:in `map'
Completed 200 OK in 378ms (Views: 0.2ms | ActiveRecord: 6.3ms | Allocations: 6600)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:48:50 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315506, "callback_query"=>{"id"=>"2650224935277200267", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>544, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902529, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ ÑÐ¾Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¸Ð¼ Ð»ÑŽÐ´ÑÐ¼, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ñ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ Ñ Ð¸Ñ… Ñ‚Ð¾Ñ‡ÐºÐ¾Ð¹ Ð·Ñ€ÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_33_134_12"}, "telegram_webhook"=>{"update_id"=>165315506, "callback_query"=>{"id"=>"2650224935277200267", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>544, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902529, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ ÑÐ¾Ð¿ÐµÑ€ÐµÐ¶Ð¸Ð²Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¸Ð¼ Ð»ÑŽÐ´ÑÐ¼, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ñ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐµÐ½ Ñ Ð¸Ñ… Ñ‚Ð¾Ñ‡ÐºÐ¾Ð¹ Ð·Ñ€ÐµÐ½Ð¸Ñ.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_33_134_12"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:58:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=33, answer_option_id=134, test_result_id=12
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:204:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 134], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mAnswer Create (5.1ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 12], ["question_id", 33], ["answer_option_id", 134], ["created_at", "2025-10-08 05:48:50.346895"], ["updated_at", "2025-10-08 05:48:50.346895"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:210:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 33 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 34]]
  â†³ app/controllers/telegram_webhooks_controller.rb:227:in `map'
Completed 200 OK in 505ms (Views: 0.2ms | ActiveRecord: 7.6ms | Allocations: 6458)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:48:51 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315507, "callback_query"=>{"id"=>"2650224936147825805", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>545, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902530, "text"=>"Ð¯ Ð·Ð½Ð°ÑŽ, ÐºÐ°Ðº ÑƒÑÐ¿Ð¾ÐºÐ¾Ð¸Ñ‚ÑŒ ÑÐµÐ±Ñ, ÐºÐ¾Ð³Ð´Ð° Ñ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾ÐµÐ½.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_34_139_12"}, "telegram_webhook"=>{"update_id"=>165315507, "callback_query"=>{"id"=>"2650224936147825805", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>545, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902530, "text"=>"Ð¯ Ð·Ð½Ð°ÑŽ, ÐºÐ°Ðº ÑƒÑÐ¿Ð¾ÐºÐ¾Ð¸Ñ‚ÑŒ ÑÐµÐ±Ñ, ÐºÐ¾Ð³Ð´Ð° Ñ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾ÐµÐ½.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_34_139_12"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:58:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=34, answer_option_id=139, test_result_id=12
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:204:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 139], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mAnswer Create (3.5ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 12], ["question_id", 34], ["answer_option_id", 139], ["created_at", "2025-10-08 05:48:51.556894"], ["updated_at", "2025-10-08 05:48:51.556894"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:210:in `process_answer'
  [1m[36mQuestion Load (1.1ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 34 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 35]]
  â†³ app/controllers/telegram_webhooks_controller.rb:227:in `map'
Completed 200 OK in 354ms (Views: 0.2ms | ActiveRecord: 6.6ms | Allocations: 6523)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:48:52 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315508, "callback_query"=>{"id"=>"2650224935292687945", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>546, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902531, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ð¼Ð¾Ñ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐµÐ±Ñ, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ñ ÑÑ‚Ð°Ð»ÐºÐ¸Ð²Ð°ÑŽÑÑŒ Ñ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚ÑÐ¼Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_35_144_12"}, "telegram_webhook"=>{"update_id"=>165315508, "callback_query"=>{"id"=>"2650224935292687945", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>546, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902531, "text"=>"ÐœÐ½Ðµ Ð»ÐµÐ³ÐºÐ¾ Ð¼Ð¾Ñ‚Ð¸Ð²Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐµÐ±Ñ, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ñ ÑÑ‚Ð°Ð»ÐºÐ¸Ð²Ð°ÑŽÑÑŒ Ñ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚ÑÐ¼Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_35_144_12"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:58:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=35, answer_option_id=144, test_result_id=12
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:204:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 144], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mAnswer Create (5.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 12], ["question_id", 35], ["answer_option_id", 144], ["created_at", "2025-10-08 05:48:52.712082"], ["updated_at", "2025-10-08 05:48:52.712082"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:210:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 35 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 36]]
  â†³ app/controllers/telegram_webhooks_controller.rb:227:in `map'
Completed 200 OK in 416ms (Views: 0.5ms | ActiveRecord: 8.8ms | Allocations: 6592)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:48:53 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315509, "callback_query"=>{"id"=>"2650224935408107129", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>547, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902533, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð·Ð°Ð¼ÐµÑ‡Ð°ÑŽ, ÐºÐ¾Ð³Ð´Ð° Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð»ÑŽÐ´Ð¸ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽÑ‚ ÑÐµÐ±Ñ Ð½ÐµÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚Ð½Ð¾ Ð¸Ð»Ð¸ Ð½ÑƒÐ¶Ð´Ð°ÑŽÑ‚ÑÑ Ð² Ð¿Ð¾Ð¼Ð¾Ñ‰Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_36_149_12"}, "telegram_webhook"=>{"update_id"=>165315509, "callback_query"=>{"id"=>"2650224935408107129", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>547, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902533, "text"=>"Ð¯ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð·Ð°Ð¼ÐµÑ‡Ð°ÑŽ, ÐºÐ¾Ð³Ð´Ð° Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð»ÑŽÐ´Ð¸ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽÑ‚ ÑÐµÐ±Ñ Ð½ÐµÐºÐ¾Ð¼Ñ„Ð¾Ñ€Ñ‚Ð½Ð¾ Ð¸Ð»Ð¸ Ð½ÑƒÐ¶Ð´Ð°ÑŽÑ‚ÑÑ Ð² Ð¿Ð¾Ð¼Ð¾Ñ‰Ð¸.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_36_149_12"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:58:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=36, answer_option_id=149, test_result_id=12
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:204:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 149], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mAnswer Create (19.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 12], ["question_id", 36], ["answer_option_id", 149], ["created_at", "2025-10-08 05:48:53.925055"], ["updated_at", "2025-10-08 05:48:53.925055"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:210:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 36 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 37]]
  â†³ app/controllers/telegram_webhooks_controller.rb:227:in `map'
Completed 200 OK in 412ms (Views: 0.1ms | ActiveRecord: 21.3ms | Allocations: 6451)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:48:55 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315510, "callback_query"=>{"id"=>"2650224933452737129", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>548, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902534, "text"=>"Ð¯ ÑÑ‡Ð¸Ñ‚Ð°ÑŽ, Ñ‡Ñ‚Ð¾ ÑƒÐ¼ÐµÑŽ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ Ñ€Ð°Ð·Ñ€ÐµÑˆÐ°Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_37_154_12"}, "telegram_webhook"=>{"update_id"=>165315510, "callback_query"=>{"id"=>"2650224933452737129", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>548, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902534, "text"=>"Ð¯ ÑÑ‡Ð¸Ñ‚Ð°ÑŽ, Ñ‡Ñ‚Ð¾ ÑƒÐ¼ÐµÑŽ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ Ñ€Ð°Ð·Ñ€ÐµÑˆÐ°Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ñ‹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_37_154_12"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:58:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=37, answer_option_id=154, test_result_id=12
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:204:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 154], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mAnswer Create (4.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 12], ["question_id", 37], ["answer_option_id", 154], ["created_at", "2025-10-08 05:48:55.208188"], ["updated_at", "2025-10-08 05:48:55.208188"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:210:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 37 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 38]]
  â†³ app/controllers/telegram_webhooks_controller.rb:227:in `map'
Completed 200 OK in 380ms (Views: 0.1ms | ActiveRecord: 7.0ms | Allocations: 6529)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:48:56 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315511, "callback_query"=>{"id"=>"2650224933724326968", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>549, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902535, "text"=>"Ð¯ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÑŽ, ÐºÐ°Ðº Ð¼Ð¾Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð²Ð»Ð¸ÑÑŽÑ‚ Ð½Ð° Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð° Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð»ÑŽÐ´ÐµÐ¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_38_159_12"}, "telegram_webhook"=>{"update_id"=>165315511, "callback_query"=>{"id"=>"2650224933724326968", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>549, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902535, "text"=>"Ð¯ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÑŽ, ÐºÐ°Ðº Ð¼Ð¾Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð²Ð»Ð¸ÑÑŽÑ‚ Ð½Ð° Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð° Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð»ÑŽÐ´ÐµÐ¹.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_38_159_12"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:58:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=38, answer_option_id=159, test_result_id=12
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:204:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 159], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mAnswer Create (2.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 12], ["question_id", 38], ["answer_option_id", 159], ["created_at", "2025-10-08 05:48:56.381972"], ["updated_at", "2025-10-08 05:48:56.381972"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTest Load (0.7ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:210:in `process_answer'
  [1m[36mQuestion Load (0.7ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 38 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 39]]
  â†³ app/controllers/telegram_webhooks_controller.rb:227:in `map'
Completed 200 OK in 359ms (Views: 0.1ms | ActiveRecord: 5.3ms | Allocations: 6553)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:48:57 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315512, "callback_query"=>{"id"=>"2650224933206872661", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>550, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902536, "text"=>"Ð¯ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑÐ¸Ð²Ð½Ñ‹Ðµ Ñ€ÐµÐ°ÐºÑ†Ð¸Ð¸, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ñ Ð¾Ñ‡ÐµÐ½ÑŒ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾ÐµÐ½.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_39_164_12"}, "telegram_webhook"=>{"update_id"=>165315512, "callback_query"=>{"id"=>"2650224933206872661", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>550, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902536, "text"=>"Ð¯ Ð¼Ð¾Ð³Ñƒ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ Ð¸Ð¼Ð¿ÑƒÐ»ÑŒÑÐ¸Ð²Ð½Ñ‹Ðµ Ñ€ÐµÐ°ÐºÑ†Ð¸Ð¸, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ñ Ð¾Ñ‡ÐµÐ½ÑŒ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾ÐµÐ½.", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_39_164_12"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:58:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=39, answer_option_id=164, test_result_id=12
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:204:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 164], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mAnswer Create (7.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 12], ["question_id", 39], ["answer_option_id", 164], ["created_at", "2025-10-08 05:48:57.634354"], ["updated_at", "2025-10-08 05:48:57.634354"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:208:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:210:in `process_answer'
  [1m[36mQuestion Load (0.6ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 39 AND test_id = 3) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:241:in `calculate_and_send_results'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:242:in `calculate_and_send_results'
  [1m[36mAnswer Load (0.4ms)[0m  [1m[34mSELECT "answers".* FROM "answers" WHERE "answers"."test_result_id" = ?[0m  [["test_result_id", 12]]
  â†³ app/controllers/telegram_webhooks_controller.rb:246:in `calculate_and_send_results'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 30], ["id", 31], ["id", 32], ["id", 33], ["id", 34], ["id", 35], ["id", 36], ["id", 37], ["id", 38], ["id", 39]]
  â†³ app/controllers/telegram_webhooks_controller.rb:246:in `calculate_and_send_results'
  [1m[36mAnswerOption Load (0.5ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 119], ["id", 124], ["id", 129], ["id", 134], ["id", 139], ["id", 144], ["id", 149], ["id", 154], ["id", 159], ["id", 164]]
  â†³ app/controllers/telegram_webhooks_controller.rb:246:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:295:in `calculate_and_send_results'
  [1m[36mTestResult Update (4.0ms)[0m  [1m[33mUPDATE "test_results" SET "score" = ?, "completed_at" = ?, "updated_at" = ? WHERE "test_results"."id" = ?[0m  [["score", 30], ["completed_at", "2025-10-08 05:48:57.697804"], ["updated_at", "2025-10-08 05:48:57.698274"], ["id", 12]]
  â†³ app/controllers/telegram_webhooks_controller.rb:295:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:295:in `calculate_and_send_results'
Completed 200 OK in 438ms (Views: 0.1ms | ActiveRecord: 15.8ms | Allocations: 12523)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:49:05 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315513, "message"=>{"message_id"=>552, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902545, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315513, "message"=>{"message_id"=>552, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902545, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 399ms (Views: 0.2ms | ActiveRecord: 0.7ms | Allocations: 1586)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:49:07 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315514, "callback_query"=>{"id"=>"2650224936039693473", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>553, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902545, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"show_test_categories"}, "telegram_webhook"=>{"update_id"=>165315514, "callback_query"=>{"id"=>"2650224936039693473", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>553, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902545, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"show_test_categories"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:58:in `message'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests"[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:106:in `show_test_categories'
Completed 200 OK in 342ms (Views: 0.2ms | ActiveRecord: 0.5ms | Allocations: 2142)


[dotenv] Set [36mTELEGRAM_BOT_TOKEN[0m
[dotenv] Loaded [33m.env[0m
Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:51:37 +0500
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315515, "message"=>{"message_id"=>555, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902696, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}, "telegram_webhook"=>{"update_id"=>165315515, "message"=>{"message_id"=>555, "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902696, "text"=>"/start", "entities"=>[{"offset"=>0, "length"=>6, "type"=>"bot_command"}]}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:13:in `message'
Completed 200 OK in 483ms (Views: 0.3ms | ActiveRecord: 12.6ms | Allocations: 28627)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:51:40 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315516, "callback_query"=>{"id"=>"2650224933734350174", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>556, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902698, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"show_test_categories"}, "telegram_webhook"=>{"update_id"=>165315516, "callback_query"=>{"id"=>"2650224933734350174", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>556, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902698, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"show_test_categories"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:48:in `message'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests"[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:107:in `show_test_categories'
Completed 200 OK in 400ms (Views: 0.2ms | ActiveRecord: 1.2ms | Allocations: 7513)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:51:41 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315517, "callback_query"=>{"id"=>"2650224935570774003", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>557, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902700, "text"=>"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ‚ÐµÑÑ‚:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"back_to_main_menu"}, "telegram_webhook"=>{"update_id"=>165315517, "callback_query"=>{"id"=>"2650224935570774003", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>557, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902700, "text"=>"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ‚ÐµÑÑ‚:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"back_to_main_menu"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:48:in `message'
Completed 200 OK in 335ms (Views: 0.2ms | ActiveRecord: 0.2ms | Allocations: 1475)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:51:46 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315518, "callback_query"=>{"id"=>"2650224934311720344", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>558, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902701, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"show_test_categories"}, "telegram_webhook"=>{"update_id"=>165315518, "callback_query"=>{"id"=>"2650224934311720344", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>558, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902701, "text"=>"ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"show_test_categories"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:48:in `message'
  [1m[36mTest Load (0.1ms)[0m  [1m[34mSELECT "tests".* FROM "tests"[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:107:in `show_test_categories'
Completed 200 OK in 343ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 2155)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:51:48 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315519, "callback_query"=>{"id"=>"2650224934088088341", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>559, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902706, "text"=>"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ‚ÐµÑÑ‚:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_depression_test"}, "telegram_webhook"=>{"update_id"=>165315519, "callback_query"=>{"id"=>"2650224934088088341", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>559, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902706, "text"=>"Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ‚ÐµÑÑ‚:", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"start_depression_test"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:48:in `message'
  [1m[36mTest Load (0.9ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."name" = ? LIMIT ?[0m  [["name", "Ð¢ÐµÑÑ‚ Ð”ÐµÐ¿Ñ€ÐµÑÑÐ¸Ð¸ (PHQ-9)"], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:150:in `start_depression_test'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:158:in `start_depression_test'
  [1m[36mTestResult Create (2.9ms)[0m  [1m[32mINSERT INTO "test_results" ("user_id", "test_id", "score", "completed_at", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["user_id", 1], ["test_id", 2], ["score", nil], ["completed_at", nil], ["created_at", "2025-10-08 05:51:48.355103"], ["updated_at", "2025-10-08 05:51:48.355103"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:158:in `start_depression_test'
  [1m[36mTRANSACTION (41.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:158:in `start_depression_test'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:159:in `start_depression_test'
  [1m[36mAnswerOption Load (0.8ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 21]]
  â†³ app/controllers/telegram_webhooks_controller.rb:188:in `map'
Callback data for option: Ð¡Ð¾Ð²ÑÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°Ð»Ð¾ - answer_21_81_13
Callback data for option: ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð½ÐµÐ¹ - answer_21_82_13
Callback data for option: Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñ‹ Ð´Ð½ÐµÐ¹ - answer_21_83_13
Callback data for option: ÐŸÐ¾Ñ‡Ñ‚Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ - answer_21_84_13
Sending question with markup: {"inline_keyboard":[[{"text":"Ð¡Ð¾Ð²ÑÐµÐ¼ Ð½Ðµ Ð±Ñ‹Ð²Ð°Ð»Ð¾","callback_data":"answer_21_81_13"}],[{"text":"ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð´Ð½ÐµÐ¹","callback_data":"answer_21_82_13"}],[{"text":"Ð‘Ð¾Ð»ÑŒÑˆÐµ Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ñ‹ Ð´Ð½ÐµÐ¹","callback_data":"answer_21_83_13"}],[{"text":"ÐŸÐ¾Ñ‡Ñ‚Ð¸ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ","callback_data":"answer_21_84_13"}]]}
Completed 200 OK in 527ms (Views: 0.5ms | ActiveRecord: 49.2ms | Allocations: 26956)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:51:55 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315520, "callback_query"=>{"id"=>"2650224934076973452", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>560, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902708, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼, ÑƒÐ³Ð½ÐµÑ‚ÐµÐ½Ð½Ñ‹Ð¼ Ð¸Ð»Ð¸ Ð±ÐµÐ·Ð½Ð°Ð´ÐµÐ¶Ð½Ñ‹Ð¼?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_82_13"}, "telegram_webhook"=>{"update_id"=>165315520, "callback_query"=>{"id"=>"2650224934076973452", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>560, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902708, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ Ð¿Ð¾Ð´Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼, ÑƒÐ³Ð½ÐµÑ‚ÐµÐ½Ð½Ñ‹Ð¼ Ð¸Ð»Ð¸ Ð±ÐµÐ·Ð½Ð°Ð´ÐµÐ¶Ð½Ñ‹Ð¼?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_21_82_13"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:48:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=21, answer_option_id=82, test_result_id=13
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 82], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTestResult Load (0.4ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:207:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mAnswer Create (2.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 13], ["question_id", 21], ["answer_option_id", 82], ["created_at", "2025-10-08 05:51:55.646735"], ["updated_at", "2025-10-08 05:51:55.646735"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mQuestion Load (1.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 21 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:212:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 22]]
  â†³ app/controllers/telegram_webhooks_controller.rb:228:in `map'
Completed 200 OK in 411ms (Views: 0.3ms | ActiveRecord: 8.3ms | Allocations: 12953)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:51:56 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315521, "callback_query"=>{"id"=>"2650224935477726001", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>561, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902715, "text"=>"Ð¢ÐµÑ€ÑÐ»Ð¸ Ð»Ð¸ Ð²Ñ‹ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑ Ð¸Ð»Ð¸ ÑƒÐ´Ð¾Ð²Ð¾Ð»ÑŒÑÑ‚Ð²Ð¸Ðµ Ð¾Ñ‚ Ð´ÐµÐ», ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð²Ð°Ð¼ Ð½Ñ€Ð°Ð²Ð¸Ð»Ð¸ÑÑŒ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_86_13"}, "telegram_webhook"=>{"update_id"=>165315521, "callback_query"=>{"id"=>"2650224935477726001", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>561, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902715, "text"=>"Ð¢ÐµÑ€ÑÐ»Ð¸ Ð»Ð¸ Ð²Ñ‹ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑ Ð¸Ð»Ð¸ ÑƒÐ´Ð¾Ð²Ð¾Ð»ÑŒÑÑ‚Ð²Ð¸Ðµ Ð¾Ñ‚ Ð´ÐµÐ», ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð²Ð°Ð¼ Ð½Ñ€Ð°Ð²Ð¸Ð»Ð¸ÑÑŒ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_22_86_13"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:48:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=22, answer_option_id=86, test_result_id=13
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 86], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTestResult Load (0.7ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:207:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mAnswer Create (5.4ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 13], ["question_id", 22], ["answer_option_id", 86], ["created_at", "2025-10-08 05:51:56.960525"], ["updated_at", "2025-10-08 05:51:56.960525"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 22 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:212:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 23]]
  â†³ app/controllers/telegram_webhooks_controller.rb:228:in `map'
Completed 200 OK in 360ms (Views: 0.2ms | ActiveRecord: 7.6ms | Allocations: 6562)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:51:58 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315522, "callback_query"=>{"id"=>"2650224937345506607", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>562, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902717, "text"=>"Ð‘Ñ‹Ð»Ð¸ Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ ÑÐ¾ ÑÐ½Ð¾Ð¼, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð·Ð°ÑÑ‹Ð¿Ð°Ð½Ð¸ÐµÐ¼, ÑÐ½Ð¾Ð¼ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð½Ð¾Ñ‡Ð¸ Ð¸Ð»Ð¸ ÑÐ½Ð¾Ð¼ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð½Ð¾Ð³Ð¾?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_23_90_13"}, "telegram_webhook"=>{"update_id"=>165315522, "callback_query"=>{"id"=>"2650224937345506607", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>562, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902717, "text"=>"Ð‘Ñ‹Ð»Ð¸ Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ ÑÐ¾ ÑÐ½Ð¾Ð¼, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð·Ð°ÑÑ‹Ð¿Ð°Ð½Ð¸ÐµÐ¼, ÑÐ½Ð¾Ð¼ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð½Ð¾Ñ‡Ð¸ Ð¸Ð»Ð¸ ÑÐ½Ð¾Ð¼ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð½Ð¾Ð³Ð¾?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_23_90_13"}}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:48:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=23, answer_option_id=90, test_result_id=13
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 90], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:207:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mAnswer Create (3.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 13], ["question_id", 23], ["answer_option_id", 90], ["created_at", "2025-10-08 05:51:58.041826"], ["updated_at", "2025-10-08 05:51:58.041826"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTest Load (0.2ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 23 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:212:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 24]]
  â†³ app/controllers/telegram_webhooks_controller.rb:228:in `map'
Completed 200 OK in 379ms (Views: 0.3ms | ActiveRecord: 5.1ms | Allocations: 6353)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:51:59 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315523, "callback_query"=>{"id"=>"2650224934746296220", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>563, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902718, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ ÑƒÑÑ‚Ð°Ð²ÑˆÐ¸Ð¼ Ð¸Ð»Ð¸ Ð¸Ð·Ð¼Ð¾Ñ‚Ð°Ð½Ð½Ñ‹Ð¼?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_24_94_13"}, "telegram_webhook"=>{"update_id"=>165315523, "callback_query"=>{"id"=>"2650224934746296220", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>563, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902718, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ ÑƒÑÑ‚Ð°Ð²ÑˆÐ¸Ð¼ Ð¸Ð»Ð¸ Ð¸Ð·Ð¼Ð¾Ñ‚Ð°Ð½Ð½Ñ‹Ð¼?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_24_94_13"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:48:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=24, answer_option_id=94, test_result_id=13
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 94], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTestResult Load (0.3ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:207:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mAnswer Create (3.3ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 13], ["question_id", 24], ["answer_option_id", 94], ["created_at", "2025-10-08 05:51:59.115789"], ["updated_at", "2025-10-08 05:51:59.115789"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 24 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:212:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 25]]
  â†³ app/controllers/telegram_webhooks_controller.rb:228:in `map'
Completed 200 OK in 373ms (Views: 0.3ms | ActiveRecord: 6.3ms | Allocations: 6357)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:52:01 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315524, "callback_query"=>{"id"=>"2650224936323159506", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>564, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902719, "text"=>"Ð‘Ñ‹Ð» Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ð¿Ð»Ð¾Ñ…Ð¾Ð¹ Ð°Ð¿Ð¿ÐµÑ‚Ð¸Ñ‚ Ð¸Ð»Ð¸ Ð²Ñ‹ Ð¿ÐµÑ€ÐµÐµÐ´Ð°Ð»Ð¸?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_25_98_13"}, "telegram_webhook"=>{"update_id"=>165315524, "callback_query"=>{"id"=>"2650224936323159506", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>564, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902719, "text"=>"Ð‘Ñ‹Ð» Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ð¿Ð»Ð¾Ñ…Ð¾Ð¹ Ð°Ð¿Ð¿ÐµÑ‚Ð¸Ñ‚ Ð¸Ð»Ð¸ Ð²Ñ‹ Ð¿ÐµÑ€ÐµÐµÐ´Ð°Ð»Ð¸?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_25_98_13"}}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:48:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=25, answer_option_id=98, test_result_id=13
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 98], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:207:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mAnswer Create (4.2ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 13], ["question_id", 25], ["answer_option_id", 98], ["created_at", "2025-10-08 05:52:01.431903"], ["updated_at", "2025-10-08 05:52:01.431903"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTest Load (0.5ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 25 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:212:in `process_answer'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 26]]
  â†³ app/controllers/telegram_webhooks_controller.rb:228:in `map'
Completed 200 OK in 394ms (Views: 0.7ms | ActiveRecord: 7.3ms | Allocations: 6614)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:52:02 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315525, "callback_query"=>{"id"=>"2650224936814975543", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>565, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902721, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ Ð¿Ð»Ð¾Ñ…Ð¾ Ð¿Ð¾ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸ÑŽ Ðº ÑÐµÐ±Ðµ - Ð¸Ð»Ð¸ Ð´ÑƒÐ¼Ð°Ð»Ð¸, Ñ‡Ñ‚Ð¾ Ð²Ñ‹ Ð½ÐµÑƒÐ´Ð°Ñ‡Ð½Ð¸Ðº Ð¸Ð»Ð¸ Ð¿Ð¾Ð´Ð²ÐµÐ»Ð¸ ÑÐµÐ±Ñ Ð¸Ð»Ð¸ ÑÐ²Ð¾ÑŽ ÑÐµÐ¼ÑŒÑŽ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_26_102_13"}, "telegram_webhook"=>{"update_id"=>165315525, "callback_query"=>{"id"=>"2650224936814975543", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>565, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902721, "text"=>"Ð§ÑƒÐ²ÑÑ‚Ð²Ð¾Ð²Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹ ÑÐµÐ±Ñ Ð¿Ð»Ð¾Ñ…Ð¾ Ð¿Ð¾ Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸ÑŽ Ðº ÑÐµÐ±Ðµ - Ð¸Ð»Ð¸ Ð´ÑƒÐ¼Ð°Ð»Ð¸, Ñ‡Ñ‚Ð¾ Ð²Ñ‹ Ð½ÐµÑƒÐ´Ð°Ñ‡Ð½Ð¸Ðº Ð¸Ð»Ð¸ Ð¿Ð¾Ð´Ð²ÐµÐ»Ð¸ ÑÐµÐ±Ñ Ð¸Ð»Ð¸ ÑÐ²Ð¾ÑŽ ÑÐµÐ¼ÑŒÑŽ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_26_102_13"}}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:48:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=26, answer_option_id=102, test_result_id=13
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 102], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTestResult Load (0.5ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:207:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mAnswer Create (3.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 13], ["question_id", 26], ["answer_option_id", 102], ["created_at", "2025-10-08 05:52:02.785110"], ["updated_at", "2025-10-08 05:52:02.785110"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 26 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:212:in `process_answer'
  [1m[36mAnswerOption Load (0.1ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 27]]
  â†³ app/controllers/telegram_webhooks_controller.rb:228:in `map'
Completed 200 OK in 385ms (Views: 0.3ms | ActiveRecord: 6.1ms | Allocations: 6487)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:52:04 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315526, "callback_query"=>{"id"=>"2650224936003536271", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>566, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902723, "text"=>"Ð‘Ñ‹Ð»Ð¸ Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸ Ñ ÐºÐ¾Ð½Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ñ†Ð¸ÐµÐ¹, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¿Ñ€Ð¸ Ñ‡Ñ‚ÐµÐ½Ð¸Ð¸ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ðµ Ñ‚ÐµÐ»ÐµÐ²Ð¸Ð·Ð¾Ñ€Ð°?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_27_106_13"}, "telegram_webhook"=>{"update_id"=>165315526, "callback_query"=>{"id"=>"2650224936003536271", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>566, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902723, "text"=>"Ð‘Ñ‹Ð»Ð¸ Ð»Ð¸ Ñƒ Ð²Ð°Ñ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ÑÑ‚Ð¸ Ñ ÐºÐ¾Ð½Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ñ†Ð¸ÐµÐ¹, Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, Ð¿Ñ€Ð¸ Ñ‡Ñ‚ÐµÐ½Ð¸Ð¸ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ðµ Ñ‚ÐµÐ»ÐµÐ²Ð¸Ð·Ð¾Ñ€Ð°?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_27_106_13"}}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:48:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=27, answer_option_id=106, test_result_id=13
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 106], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:207:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mAnswer Create (6.6ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 13], ["question_id", 27], ["answer_option_id", 106], ["created_at", "2025-10-08 05:52:04.742164"], ["updated_at", "2025-10-08 05:52:04.742164"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mQuestion Load (0.4ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 27 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:212:in `process_answer'
  [1m[36mAnswerOption Load (0.6ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 28]]
  â†³ app/controllers/telegram_webhooks_controller.rb:228:in `map'
Completed 200 OK in 510ms (Views: 0.1ms | ActiveRecord: 9.9ms | Allocations: 6749)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:52:06 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315527, "callback_query"=>{"id"=>"2650224933914569352", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>567, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902725, "text"=>"Ð’Ñ‹ Ð´Ð²Ð¸Ð³Ð°Ð»Ð¸ÑÑŒ Ð¸Ð»Ð¸ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ð»Ð¸ Ñ‚Ð°Ðº Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾ Ð·Ð°Ð¼ÐµÑ‚Ð¸Ð»Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð»ÑŽÐ´Ð¸? Ð˜Ð»Ð¸, Ð½Ð°Ð¾Ð±Ð¾Ñ€Ð¾Ñ‚, Ð²Ñ‹ Ð±Ñ‹Ð»Ð¸ Ð½Ð°ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½Ñ‹, Ñ‡Ñ‚Ð¾ Ð²Ð°Ð¼ Ð±Ñ‹Ð»Ð¾ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑƒÑÐ¸Ð´ÐµÑ‚ÑŒ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_28_110_13"}, "telegram_webhook"=>{"update_id"=>165315527, "callback_query"=>{"id"=>"2650224933914569352", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>567, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902725, "text"=>"Ð’Ñ‹ Ð´Ð²Ð¸Ð³Ð°Ð»Ð¸ÑÑŒ Ð¸Ð»Ð¸ Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ð»Ð¸ Ñ‚Ð°Ðº Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾ Ð·Ð°Ð¼ÐµÑ‚Ð¸Ð»Ð¸ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð»ÑŽÐ´Ð¸? Ð˜Ð»Ð¸, Ð½Ð°Ð¾Ð±Ð¾Ñ€Ð¾Ñ‚, Ð²Ñ‹ Ð±Ñ‹Ð»Ð¸ Ð½Ð°ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾ Ð±ÐµÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½Ñ‹, Ñ‡Ñ‚Ð¾ Ð²Ð°Ð¼ Ð±Ñ‹Ð»Ð¾ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾ ÑƒÑÐ¸Ð´ÐµÑ‚ÑŒ Ð½Ð° Ð¼ÐµÑÑ‚Ðµ?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_28_110_13"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:48:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=28, answer_option_id=110, test_result_id=13
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 110], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:207:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mAnswer Create (3.8ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 13], ["question_id", 28], ["answer_option_id", 110], ["created_at", "2025-10-08 05:52:06.169602"], ["updated_at", "2025-10-08 05:52:06.169602"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTest Load (0.3ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mQuestion Load (1.0ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 28 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:212:in `process_answer'
  [1m[36mAnswerOption Load (0.2ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."question_id" = ?[0m  [["question_id", 29]]
  â†³ app/controllers/telegram_webhooks_controller.rb:228:in `map'
Completed 200 OK in 415ms (Views: 0.1ms | ActiveRecord: 6.5ms | Allocations: 6490)


Started POST "/telegram_webhooks/message" for 91.108.5.136 at 2025-10-08 10:52:07 +0500
Processing by TelegramWebhooksController#message as HTML
  Parameters: {"update_id"=>165315528, "callback_query"=>{"id"=>"2650224935700535133", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>568, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902726, "text"=>"Ð”ÑƒÐ¼Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹, Ñ‡Ñ‚Ð¾ Ð²Ð°Ð¼ Ð»ÑƒÑ‡ÑˆÐµ Ð±Ñ‹Ñ‚ÑŒ Ð¼ÐµÑ€Ñ‚Ð²Ñ‹Ð¼, Ð¸Ð»Ð¸ Ð¾ Ñ‚Ð¾Ð¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð¸Ñ‚ÑŒ ÑÐµÐ±Ðµ Ð²Ñ€ÐµÐ´?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_29_114_13"}, "telegram_webhook"=>{"update_id"=>165315528, "callback_query"=>{"id"=>"2650224935700535133", "from"=>{"id"=>617053577, "is_bot"=>false, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "language_code"=>"ru"}, "message"=>{"message_id"=>568, "from"=>{"id"=>8332952831, "is_bot"=>true, "first_name"=>"Ð¢Ð²Ð¾Ð¹ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³", "username"=>"YourSelfHelperBot"}, "chat"=>{"id"=>617053577, "first_name"=>"Ð›Ð°Ñ€Ñ‡ÐµÐ½ÐºÐ¾Ð²", "last_name"=>"ÐÐ»ÐµÐºÑÐ°Ð½Ð´Ñ€", "username"=>"larchenkovad", "type"=>"private"}, "date"=>1759902726, "text"=>"Ð”ÑƒÐ¼Ð°Ð»Ð¸ Ð»Ð¸ Ð²Ñ‹, Ñ‡Ñ‚Ð¾ Ð²Ð°Ð¼ Ð»ÑƒÑ‡ÑˆÐµ Ð±Ñ‹Ñ‚ÑŒ Ð¼ÐµÑ€Ñ‚Ð²Ñ‹Ð¼, Ð¸Ð»Ð¸ Ð¾ Ñ‚Ð¾Ð¼, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ð¸Ñ‚ÑŒ ÑÐµÐ±Ðµ Ð²Ñ€ÐµÐ´?", "reply_markup"=>{"inline_keyboard"=>"[FILTERED]"}}, "chat_instance"=>"3052880024709784743", "data"=>"answer_29_114_13"}}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."telegram_id" = ? LIMIT ?[0m  [["telegram_id", 617053577], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:48:in `message'
process_answer called with: chat_id=617053577, user=1, question_id=29, answer_option_id=114, test_result_id=13
  [1m[36mQuestion Load (0.2ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:205:in `process_answer'
  [1m[36mAnswerOption Load (0.3ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" = ? LIMIT ?[0m  [["id", 114], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:206:in `process_answer'
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:207:in `process_answer'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mAnswer Create (4.7ms)[0m  [1m[32mINSERT INTO "answers" ("test_result_id", "question_id", "answer_option_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["test_result_id", 13], ["question_id", 29], ["answer_option_id", 114], ["created_at", "2025-10-08 05:52:07.486057"], ["updated_at", "2025-10-08 05:52:07.486057"]]
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:209:in `process_answer'
  [1m[36mTest Load (0.4ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:211:in `process_answer'
  [1m[36mQuestion Load (0.5ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."test_id" = ? AND (id > 29 AND test_id = 2) ORDER BY "questions"."id" ASC LIMIT ?[0m  [["test_id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:212:in `process_answer'
Ð¢ÐµÑÑ‚ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½, Ð¿Ð¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹
  [1m[36mTestResult Load (0.2ms)[0m  [1m[34mSELECT "test_results".* FROM "test_results" WHERE "test_results"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:242:in `calculate_and_send_results'
  [1m[36mCACHE Test Load (0.0ms)[0m  [1m[34mSELECT "tests".* FROM "tests" WHERE "tests"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/telegram_webhooks_controller.rb:243:in `calculate_and_send_results'
  [1m[36mAnswer Load (0.5ms)[0m  [1m[34mSELECT "answers".* FROM "answers" WHERE "answers"."test_result_id" = ?[0m  [["test_result_id", 13]]
  â†³ app/controllers/telegram_webhooks_controller.rb:247:in `calculate_and_send_results'
  [1m[36mQuestion Load (0.3ms)[0m  [1m[34mSELECT "questions".* FROM "questions" WHERE "questions"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 21], ["id", 22], ["id", 23], ["id", 24], ["id", 25], ["id", 26], ["id", 27], ["id", 28], ["id", 29]]
  â†³ app/controllers/telegram_webhooks_controller.rb:247:in `calculate_and_send_results'
  [1m[36mAnswerOption Load (0.4ms)[0m  [1m[34mSELECT "answer_options".* FROM "answer_options" WHERE "answer_options"."id" IN (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 82], ["id", 86], ["id", 90], ["id", 94], ["id", 98], ["id", 102], ["id", 106], ["id", 110], ["id", 114]]
  â†³ app/controllers/telegram_webhooks_controller.rb:247:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:296:in `calculate_and_send_results'
  [1m[36mTestResult Update (4.2ms)[0m  [1m[33mUPDATE "test_results" SET "score" = ?, "completed_at" = ?, "updated_at" = ? WHERE "test_results"."id" = ?[0m  [["score", 9], ["completed_at", "2025-10-08 05:52:07.535843"], ["updated_at", "2025-10-08 05:52:07.536323"], ["id", 13]]
  â†³ app/controllers/telegram_webhooks_controller.rb:296:in `calculate_and_send_results'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/telegram_webhooks_controller.rb:296:in `calculate_and_send_results'
Completed 200 OK in 400ms (Views: 0.2ms | ActiveRecord: 12.4ms | Allocations: 12261)


